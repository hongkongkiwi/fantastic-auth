const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/GrowthChart-DyBmrCmY.js","assets/main-BdAAzOp_.js","assets/CategoricalChart-Cii7XC8p.js","assets/AreaChart-Dk8yhTIN.js","assets/PlanDistributionChart-B3-_DKOv.js","assets/tooltipContext-CYDmAarO.js"])))=>i.map(i=>d[i]);
import{b as a,H as D,a5 as P,G as A,j as e,I,a6 as i,B as O,K as j,a7 as _,N as L,a8 as k,J as E,a4 as T,a9 as S}from"./main-BdAAzOp_.js";import{C as o,a as c,b as d,c as m,d as u}from"./Card-BgwA5byp.js";import{B as f}from"./Badge-C3IvCy62.js";import{S as x,a as v}from"./Skeleton-ChEia7iB.js";import{c as R}from"./client-logger-6z4YT9ut.js";import{A as B}from"./activity-BRtGihx4.js";import{C as F}from"./circle-check-BGQIKgJL.js";import{C as w}from"./circle-alert-DITzmtt1.js";const G=a.lazy(()=>S(()=>import("./GrowthChart-DyBmrCmY.js"),__vite__mapDeps([0,1,2,3]))),J=a.lazy(()=>S(()=>import("./PlanDistributionChart-B3-_DKOv.js"),__vite__mapDeps([4,1,2,5]))),M=[{month:"Jan",tenants:45,users:1200},{month:"Feb",tenants:52,users:1450},{month:"Mar",tenants:58,users:1680},{month:"Apr",tenants:65,users:1920},{month:"May",tenants:72,users:2150},{month:"Jun",tenants:85,users:2480}],N=[{name:"Free",value:35,color:"#94a3b8"},{name:"Starter",value:28,color:"#6366f1"},{name:"Pro",value:18,color:"#8b5cf6"},{name:"Enterprise",value:4,color:"#ec4899"}],r=Date.now(),U=[{id:1,action:"Tenant Created",tenant:"Acme Corp",user:"John Doe",timestamp:new Date(r-120*1e3).toISOString(),status:"success"},{id:2,action:"Subscription Updated",tenant:"TechStart Inc",user:"Jane Smith",timestamp:new Date(r-300*1e3).toISOString(),status:"success"},{id:3,action:"User Suspended",tenant:"Beta LLC",user:"Admin",timestamp:new Date(r-720*1e3).toISOString(),status:"warning"},{id:4,action:"Invoice Generated",tenant:"Gamma Co",user:"System",timestamp:new Date(r-900*1e3).toISOString(),status:"success"},{id:5,action:"Payment Failed",tenant:"Delta Ltd",user:"System",timestamp:new Date(r-1380*1e3).toISOString(),status:"error"}];function Y(){const[h,C]=a.useState(!0),[n,y]=a.useState(null),p=D(P),g=A();a.useEffect(()=>{(async()=>{try{const t=await p({data:{}});y(t)}catch(t){R.error("Failed to fetch overview",t)}finally{C(!1)}})()},[p]);const l={tenants:{value:12,isPositive:!0},users:{value:8.5,isPositive:!0},mrr:{value:15.3,isPositive:!0},apiCalls:{value:3.2,isPositive:!1}};return e.jsxs("div",{className:"space-y-8",children:[e.jsx(I,{title:"Dashboard",description:"Overview of your platform's performance and key metrics"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:h?e.jsxs(e.Fragment,{children:[e.jsx(x,{}),e.jsx(x,{}),e.jsx(x,{}),e.jsx(x,{})]}):e.jsxs(e.Fragment,{children:[e.jsx(i,{title:"Total Tenants",value:j(n?.tenants?.total??85),trend:l.tenants,icon:e.jsx(O,{className:"h-5 w-5"}),color:"blue"}),e.jsx(i,{title:"Active Users",value:j(n?.users?.total??2480),trend:l.users,icon:e.jsx(_,{className:"h-5 w-5"}),color:"green"}),e.jsx(i,{title:"Monthly Revenue",value:k(n?.revenue?.mrr??12500),trend:l.mrr,icon:e.jsx(L,{className:"h-5 w-5"}),color:"purple"}),e.jsx(i,{title:"API Calls (24h)",value:j(n?.system?.totalApiCalls24h??45200),trend:l.apiCalls,icon:e.jsx(B,{className:"h-5 w-5"}),color:"amber"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(o,{className:"lg:col-span-2",children:[e.jsxs(c,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(d,{children:"Growth Overview"}),e.jsx(m,{children:"Tenant and user growth over the last 6 months"})]}),e.jsx(f,{variant:"muted",children:"Last 6 months"})]}),e.jsx(u,{children:e.jsx("div",{className:"h-[300px]",children:e.jsx(a.Suspense,{fallback:e.jsx(v,{className:"h-[300px] w-full"}),children:e.jsx(G,{data:M})})})})]}),e.jsxs(o,{children:[e.jsxs(c,{children:[e.jsx(d,{children:"Plan Distribution"}),e.jsx(m,{children:"Breakdown by subscription tier"})]}),e.jsxs(u,{children:[e.jsx("div",{className:"h-[200px]",children:e.jsx(a.Suspense,{fallback:e.jsx(v,{className:"h-[200px] w-full"}),children:e.jsx(J,{data:N})})}),e.jsx("div",{className:"mt-4 space-y-2",children:N.map(s=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color}}),e.jsx("span",{className:"text-muted-foreground",children:s.name})]}),e.jsxs("span",{className:"font-medium",children:[s.value,"%"]})]},s.name))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(o,{className:"lg:col-span-2",children:[e.jsxs(c,{children:[e.jsx(d,{children:"Recent Activity"}),e.jsx(m,{children:"Latest actions across the platform"})]}),e.jsx(u,{children:e.jsx("div",{className:"space-y-4",children:U.map((s,t)=>e.jsxs(E.div,{initial:g?!1:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:g?{duration:0}:{delay:t*.05},className:"flex items-start gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:b("p-2 rounded-full shrink-0",s.status==="success"&&"bg-green-500/10 text-green-600",s.status==="warning"&&"bg-amber-500/10 text-amber-600",s.status==="error"&&"bg-red-500/10 text-red-600"),children:[s.status==="success"&&e.jsx(F,{className:"h-4 w-4"}),s.status==="warning"&&e.jsx(w,{className:"h-4 w-4"}),s.status==="error"&&e.jsx(w,{className:"h-4 w-4"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium",children:s.action}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.tenant," â€¢ ",s.user]})]}),e.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:e.jsx("span",{title:s.timestamp,children:T(s.timestamp)})})]},s.id))})})]}),e.jsxs(o,{children:[e.jsxs(c,{children:[e.jsx(d,{children:"System Status"}),e.jsx(m,{children:"Current platform health"})]}),e.jsxs(u,{children:[e.jsx("div",{className:"space-y-4",children:[{name:"API Gateway",status:"operational",latency:"45ms"},{name:"Database",status:"operational",latency:"12ms"},{name:"Auth Service",status:"operational",latency:"28ms"},{name:"Email Service",status:"degraded",latency:"340ms"}].map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:b("w-2 h-2 rounded-full",s.status==="operational"&&"bg-green-500",s.status==="degraded"&&"bg-amber-500",s.status==="down"&&"bg-red-500")}),e.jsx("span",{className:"text-sm font-medium",children:s.name})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:s.latency}),e.jsx(f,{variant:s.status==="operational"?"success":s.status==="degraded"?"warning":"destructive",size:"sm",children:s.status})]})]},s.name))}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Uptime (30d)"}),e.jsx("span",{className:"font-medium",children:"99.98%"})]}),e.jsx("div",{className:"mt-2 h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full w-[99.98%] bg-green-500 rounded-full"})})]})]})]})]})]})}function b(...h){return h.filter(Boolean).join(" ")}export{Y as component};
