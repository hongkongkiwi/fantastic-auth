import{c as O,b as o,j as r,aq as z,P as E,u as G,p as S,s as w,w as K,C as R}from"./main-BdAAzOp_.js";import{u as U}from"./index-CoX5m-mX.js";import{u as X}from"./index-DBCmHaCG.js";import{C as $}from"./check-OH4VeEnu.js";const J=[["path",{d:"M5 12h14",key:"1ays0h"}]],Q=O("minus",J);var y="Checkbox",[V]=K(y),[W,_]=V(y);function Y(t){const{__scopeCheckbox:a,checked:n,children:c,defaultChecked:s,disabled:e,form:f,name:i,onCheckedChange:d,required:b,value:x="on",internal_do_not_use_render:p}=t,[h,v]=G({prop:n,defaultProp:s??!1,onChange:d,caller:y}),[k,C]=o.useState(null),[g,u]=o.useState(null),l=o.useRef(!1),j=k?!!f||!!k.closest("form"):!0,N={checked:h,disabled:e,setChecked:v,control:k,setControl:C,name:i,form:f,value:x,hasConsumerStoppedPropagationRef:l,required:b,defaultChecked:m(s)?!1:s,isFormControl:j,bubbleInput:g,setBubbleInput:u};return r.jsx(W,{scope:a,...N,children:Z(p)?p(N):c})}var B="CheckboxTrigger",M=o.forwardRef(({__scopeCheckbox:t,onKeyDown:a,onClick:n,...c},s)=>{const{control:e,value:f,disabled:i,checked:d,required:b,setControl:x,setChecked:p,hasConsumerStoppedPropagationRef:h,isFormControl:v,bubbleInput:k}=_(B,t),C=S(s,x),g=o.useRef(d);return o.useEffect(()=>{const u=e?.form;if(u){const l=()=>p(g.current);return u.addEventListener("reset",l),()=>u.removeEventListener("reset",l)}},[e,p]),r.jsx(E.button,{type:"button",role:"checkbox","aria-checked":m(d)?"mixed":d,"aria-required":b,"data-state":L(d),"data-disabled":i?"":void 0,disabled:i,value:f,...c,ref:C,onKeyDown:w(a,u=>{u.key==="Enter"&&u.preventDefault()}),onClick:w(n,u=>{p(l=>m(l)?!0:!l),k&&v&&(h.current=u.isPropagationStopped(),h.current||u.stopPropagation())})})});M.displayName=B;var I=o.forwardRef((t,a)=>{const{__scopeCheckbox:n,name:c,checked:s,defaultChecked:e,required:f,disabled:i,value:d,onCheckedChange:b,form:x,...p}=t;return r.jsx(Y,{__scopeCheckbox:n,checked:s,defaultChecked:e,disabled:i,required:f,onCheckedChange:b,name:c,form:x,value:d,internal_do_not_use_render:({isFormControl:h})=>r.jsxs(r.Fragment,{children:[r.jsx(M,{...p,ref:a,__scopeCheckbox:n}),h&&r.jsx(F,{__scopeCheckbox:n})]})})});I.displayName=y;var q="CheckboxIndicator",T=o.forwardRef((t,a)=>{const{__scopeCheckbox:n,forceMount:c,...s}=t,e=_(q,n);return r.jsx(z,{present:c||m(e.checked)||e.checked===!0,children:r.jsx(E.span,{"data-state":L(e.checked),"data-disabled":e.disabled?"":void 0,...s,ref:a,style:{pointerEvents:"none",...t.style}})})});T.displayName=q;var A="CheckboxBubbleInput",F=o.forwardRef(({__scopeCheckbox:t,...a},n)=>{const{control:c,hasConsumerStoppedPropagationRef:s,checked:e,defaultChecked:f,required:i,disabled:d,name:b,value:x,form:p,bubbleInput:h,setBubbleInput:v}=_(A,t),k=S(n,v),C=U(e),g=X(c);o.useEffect(()=>{const l=h;if(!l)return;const j=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(j,"checked").set,D=!s.current;if(C!==e&&P){const H=new Event("click",{bubbles:D});l.indeterminate=m(e),P.call(l,m(e)?!1:e),l.dispatchEvent(H)}},[h,C,e,s]);const u=o.useRef(m(e)?!1:e);return r.jsx(E.input,{type:"checkbox","aria-hidden":!0,defaultChecked:f??u.current,required:i,disabled:d,name:b,value:x,form:p,...a,tabIndex:-1,ref:k,style:{...a.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});F.displayName=A;function Z(t){return typeof t=="function"}function m(t){return t==="indeterminate"}function L(t){return m(t)?"indeterminate":t?"checked":"unchecked"}const ee=o.forwardRef(({className:t,label:a,description:n,error:c,indeterminate:s,...e},f)=>{const i=o.useRef(null);o.useImperativeHandle(f,()=>i.current),o.useEffect(()=>{i.current&&(i.current.indeterminate=s??!1)},[s]);const d=r.jsx(I,{ref:i,className:R("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground","data-[state=indeterminate]:bg-primary data-[state=indeterminate]:text-primary-foreground",c&&"border-destructive focus-visible:ring-destructive",t),...e,children:r.jsx(T,{className:R("flex items-center justify-center text-current"),children:s?r.jsx(Q,{className:"h-3 w-3"}):r.jsx($,{className:"h-3 w-3"})})});return!a&&!n?d:r.jsxs("div",{className:"flex items-start gap-3",children:[d,r.jsxs("div",{className:"grid gap-1.5 leading-none",children:[a&&r.jsx("label",{htmlFor:e.id,className:R("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",c&&"text-destructive"),children:a}),n&&r.jsx("p",{className:"text-xs text-muted-foreground",children:n}),c&&r.jsx("p",{className:"text-xs text-destructive",children:c})]})]})});ee.displayName=I.displayName;export{ee as C};
