import{c as De,b as l,am as Ze,an as Qe,G as ea,H as aa,ao as ra,j as n,I as ta,a6 as $,a8 as F,m as he,ai as na,J as ia,C as sa,L as oa}from"./main-BdAAzOp_.js";import{D as la,b as ca,d as ua}from"./DataTable-DZ4Ke5vQ.js";import{B as ge}from"./Badge-C3IvCy62.js";import{C as _,a as ee,b as ae,c as re,d as te}from"./Card-BgwA5byp.js";import{T as da,a as va,b as ne,c as ie}from"./Tabs-c8LIGITi.js";import{D as ma,b as pa,E as fa,d as xa,e as be}from"./DropdownMenu-DQ1y4H24.js";import{C as ha}from"./circle-check-BGQIKgJL.js";import{C as ga}from"./circle-alert-DITzmtt1.js";import{i as ba,a as H,g as oe,b as le,c as ya,d as ye,e as D,s as ja,f as Ia,h as T,j as Aa,k as z,l as L,m as Me,n as Ke,o as ze,p as Pa,q as ka,r as je,t as Ca,u as Ie,v as Sa,L as V,w as wa,x as Ba,D as de,y as Le,R as Oa,S as Ea,z as Na,Z as ve,A as Te,B as Da,C as Ma,E as Ka,F as za,G as U,H as Re,I as La,J as Ta,K as Ae,M as Fe,N as Ra,O as _e,P as Fa,Q as _a,T as N,U as Wa,V as $a,W as Ga,X as Va,Y as Ua,_ as Pe,$ as Xa,a0 as ke,a1 as Ce}from"./CategoricalChart-Cii7XC8p.js";import{s as M,a as K,u as Ya,G as Ha,C as Ja,A as qa,b as Se,X as we,Y as Be,c as Za}from"./AreaChart-Dk8yhTIN.js";import{S as Qa,C as er,u as We,a as $e,b as Ge}from"./tooltipContext-CYDmAarO.js";import{F as se}from"./file-text-DuD-X2Op.js";import{D as ar}from"./download-B8kCLmm8.js";import"./Input-DmXcK8Ek.js";import"./Skeleton-ChEia7iB.js";import"./Checkbox-C1KPPGQi.js";import"./index-CoX5m-mX.js";import"./index-DBCmHaCG.js";import"./check-OH4VeEnu.js";import"./index-TAemdWJe.js";import"./index-5WLq0AmM.js";const rr=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],tr=De("dollar-sign",rr);const nr=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ir=De("trending-up",nr);var Oe=(e,a,r)=>{var t=r??e;if(!H(t))return oe(t,a,0)},sr=(e,a,r)=>{var t={},s=e.filter(ba),i=e.filter(u=>u.stackId==null),c=s.reduce((u,o)=>{var v=u[o.stackId];return v==null&&(v=[]),v.push(o),u[o.stackId]=v,u},t),d=Object.entries(c).map(u=>{var o,[v,f]=u,y=f.map(h=>h.dataKey),b=Oe(a,r,(o=f[0])===null||o===void 0?void 0:o.barSize);return{stackId:v,dataKeys:y,barSize:b}}),m=i.map(u=>{var o=[u.dataKey].filter(f=>f!=null),v=Oe(a,r,u.barSize);return{stackId:void 0,dataKeys:o,barSize:v}});return[...d,...m]};function Ee(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,t)}return r}function G(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Ee(Object(r),!0).forEach(function(t){or(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function or(e,a,r){return(a=lr(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function lr(e){var a=cr(e,"string");return typeof a=="symbol"?a:a+""}function cr(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function ur(e,a,r,t,s){var i,c=t.length;if(!(c<1)){var d=oe(e,r,0,!0),m,u=[];if(le((i=t[0])===null||i===void 0?void 0:i.barSize)){var o=!1,v=r/c,f=t.reduce((x,A)=>x+(A.barSize||0),0);f+=(c-1)*d,f>=r&&(f-=(c-1)*d,d=0),f>=r&&v>0&&(o=!0,v*=.9,f=c*v);var y=(r-f)/2>>0,b={offset:y-d,size:0};m=t.reduce((x,A)=>{var g,k={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:b.offset+b.size+d,size:o?v:(g=A.barSize)!==null&&g!==void 0?g:0}},I=[...x,k];return b=k.position,I},u)}else{var h=oe(a,r,0,!0);r-2*h-(c-1)*d<=0&&(d=0);var j=(r-2*h-(c-1)*d)/c;j>1&&(j>>=0);var p=le(s)?Math.min(j,s):j;m=t.reduce((x,A,g)=>[...x,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:h+(j+d)*g+(j-p)/2,size:p}}],u)}return m}}var dr=(e,a,r,t,s,i,c)=>{var d=H(c)?a:c,m=ur(r,t,s!==i?s:i,e,d);return s!==i&&m!=null&&(m=m.map(u=>G(G({},u),{},{position:G(G({},u.position),{},{offset:u.position.offset-s/2})}))),m},vr=(e,a)=>{var r=ya(a);if(!(!e||r==null||a==null)){var{stackId:t}=a;if(t!=null){var s=e[t];if(s){var{stackedData:i}=s;if(i)return i.find(c=>c.key===r)}}}},mr=(e,a)=>{if(!(e==null||a==null)){var r=e.find(t=>t.stackId===a.stackId&&a.dataKey!=null&&t.dataKeys.includes(a.dataKey));if(r!=null)return r.position}};function pr(e,a){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&le(e.zIndex)?e.zIndex:a}var fr=["children"];function xr(e,a){if(e==null)return{};var r,t,s=hr(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function hr(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}var gr={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},br=l.createContext(gr);function yr(e){var{children:a}=e,r=xr(e,fr);return l.createElement(br.Provider,{value:r},a)}function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},ce.apply(null,arguments)}function X(e){return l.createElement(Qa,ce({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var jr=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(t,s)=>{if(ye(a))return a;var i=ye(t)||H(t);return i?a(t,s):(i||Ze(!1),r)}},Ir=(e,a,r)=>r,Ar=(e,a)=>a,W=D([Ke,Ar],(e,a)=>e.filter(r=>r.type==="bar").find(r=>r.id===a)),Pr=D([W],e=>e?.maxBarSize),kr=(e,a,r,t)=>t,Cr=D([T,Ke,M,K,Ir],(e,a,r,t,s)=>a.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===t).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Sr=(e,a,r)=>{var t=T(e),s=M(e,a),i=K(e,a);if(!(s==null||i==null))return t==="horizontal"?je(e,"yAxis",i,r):je(e,"xAxis",s,r)},wr=(e,a)=>{var r=T(e),t=M(e,a),s=K(e,a);if(!(t==null||s==null))return r==="horizontal"?Ie(e,"xAxis",t):Ie(e,"yAxis",s)},Br=D([Cr,Ca,wr],sr),Or=(e,a,r)=>{var t,s,i=W(e,a);if(i==null)return 0;var c=M(e,a),d=K(e,a);if(c==null||d==null)return 0;var m=T(e),u=ze(e),{maxBarSize:o}=i,v=H(o)?u:o,f,y;return m==="horizontal"?(f=z(e,"xAxis",c,r),y=L(e,"xAxis",c,r)):(f=z(e,"yAxis",d,r),y=L(e,"yAxis",d,r)),(t=(s=Me(f,y,!0))!==null&&s!==void 0?s:v)!==null&&t!==void 0?t:0},Ve=(e,a,r)=>{var t=T(e),s=M(e,a),i=K(e,a);if(!(s==null||i==null)){var c,d;return t==="horizontal"?(c=z(e,"xAxis",s,r),d=L(e,"xAxis",s,r)):(c=z(e,"yAxis",i,r),d=L(e,"yAxis",i,r)),Me(c,d)}},Er=D([Br,ze,Pa,ka,Or,Ve,Pr],dr),Nr=(e,a,r)=>{var t=M(e,a);if(t!=null)return z(e,"xAxis",t,r)},Dr=(e,a,r)=>{var t=K(e,a);if(t!=null)return z(e,"yAxis",t,r)},Mr=(e,a,r)=>{var t=M(e,a);if(t!=null)return L(e,"xAxis",t,r)},Kr=(e,a,r)=>{var t=K(e,a);if(t!=null)return L(e,"yAxis",t,r)},zr=D([Er,W],mr),Lr=D([Sr,W],vr),Tr=D([ja,Ia,Nr,Dr,Mr,Kr,zr,T,Aa,Ve,Lr,W,kr],(e,a,r,t,s,i,c,d,m,u,o,v,f)=>{var{chartData:y,dataStartIndex:b,dataEndIndex:h}=m;if(!(v==null||c==null||a==null||d!=="horizontal"&&d!=="vertical"||r==null||t==null||s==null||i==null||u==null)){var{data:j}=v,p;if(j!=null&&j.length>0?p=j:p=y?.slice(b,h+1),p!=null)return vt({layout:d,barSettings:v,pos:c,parentViewBox:a,bandSize:u,xAxis:r,yAxis:t,xAxisTicks:s,yAxisTicks:i,stackedData:o,displayedData:p,offset:e,cells:f,dataStartIndex:b})}}),Rr=["index"];function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},ue.apply(null,arguments)}function Fr(e,a){if(e==null)return{};var r,t,s=_r(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _r(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}var Ue=l.createContext(void 0),Wr=e=>{var a=l.useContext(Ue);if(a!=null)return a.stackId;if(e!=null)return Sa(e)},$r=(e,a)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(a),Gr=e=>{var a=l.useContext(Ue);if(a!=null){var{stackId:r}=a;return"url(#".concat($r(r,e),")")}},Xe=e=>{var{index:a}=e,r=Fr(e,Rr),t=Gr(a);return l.createElement(V,ue({className:"recharts-bar-stack-layer",clipPath:t},r))},Vr=["onMouseEnter","onMouseLeave","onClick"],Ur=["value","background","tooltipPosition"],Xr=["id"],Yr=["onMouseEnter","onClick","onMouseLeave"];function O(){return O=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},O.apply(null,arguments)}function Ne(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,t)}return r}function P(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Ne(Object(r),!0).forEach(function(t){Hr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Hr(e,a,r){return(a=Jr(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function Jr(e){var a=qr(e,"string");return typeof a=="symbol"?a:a+""}function qr(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Y(e,a){if(e==null)return{};var r,t,s=Zr(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Zr(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}var Qr=e=>{var{dataKey:a,name:r,fill:t,legendType:s,hide:i}=e;return[{inactive:i,dataKey:a,type:s,color:t,value:Te(r,a),payload:e}]},et=l.memo(e=>{var{dataKey:a,stroke:r,strokeWidth:t,fill:s,name:i,hide:c,unit:d,tooltipType:m,id:u}=e,o={dataDefinedOnItem:void 0,getPosition:Ma,settings:{stroke:r,strokeWidth:t,fill:s,dataKey:a,nameKey:void 0,name:Te(i,a),hide:c,type:m,color:s,unit:d,graphicalItemId:u}};return l.createElement(Da,{tooltipEntrySettings:o})});function at(e){var a=U(Fe),{data:r,dataKey:t,background:s,allOtherBarProps:i}=e,{onMouseEnter:c,onMouseLeave:d,onClick:m}=i,u=Y(i,Vr),o=We(c,t,i.id),v=$e(d),f=Ge(m,t,i.id);if(!s||r==null)return null;var y=Ra(s);return l.createElement(ve,{zIndex:pr(s,de.barBackground)},r.map((b,h)=>{var{value:j,background:p,tooltipPosition:x}=b,A=Y(b,Ur);if(!p)return null;var g=o(b,h),k=v(b,h),I=f(b,h),w=P(P(P(P(P({option:s,isActive:String(h)===a},A),{},{fill:"#eee"},p),y),_e(u,b,h)),{},{onMouseEnter:g,onMouseLeave:k,onClick:I,dataKey:t,index:h,className:"recharts-bar-background-rectangle"});return l.createElement(X,O({key:"background-bar-".concat(h)},w))}))}function rt(e){var{showLabels:a,children:r,rects:t}=e,s=t?.map(i=>{var c={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return P(P({},c),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:c,fill:i.fill})});return l.createElement($a,{value:a?s:void 0},r)}function tt(e){var{shape:a,activeBar:r,baseProps:t,entry:s,index:i,dataKey:c}=e,d=U(Fe),m=U(Va),u=r&&String(i)===d&&(m==null||c===m),o=u?r:a;return u?l.createElement(ve,{zIndex:de.activeBar},l.createElement(Xe,{index:i},l.createElement(X,O({},t,{name:String(t.name)},s,{isActive:u,option:o,index:i,dataKey:c})))):l.createElement(X,O({},t,{name:String(t.name)},s,{isActive:u,option:o,index:i,dataKey:c}))}function nt(e){var{shape:a,baseProps:r,entry:t,index:s,dataKey:i}=e;return l.createElement(X,O({},r,{name:String(r.name)},t,{isActive:!1,option:a,index:s,dataKey:i}))}function it(e){var a,{data:r,props:t}=e,s=(a=Ga(t))!==null&&a!==void 0?a:{},{id:i}=s,c=Y(s,Xr),{shape:d,dataKey:m,activeBar:u}=t,{onMouseEnter:o,onClick:v,onMouseLeave:f}=t,y=Y(t,Yr),b=We(o,m,i),h=$e(f),j=Ge(v,m,i);return r?l.createElement(l.Fragment,null,r.map((p,x)=>l.createElement(Xe,O({index:x,key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(x),className:"recharts-bar-rectangle"},_e(y,p,x),{onMouseEnter:b(p,x),onMouseLeave:h(p,x),onClick:j(p,x)}),u?l.createElement(tt,{shape:d,activeBar:u,baseProps:c,entry:p,index:x,dataKey:m}):l.createElement(nt,{shape:d,baseProps:c,entry:p,index:x,dataKey:m})))):null}function st(e){var{props:a,previousRectanglesRef:r}=e,{data:t,layout:s,isAnimationActive:i,animationBegin:c,animationDuration:d,animationEasing:m,onAnimationEnd:u,onAnimationStart:o}=a,v=r.current,f=Fa(a,"recharts-bar-"),[y,b]=l.useState(!1),h=!y,j=l.useCallback(()=>{typeof u=="function"&&u(),b(!1)},[u]),p=l.useCallback(()=>{typeof o=="function"&&o(),b(!0)},[o]);return l.createElement(rt,{showLabels:h,rects:t},l.createElement(_a,{animationId:f,begin:c,duration:d,isActive:i,easing:m,onAnimationEnd:j,onAnimationStart:p,key:f},x=>{var A=x===1?t:t?.map((g,k)=>{var I=v&&v[k];if(I)return P(P({},g),{},{x:N(I.x,g.x,x),y:N(I.y,g.y,x),width:N(I.width,g.width,x),height:N(I.height,g.height,x)});if(s==="horizontal"){var w=N(0,g.height,x),B=N(g.stackedBarStart,g.y,x);return P(P({},g),{},{y:B,height:w})}var C=N(0,g.width,x),S=N(g.stackedBarStart,g.x,x);return P(P({},g),{},{width:C,x:S})});return x>0&&(r.current=A??null),A==null?null:l.createElement(V,null,l.createElement(it,{props:a,data:A}))}),l.createElement(Wa,{label:a.label}),a.children)}function ot(e){var a=l.useRef(null);return l.createElement(st,{previousRectanglesRef:a,props:e})}var Ye=0,lt=(e,a)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Re(e,a)}};class ct extends l.PureComponent{render(){var{hide:a,data:r,dataKey:t,className:s,xAxisId:i,yAxisId:c,needClip:d,background:m,id:u}=this.props;if(a||r==null)return null;var o=Qe("recharts-bar",s),v=u;return l.createElement(V,{className:o,id:u},d&&l.createElement("defs",null,l.createElement(Ha,{clipPathId:v,xAxisId:i,yAxisId:c})),l.createElement(V,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(v,")"):void 0},l.createElement(at,{data:r,dataKey:t,background:m,allOtherBarProps:this.props}),l.createElement(ot,this.props)))}}var ut={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Ye,xAxisId:0,yAxisId:0,zIndex:de.bar};function dt(e){var{xAxisId:a,yAxisId:r,hide:t,legendType:s,minPointSize:i,activeBar:c,animationBegin:d,animationDuration:m,animationEasing:u,isAnimationActive:o}=e,{needClip:v}=Ya(a,r),f=Ka(),y=Le(),b=za(e.children,er),h=U(x=>Tr(x,e.id,y,b));if(f!=="vertical"&&f!=="horizontal")return null;var j,p=h?.[0];return p==null||p.height==null||p.width==null?j=0:j=f==="vertical"?p.height/2:p.width/2,l.createElement(yr,{xAxisId:a,yAxisId:r,data:h,dataPointFormatter:lt,errorBarOffset:j},l.createElement(ct,O({},e,{layout:f,needClip:v,data:h,xAxisId:a,yAxisId:r,hide:t,legendType:s,minPointSize:i,activeBar:c,animationBegin:d,animationDuration:m,animationEasing:u,isAnimationActive:o})))}function vt(e){var{layout:a,barSettings:{dataKey:r,minPointSize:t},pos:s,bandSize:i,xAxis:c,yAxis:d,xAxisTicks:m,yAxisTicks:u,stackedData:o,displayedData:v,offset:f,cells:y,parentViewBox:b,dataStartIndex:h}=e,j=a==="horizontal"?d:c,p=o?j.scale.domain():null,x=La({numericAxis:j}),A=j.scale.map(x);return v.map((g,k)=>{var I,w,B,C,S,J;if(o){var me=o[k+h];if(me==null)return null;I=Ta(me,p)}else I=Re(g,r),Array.isArray(I)||(I=[x,I]);var E=jr(t,Ye)(I[1],k);if(a==="horizontal"){var q,Z=d.scale.map(I[0]),R=d.scale.map(I[1]);if(Z==null||R==null)return null;w=Ae({axis:c,ticks:m,bandSize:i,offset:s.offset,entry:g,index:k}),B=(q=R??Z)!==null&&q!==void 0?q:void 0,C=s.size;var pe=Z-R;if(S=Ua(pe)?0:pe,J={x:w,y:f.top,width:C,height:f.height},Math.abs(E)>0&&Math.abs(S)<Math.abs(E)){var fe=Pe(S||E)*(Math.abs(E)-Math.abs(S));B-=fe,S+=fe}}else{var Q=c.scale.map(I[0]),xe=c.scale.map(I[1]);if(Q==null||xe==null)return null;if(w=Q,B=Ae({axis:d,ticks:u,bandSize:i,offset:s.offset,entry:g,index:k}),C=xe-Q,S=s.size,J={x:f.left,y:B,width:f.width,height:S},Math.abs(E)>0&&Math.abs(C)<Math.abs(E)){var Je=Pe(C||E)*(Math.abs(E)-Math.abs(C));C+=Je}}if(w==null||B==null||C==null||S==null)return null;var qe=P(P({},g),{},{stackedBarStart:A,x:w,y:B,width:C,height:S,value:o?I:I[1],payload:g,background:J,tooltipPosition:{x:w+C/2,y:B+S/2},parentViewBox:b},y&&y[k]&&y[k].props);return qe}).filter(Boolean)}function mt(e){var a=Ba(e,ut),r=Wr(a.stackId),t=Le();return l.createElement(Oa,{id:a.id,type:"bar"},s=>l.createElement(l.Fragment,null,l.createElement(Ea,{legendPayload:Qr(a)}),l.createElement(et,{dataKey:a.dataKey,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,unit:a.unit,tooltipType:a.tooltipType,id:s}),l.createElement(Na,{type:"bar",id:s,data:void 0,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,stackId:r,hide:a.hide,barSize:a.barSize,minPointSize:a.minPointSize,maxBarSize:a.maxBarSize,isPanorama:t}),l.createElement(ve,{zIndex:a.zIndex},l.createElement(dt,O({},a,{id:s})))))}var He=l.memo(mt,wa);He.displayName="Bar";var pt=["axis","item"],ft=l.forwardRef((e,a)=>l.createElement(Ja,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pt,tooltipPayloadSearcher:Xa,categoricalChartProps:e,ref:a}));const xt=[{month:"Jan",revenue:12500,target:12e3},{month:"Feb",revenue:14200,target:13e3},{month:"Mar",revenue:15800,target:14e3},{month:"Apr",revenue:17100,target:15e3},{month:"May",revenue:18900,target:16e3},{month:"Jun",revenue:21500,target:18e3}],ht={active:{label:"Active",variant:"success"},past_due:{label:"Past Due",variant:"warning"},canceled:{label:"Canceled",variant:"destructive"},trialing:{label:"Trialing",variant:"default"}};function Rt(){const[e,a]=l.useState([]),[r,t]=l.useState(!0),[s,i]=l.useState("overview"),c=ea(),d=aa(ra);l.useEffect(()=>{(async()=>{t(!0);try{const v=await d({data:{}});a(v.data||[])}catch{oa.error("Failed to load subscriptions")}finally{t(!1)}})()},[]);const m=[{accessorKey:"tenantId",header:"Tenant",cell:({row:o})=>n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:o.getValue("tenantId")||"—"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:o.original.id??"—"})]})},{accessorKey:"plan",header:"Plan",cell:({getValue:o})=>n.jsx(ge,{variant:o()==="enterprise"?"warning":o()==="pro"?"success":"default",children:o().charAt(0).toUpperCase()+o().slice(1)})},{accessorKey:"status",header:"Status",cell:ca(ht)},{accessorKey:"amount",header:"Amount",cell:({row:o})=>F(o.original.amount?.total??0)},{accessorKey:"currentPeriodEnd",header:"Renews",cell:ua()},{id:"actions",header:"",cell:()=>n.jsxs(ma,{children:[n.jsx(pa,{asChild:!0,children:n.jsx(he,{variant:"ghost",size:"icon-sm","aria-label":"Open subscription actions",children:n.jsx(fa,{className:"h-4 w-4"})})}),n.jsxs(xa,{align:"end",children:[n.jsxs(be,{children:[n.jsx(se,{className:"mr-2 h-4 w-4"}),"View Invoices"]}),n.jsxs(be,{children:[n.jsx(ar,{className:"mr-2 h-4 w-4"}),"Download Statement"]})]})]})}],u={mrr:21500,arr:258e3,growth:12.5,activeSubs:e.length||85,pastDue:3};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ta,{title:"Billing",description:"Manage subscriptions, invoices, and revenue",breadcrumbs:[{label:"Billing"}]}),n.jsxs(da,{value:s,onValueChange:i,className:"space-y-6",children:[n.jsxs(va,{children:[n.jsx(ne,{value:"overview",children:"Overview"}),n.jsx(ne,{value:"subscriptions",children:"Subscriptions"}),n.jsx(ne,{value:"invoices",children:"Invoices"})]}),n.jsxs(ie,{value:"overview",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx($,{title:"Monthly Recurring Revenue",value:F(u.mrr),trend:{value:u.growth,isPositive:!0},icon:n.jsx(tr,{className:"h-5 w-5"}),color:"green"}),n.jsx($,{title:"Annual Run Rate",value:F(u.arr),icon:n.jsx(ir,{className:"h-5 w-5"}),color:"blue"}),n.jsx($,{title:"Active Subscriptions",value:u.activeSubs,icon:n.jsx(ha,{className:"h-5 w-5"}),color:"purple"}),n.jsx($,{title:"Past Due",value:u.pastDue,icon:n.jsx(ga,{className:"h-5 w-5"}),color:"rose"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(_,{children:[n.jsxs(ee,{children:[n.jsx(ae,{children:"Revenue Overview"}),n.jsx(re,{children:"Monthly recurring revenue vs target"})]}),n.jsx(te,{children:n.jsx("div",{className:"h-[300px]",children:n.jsx(ke,{width:"100%",height:"100%",children:n.jsxs(qa,{data:xt,children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),n.jsx(Se,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),n.jsx(we,{dataKey:"month",stroke:"#64748b",fontSize:12}),n.jsx(Be,{stroke:"#64748b",fontSize:12,tickFormatter:o=>`$${Number(o)/1e3}k`}),n.jsx(Ce,{formatter:o=>F(Number(o??0))}),n.jsx(Za,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue"})]})})})})]}),n.jsxs(_,{children:[n.jsxs(ee,{children:[n.jsx(ae,{children:"Plan Distribution"}),n.jsx(re,{children:"Subscriptions by plan tier"})]}),n.jsx(te,{children:n.jsx("div",{className:"h-[300px]",children:n.jsx(ke,{width:"100%",height:"100%",children:n.jsxs(ft,{data:[{name:"Free",value:35},{name:"Starter",value:28},{name:"Pro",value:18},{name:"Enterprise",value:4}],children:[n.jsx(Se,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),n.jsx(we,{dataKey:"name",stroke:"#64748b",fontSize:12}),n.jsx(Be,{stroke:"#64748b",fontSize:12}),n.jsx(Ce,{}),n.jsx(He,{dataKey:"value",fill:"#6366f1",radius:[4,4,0,0]})]})})})})]})]}),n.jsxs(_,{children:[n.jsxs(ee,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ae,{children:"Recent Invoices"}),n.jsx(re,{children:"Latest billing activity"})]}),n.jsx(he,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(na,{to:"/billing",children:"View All"})})]}),n.jsx(te,{children:n.jsx("div",{className:"space-y-4",children:[{id:"INV-001",tenant:"Acme Corp",amount:299,status:"paid",date:"2024-01-15"},{id:"INV-002",tenant:"TechStart Inc",amount:99,status:"paid",date:"2024-01-14"},{id:"INV-003",tenant:"Beta LLC",amount:599,status:"pending",date:"2024-01-13"},{id:"INV-004",tenant:"Gamma Co",amount:99,status:"overdue",date:"2024-01-10"}].map((o,v)=>n.jsxs(ia.div,{initial:c?!1:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:c?{duration:0}:{delay:v*.05},className:"flex items-center justify-between p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:sa("p-2 rounded-full",o.status==="paid"&&"bg-green-500/10 text-green-600",o.status==="pending"&&"bg-amber-500/10 text-amber-600",o.status==="overdue"&&"bg-red-500/10 text-red-600"),children:n.jsx(se,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:o.id}),n.jsx("p",{className:"text-sm text-muted-foreground",children:o.tenant})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"font-medium",children:F(o.amount)}),n.jsx(ge,{variant:o.status==="paid"?"success":o.status==="pending"?"warning":"destructive",children:o.status})]})]},o.id))})})]})]}),n.jsx(ie,{value:"subscriptions",className:"space-y-6",children:n.jsx(_,{children:n.jsx(la,{columns:m,data:e,isLoading:r,searchable:!0,searchPlaceholder:"Search subscriptions…",pagination:!0,pageSize:10,exportable:!0,exportFileName:"subscriptions"})})}),n.jsx(ie,{value:"invoices",className:"space-y-6",children:n.jsxs(_,{className:"p-12 text-center",children:[n.jsx(se,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Invoice Management"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Full invoice management coming soon"})]})})]})]})}export{Rt as component};
