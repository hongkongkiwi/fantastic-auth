const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/system-7DSlYX2c.js","assets/vendor-DTXcECKj.js","assets/Card-ovhP7agJ.js","assets/Tabs-B49fZEnE.js","assets/Switch-C_TaIxIx.js","assets/internal-api-CvC1OOUg.js","assets/logger-BML-1mmb.js","assets/vendor-motion-DirI8ZVJ.js","assets/vendor-sonner-CauEFWQC.js","assets/vendor-sentry-DWdptYQI.js","assets/settings-Bsg3hGG1.js","assets/Input-CvXUl1_l.js","assets/login-CErEFmYv.js","assets/SocialLoginButtons-DGrqqYSa.js","assets/client-logger-BYl5UQzQ.js","assets/audit-BqBbMEKD.js","assets/DataTable-B1vFbS0r.js","assets/index-Ctm3zXkr.js","assets/Skeleton-Dk1LJCqK.js","assets/index-B7NOISFW.js","assets/DropdownMenu-DLlbKs3-.js","assets/index-jEzd4wsG.js","assets/index-BP6sq0mV.js","assets/vendor-charts-CwKjLNYJ.js","assets/create-DSovUo78.js","assets/_id-Dlxqpad3.js","assets/verify-email-DGTJmb9z.js","assets/HostedLayout-DYymfZHG.js","assets/sign-up-CMPclXg6.js","assets/sign-in-mB4wjFMl.js","assets/oauth-callback-C-g1UvId.js","assets/mfa-mzv3MkbP.js","assets/forgot-password-6vvptti4.js","assets/subscriptions-BP_gXgI0.js","assets/invoices-OQj0VZye.js","assets/webhooks-ChbkjNtv.js","assets/sso-BQg_ygvu.js","assets/security-DQ4Z_-kT.js","assets/api-keys-DPQ2JgsQ.js","assets/switch-BTXzPfAE.js","assets/create-qgm4O_gA.js"])))=>i.map(i=>d[i]);
import{i as Q,n as Xe,t as bs,p as ji,R as Ni,r as x,j as d,a as yt,w as Vi,b as Rs,c as Oi,s as $i,d as In,A as Di,e as Bi,_ as N,f as nt,g as Fn,h as zi,k as Hi,S as Ui,L as Gi,l as _s,m as Cs,o as Es,B as bt,C as gn,q as mn,u as vn,v as yn,x as Zn,y as Wi,z as Rt,X as es,M as Ki,U as Ps,D as Ms,E as Is,F as Jt,G as Fs,O as go,P as qi,H as mo,I as Yi,T as vo,J as yo,K as Qi,N as ts,Q as Gt,V as So,W as Xi,Y as Oe,Z as Ji,$ as gr,a0 as Zi,a1 as ea,a2 as ta,a3 as xo,a4 as na,a5 as sa,a6 as wo,a7 as ra,a8 as Ls,a9 as oa,aa as mr,ab as Mt,ac as ia}from"./vendor-DTXcECKj.js";import{T as aa,t as $e}from"./vendor-sonner-CauEFWQC.js";import{u as Ne,m as H,A as Ee}from"./vendor-motion-DirI8ZVJ.js";import{t as vr,b as yr,i as la,E as ca}from"./vendor-sentry-DWdptYQI.js";const ns=new WeakMap,ua=new WeakMap,Zt={current:[]};let Ln=!1,ft=0;const ut=new Set,It=new Map;function bo(e){for(const n of e){if(Zt.current.includes(n))continue;Zt.current.push(n),n.recompute();const t=ua.get(n);if(t)for(const s of t){const r=ns.get(s);r?.length&&bo(r)}}}function da(e){const n={prevVal:e.prevState,currentVal:e.state};for(const t of e.listeners)t(n)}function fa(e){const n={prevVal:e.prevState,currentVal:e.state};for(const t of e.listeners)t(n)}function Ro(e){if(ft>0&&!It.has(e)&&It.set(e,e.prevState),ut.add(e),!(ft>0)&&!Ln)try{for(Ln=!0;ut.size>0;){const n=Array.from(ut);ut.clear();for(const t of n){const s=It.get(t)??t.prevState;t.prevState=s,da(t)}for(const t of n){const s=ns.get(t);s&&(Zt.current.push(t),bo(s))}for(const t of n){const s=ns.get(t);if(s)for(const r of s)fa(r)}}}finally{Ln=!1,Zt.current=[],It.clear()}}function ha(e){ft++;try{e()}finally{if(ft--,ft===0){const n=ut.values().next().value;n&&Ro(n)}}}function pa(e){return typeof e=="function"}let ga=class{constructor(n,t){this.listeners=new Set,this.subscribe=s=>{var r,o;this.listeners.add(s);const i=(o=(r=this.options)==null?void 0:r.onSubscribe)==null?void 0:o.call(r,s,this);return()=>{this.listeners.delete(s),i?.()}},this.prevState=n,this.state=n,this.options=t}setState(n){var t,s,r;this.prevState=this.state,(t=this.options)!=null&&t.updateFn?this.state=this.options.updateFn(this.prevState)(n):pa(n)?this.state=n(this.prevState):this.state=n,(r=(s=this.options)==null?void 0:s.onUpdate)==null||r.call(s),Ro(this)}};const be="__TSR_index",Sr="popstate",xr="beforeunload";function ma(e){let n=e.getLocation();const t=new Set,s=i=>{n=e.getLocation(),t.forEach(a=>a({location:n,action:i}))},r=i=>{e.notifyOnIndexChange??!0?s(i):n=e.getLocation()},o=async({task:i,navigateOpts:a,...l})=>{if(a?.ignoreBlocker??!1){i();return}const u=e.getBlockers?.()??[],p=l.type==="PUSH"||l.type==="REPLACE";if(typeof document<"u"&&u.length&&p)for(const f of u){const h=en(l.path,l.state);if(await f.blockerFn({currentLocation:n,nextLocation:h,action:l.type})){e.onBlocked?.();return}}i()};return{get location(){return n},get length(){return e.getLength()},subscribers:t,subscribe:i=>(t.add(i),()=>{t.delete(i)}),push:(i,a,l)=>{const c=n.state[be];a=wr(c+1,a),o({task:()=>{e.pushState(i,a),s({type:"PUSH"})},navigateOpts:l,type:"PUSH",path:i,state:a})},replace:(i,a,l)=>{const c=n.state[be];a=wr(c,a),o({task:()=>{e.replaceState(i,a),s({type:"REPLACE"})},navigateOpts:l,type:"REPLACE",path:i,state:a})},go:(i,a)=>{o({task:()=>{e.go(i),r({type:"GO",index:i})},navigateOpts:a,type:"GO"})},back:i=>{o({task:()=>{e.back(i?.ignoreBlocker??!1),r({type:"BACK"})},navigateOpts:i,type:"BACK"})},forward:i=>{o({task:()=>{e.forward(i?.ignoreBlocker??!1),r({type:"FORWARD"})},navigateOpts:i,type:"FORWARD"})},canGoBack:()=>n.state[be]!==0,createHref:i=>e.createHref(i),block:i=>{if(!e.setBlockers)return()=>{};const a=e.getBlockers?.()??[];return e.setBlockers([...a,i]),()=>{const l=e.getBlockers?.()??[];e.setBlockers?.(l.filter(c=>c!==i))}},flush:()=>e.flush?.(),destroy:()=>e.destroy?.(),notify:s}}function wr(e,n){n||(n={});const t=Ts();return{...n,key:t,__TSR_key:t,[be]:e}}function va(e){const n=typeof document<"u"?window:void 0,t=n.history.pushState,s=n.history.replaceState;let r=[];const o=()=>r,i=R=>r=R,a=(R=>R),l=(()=>en(`${n.location.pathname}${n.location.search}${n.location.hash}`,n.history.state));if(!n.history.state?.__TSR_key&&!n.history.state?.key){const R=Ts();n.history.replaceState({[be]:0,key:R,__TSR_key:R},"")}let c=l(),u,p=!1,f=!1,h=!1,m=!1;const g=()=>c;let v,y;const S=()=>{v&&(E._ignoreSubscribers=!0,(v.isPush?n.history.pushState:n.history.replaceState)(v.state,"",v.href),E._ignoreSubscribers=!1,v=void 0,y=void 0,u=void 0)},w=(R,C,L)=>{const T=a(C);y||(u=c),c=en(C,L),v={href:T,state:L,isPush:v?.isPush||R==="push"},y||(y=Promise.resolve().then(()=>S()))},b=R=>{c=l(),E.notify({type:R})},_=async()=>{if(f){f=!1;return}const R=l(),C=R.state[be]-c.state[be],L=C===1,T=C===-1,A=!L&&!T||p;p=!1;const M=A?"GO":T?"BACK":"FORWARD",k=A?{type:"GO",index:C}:{type:T?"BACK":"FORWARD"};if(h)h=!1;else{const me=o();if(typeof document<"u"&&me.length){for(const re of me)if(await re.blockerFn({currentLocation:c,nextLocation:R,action:M})){f=!0,n.history.go(1),E.notify(k);return}}}c=l(),E.notify(k)},P=R=>{if(m){m=!1;return}let C=!1;const L=o();if(typeof document<"u"&&L.length)for(const T of L){const A=T.enableBeforeUnload??!0;if(A===!0){C=!0;break}if(typeof A=="function"&&A()===!0){C=!0;break}}if(C)return R.preventDefault(),R.returnValue=""},E=ma({getLocation:g,getLength:()=>n.history.length,pushState:(R,C)=>w("push",R,C),replaceState:(R,C)=>w("replace",R,C),back:R=>(R&&(h=!0),m=!0,n.history.back()),forward:R=>{R&&(h=!0),m=!0,n.history.forward()},go:R=>{p=!0,n.history.go(R)},createHref:R=>a(R),flush:S,destroy:()=>{n.history.pushState=t,n.history.replaceState=s,n.removeEventListener(xr,P,{capture:!0}),n.removeEventListener(Sr,_)},onBlocked:()=>{u&&c!==u&&(c=u)},getBlockers:o,setBlockers:i,notifyOnIndexChange:!1});return n.addEventListener(xr,P,{capture:!0}),n.addEventListener(Sr,_),n.history.pushState=function(...R){const C=t.apply(n.history,R);return E._ignoreSubscribers||b("PUSH"),C},n.history.replaceState=function(...R){const C=s.apply(n.history,R);return E._ignoreSubscribers||b("REPLACE"),C},E}function ya(e){let n=e.replace(/[\x00-\x1f\x7f]/g,"");return n.startsWith("//")&&(n="/"+n.replace(/^\/+/,"")),n}function en(e,n){const t=ya(e),s=t.indexOf("#"),r=t.indexOf("?"),o=Ts();return{href:t,pathname:t.substring(0,s>0?r>0?Math.min(s,r):s:r>0?r:t.length),hash:s>-1?t.substring(s):"",search:r>-1?t.slice(r,s===-1?void 0:s):"",state:n||{[be]:0,key:o,__TSR_key:o}}}function Ts(){return(Math.random()+1).toString(36).substring(7)}const Sa=!1;function Ue(e){let n;return ha(()=>{n=e()}),n}function St(e){return e[e.length-1]}function xa(e){return typeof e=="function"}function Se(e,n){return xa(e)?e(n):e}const wa=Object.prototype.hasOwnProperty,br=Object.prototype.propertyIsEnumerable;function X(e,n,t=0){if(e===n)return e;if(t>500)return n;const s=n,r=Cr(e)&&Cr(s);if(!r&&!(tn(e)&&tn(s)))return s;const o=r?e:Rr(e);if(!o)return s;const i=r?s:Rr(s);if(!i)return s;const a=o.length,l=i.length,c=r?new Array(l):{};let u=0;for(let p=0;p<l;p++){const f=r?p:i[p],h=e[f],m=s[f];if(h===m){c[f]=h,(r?p<a:wa.call(e,f))&&u++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){c[f]=m;continue}const g=X(h,m,t+1);c[f]=g,g===h&&u++}return a===l&&u===a?e:c}function Rr(e){const n=Object.getOwnPropertyNames(e);for(const r of n)if(!br.call(e,r))return!1;const t=Object.getOwnPropertySymbols(e);if(t.length===0)return n;const s=n;for(const r of t){if(!br.call(e,r))return!1;s.push(r)}return s}function tn(e){if(!_r(e))return!1;const n=e.constructor;if(typeof n>"u")return!0;const t=n.prototype;return!(!_r(t)||!t.hasOwnProperty("isPrototypeOf"))}function _r(e){return Object.prototype.toString.call(e)==="[object Object]"}function Cr(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Fe(e,n,t){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;for(let s=0,r=e.length;s<r;s++)if(!Fe(e[s],n[s],t))return!1;return!0}if(tn(e)&&tn(n)){const s=t?.ignoreUndefined??!0;if(t?.partial){for(const i in n)if((!s||n[i]!==void 0)&&!Fe(e[i],n[i],t))return!1;return!0}let r=0;if(!s)r=Object.keys(e).length;else for(const i in e)e[i]!==void 0&&r++;let o=0;for(const i in n)if((!s||n[i]!==void 0)&&(o++,o>r||!Fe(e[i],n[i],t)))return!1;return r===o}return!1}function Te(e){let n,t;const s=new Promise((r,o)=>{n=r,t=o});return s.status="pending",s.resolve=r=>{s.status="resolved",s.value=r,n(r),e?.(r)},s.reject=r=>{s.status="rejected",t(r)},s}function ba(e){return typeof e?.message!="string"?!1:e.message.startsWith("Failed to fetch dynamically imported module")||e.message.startsWith("error loading dynamically imported module")||e.message.startsWith("Importing a module script failed")}function Ge(e){return!!(e&&typeof e=="object"&&typeof e.then=="function")}function Ra(e){return e.replace(/[\x00-\x1f\x7f]/g,"")}function Er(e){let n;try{n=decodeURI(e)}catch{n=e.replaceAll(/%[0-9A-F]{2}/gi,t=>{try{return decodeURI(t)}catch{return t}})}return Ra(n)}const _o=["http:","https:","mailto:","tel:"];function nn(e){if(!e)return!1;try{const n=new URL(e);return!_o.includes(n.protocol)}catch{return!1}}const _a={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},Ca=/[&><\u2028\u2029]/g;function Ea(e){return e.replace(Ca,n=>_a[n])}function st(e){if(!e)return{path:e,handledProtocolRelativeURL:!1};if(!/[%\\\x00-\x1f\x7f]/.test(e)&&!e.startsWith("//"))return{path:e,handledProtocolRelativeURL:!1};const n=/%25|%5C/gi;let t=0,s="",r;for(;(r=n.exec(e))!==null;)s+=Er(e.slice(t,r.index))+r[0],t=n.lastIndex;s=s+Er(t?e.slice(t):e);let o=!1;return s.startsWith("//")&&(o=!0,s="/"+s.replace(/^\/+/,"")),{path:s,handledProtocolRelativeURL:o}}function Pa(e){return/\s|[^\u0000-\u007F]/.test(e)?e.replace(/\s|[^\u0000-\u007F]/gu,encodeURIComponent):e}function sn(e){const n=new Map;let t,s;const r=o=>{o.next&&(o.prev?(o.prev.next=o.next,o.next.prev=o.prev,o.next=void 0,s&&(s.next=o,o.prev=s)):(o.next.prev=void 0,t=o.next,o.next=void 0,s&&(o.prev=s,s.next=o)),s=o)};return{get(o){const i=n.get(o);if(i)return r(i),i.value},set(o,i){if(n.size>=e&&t){const l=t;n.delete(l.key),l.next&&(t=l.next,l.next.prev=void 0),l===s&&(s=void 0)}const a=n.get(o);if(a)a.value=i,r(a);else{const l={key:o,value:i,prev:s};s&&(s.next=l),s=l,t||(t=l),n.set(o,l)}},clear(){n.clear(),t=void 0,s=void 0}}}const Qe=0,ke=1,Ae=2,xt=3,Pe=4,Co=5;function Ma(e){const n=e.indexOf("{");if(n===-1)return null;const t=e.indexOf("}",n);return t===-1||n+1>=e.length?null:[n,t]}function ks(e,n,t=new Uint16Array(6)){const s=e.indexOf("/",n),r=s===-1?e.length:s,o=e.substring(n,r);if(!o||!o.includes("$"))return t[0]=Qe,t[1]=n,t[2]=n,t[3]=r,t[4]=r,t[5]=r,t;if(o==="$"){const a=e.length;return t[0]=Ae,t[1]=n,t[2]=n,t[3]=a,t[4]=a,t[5]=a,t}if(o.charCodeAt(0)===36)return t[0]=ke,t[1]=n,t[2]=n+1,t[3]=r,t[4]=r,t[5]=r,t;const i=Ma(o);if(i){const[a,l]=i,c=o.charCodeAt(a+1);if(c===45){if(a+2<o.length&&o.charCodeAt(a+2)===36){const u=a+3,p=l;if(u<p)return t[0]=xt,t[1]=n+a,t[2]=n+u,t[3]=n+p,t[4]=n+l+1,t[5]=r,t}}else if(c===36){const u=a+1,p=a+2;return p===l?(t[0]=Ae,t[1]=n+a,t[2]=n+u,t[3]=n+p,t[4]=n+l+1,t[5]=e.length,t):(t[0]=ke,t[1]=n+a,t[2]=n+p,t[3]=n+l,t[4]=n+l+1,t[5]=r,t)}}return t[0]=Qe,t[1]=n,t[2]=n,t[3]=r,t[4]=r,t[5]=r,t}function Sn(e,n,t,s,r,o,i){i?.(t);let a=s;{const l=t.fullPath??t.from,c=l.length,u=t.options?.caseSensitive??e,p=!!(t.options?.params?.parse&&t.options?.skipRouteOnParseError?.params);for(;a<c;){const h=ks(l,a,n);let m;const g=a,v=h[5];switch(a=v+1,o++,h[0]){case Qe:{const S=l.substring(h[2],h[3]);if(u){const w=r.static?.get(S);if(w)m=w;else{r.static??=new Map;const b=Me(t.fullPath??t.from);b.parent=r,b.depth=o,m=b,r.static.set(S,b)}}else{const w=S.toLowerCase(),b=r.staticInsensitive?.get(w);if(b)m=b;else{r.staticInsensitive??=new Map;const _=Me(t.fullPath??t.from);_.parent=r,_.depth=o,m=_,r.staticInsensitive.set(w,_)}}break}case ke:{const S=l.substring(g,h[1]),w=l.substring(h[4],v),b=u&&!!(S||w),_=S?b?S:S.toLowerCase():void 0,P=w?b?w:w.toLowerCase():void 0,E=!p&&r.dynamic?.find(R=>!R.skipOnParamError&&R.caseSensitive===b&&R.prefix===_&&R.suffix===P);if(E)m=E;else{const R=kn(ke,t.fullPath??t.from,b,_,P);m=R,R.depth=o,R.parent=r,r.dynamic??=[],r.dynamic.push(R)}break}case xt:{const S=l.substring(g,h[1]),w=l.substring(h[4],v),b=u&&!!(S||w),_=S?b?S:S.toLowerCase():void 0,P=w?b?w:w.toLowerCase():void 0,E=!p&&r.optional?.find(R=>!R.skipOnParamError&&R.caseSensitive===b&&R.prefix===_&&R.suffix===P);if(E)m=E;else{const R=kn(xt,t.fullPath??t.from,b,_,P);m=R,R.parent=r,R.depth=o,r.optional??=[],r.optional.push(R)}break}case Ae:{const S=l.substring(g,h[1]),w=l.substring(h[4],v),b=u&&!!(S||w),_=S?b?S:S.toLowerCase():void 0,P=w?b?w:w.toLowerCase():void 0,E=kn(Ae,t.fullPath??t.from,b,_,P);m=E,E.parent=r,E.depth=o,r.wildcard??=[],r.wildcard.push(E)}}r=m}if(p&&t.children&&!t.isRoot&&t.id&&t.id.charCodeAt(t.id.lastIndexOf("/")+1)===95){const h=Me(t.fullPath??t.from);h.kind=Co,h.parent=r,o++,h.depth=o,r.pathless??=[],r.pathless.push(h),r=h}const f=(t.path||!t.children)&&!t.isRoot;if(f&&l.endsWith("/")){const h=Me(t.fullPath??t.from);h.kind=Pe,h.parent=r,o++,h.depth=o,r.index=h,r=h}r.parse=t.options?.params?.parse??null,r.skipOnParamError=p,r.parsingPriority=t.options?.skipRouteOnParseError?.priority??0,f&&!r.route&&(r.route=t,r.fullPath=t.fullPath??t.from)}if(t.children)for(const l of t.children)Sn(e,n,l,a,r,o,i)}function Tn(e,n){if(e.skipOnParamError&&!n.skipOnParamError)return-1;if(!e.skipOnParamError&&n.skipOnParamError)return 1;if(e.skipOnParamError&&n.skipOnParamError&&(e.parsingPriority||n.parsingPriority))return n.parsingPriority-e.parsingPriority;if(e.prefix&&n.prefix&&e.prefix!==n.prefix){if(e.prefix.startsWith(n.prefix))return-1;if(n.prefix.startsWith(e.prefix))return 1}if(e.suffix&&n.suffix&&e.suffix!==n.suffix){if(e.suffix.endsWith(n.suffix))return-1;if(n.suffix.endsWith(e.suffix))return 1}return e.prefix&&!n.prefix?-1:!e.prefix&&n.prefix?1:e.suffix&&!n.suffix?-1:!e.suffix&&n.suffix?1:e.caseSensitive&&!n.caseSensitive?-1:!e.caseSensitive&&n.caseSensitive?1:0}function ve(e){if(e.pathless)for(const n of e.pathless)ve(n);if(e.static)for(const n of e.static.values())ve(n);if(e.staticInsensitive)for(const n of e.staticInsensitive.values())ve(n);if(e.dynamic?.length){e.dynamic.sort(Tn);for(const n of e.dynamic)ve(n)}if(e.optional?.length){e.optional.sort(Tn);for(const n of e.optional)ve(n)}if(e.wildcard?.length){e.wildcard.sort(Tn);for(const n of e.wildcard)ve(n)}}function Me(e){return{kind:Qe,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0}}function kn(e,n,t,s,r){return{kind:e,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:n,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0,caseSensitive:t,prefix:s,suffix:r}}function Ia(e,n){const t=Me("/"),s=new Uint16Array(6);for(const r of e)Sn(!1,s,r,1,t,0);ve(t),n.masksTree=t,n.flatCache=sn(1e3)}function Fa(e,n){e||="/";const t=n.flatCache.get(e);if(t)return t;const s=As(e,n.masksTree);return n.flatCache.set(e,s),s}function La(e,n,t,s,r){e||="/",s||="/";const o=n?`case\0${e}`:e;let i=r.singleCache.get(o);if(!i){i=Me("/");const a=new Uint16Array(6);Sn(n,a,{from:e},1,i,0),r.singleCache.set(o,i)}return As(s,i,t)}function Ta(e,n,t=!1){const s=t?e:`nofuzz\0${e}`,r=n.matchCache.get(s);if(r!==void 0)return r;e||="/";let o;try{o=As(e,n.segmentTree,t)}catch(i){if(i instanceof URIError)o=null;else throw i}return o&&(o.branch=ja(o.route)),n.matchCache.set(s,o),o}function ka(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function Aa(e,n=!1,t){const s=Me(e.fullPath),r=new Uint16Array(6),o={},i={};let a=0;return Sn(n,r,e,1,s,0,c=>{if(t?.(c,a),Q(!(c.id in o),`Duplicate routes found with id: ${String(c.id)}`),o[c.id]=c,a!==0&&c.path){const u=ka(c.fullPath);(!i[u]||c.fullPath.endsWith("/"))&&(i[u]=c)}a++}),ve(s),{processedTree:{segmentTree:s,singleCache:sn(1e3),matchCache:sn(1e3),flatCache:null,masksTree:null},routesById:o,routesByPath:i}}function As(e,n,t=!1){const s=e.split("/"),r=Va(e,s,n,t);if(!r)return null;const[o]=Eo(e,s,r);return{route:r.node.route,rawParams:o,parsedParams:r.parsedParams}}function Eo(e,n,t){const s=Na(t.node);let r=null;const o={};let i=t.extract?.part??0,a=t.extract?.node??0,l=t.extract?.path??0,c=t.extract?.segment??0;for(;a<s.length;i++,a++,l++,c++){const u=s[a];if(u.kind===Pe)break;if(u.kind===Co){c--,i--,l--;continue}const p=n[i],f=l;if(p&&(l+=p.length),u.kind===ke){r??=t.node.fullPath.split("/");const h=r[c],m=u.prefix?.length??0;if(h.charCodeAt(m)===123){const v=u.suffix?.length??0,y=h.substring(m+2,h.length-v-1),S=p.substring(m,p.length-v);o[y]=decodeURIComponent(S)}else{const v=h.substring(1);o[v]=decodeURIComponent(p)}}else if(u.kind===xt){if(t.skipped&1<<a){i--,l=f-1;continue}r??=t.node.fullPath.split("/");const h=r[c],m=u.prefix?.length??0,g=u.suffix?.length??0,v=h.substring(m+3,h.length-g-1),y=u.suffix||u.prefix?p.substring(m,p.length-g):p;y&&(o[v]=decodeURIComponent(y))}else if(u.kind===Ae){const h=u,m=e.substring(f+(h.prefix?.length??0),e.length-(h.suffix?.length??0)),g=decodeURIComponent(m);o["*"]=g,o._splat=g;break}}return t.rawParams&&Object.assign(o,t.rawParams),[o,{part:i,node:a,path:l,segment:c}]}function ja(e){const n=[e];for(;e.parentRoute;)e=e.parentRoute,n.push(e);return n.reverse(),n}function Na(e){const n=Array(e.depth+1);do n[e.depth]=e,e=e.parent;while(e);return n}function Va(e,n,t,s){if(e==="/"&&t.index)return{node:t.index,skipped:0};const r=!St(n),o=r&&e!=="/",i=n.length-(r?1:0),a=[{node:t,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let l=null,c=null,u=null;for(;a.length;){const p=a.pop(),{node:f,index:h,skipped:m,depth:g,statics:v,dynamics:y,optionals:S}=p;let{extract:w,rawParams:b,parsedParams:_}=p;if(f.skipOnParamError){if(!An(e,n,p))continue;b=p.rawParams,w=p.extract,_=p.parsedParams}s&&f.route&&f.kind!==Pe&&rt(c,p)&&(c=p);const P=h===i;if(P&&(f.route&&!o&&rt(u,p)&&(u=p),!f.optional&&!f.wildcard&&!f.index&&!f.pathless))continue;const E=P?void 0:n[h];let R;if(P&&f.index){const C={node:f.index,index:h,skipped:m,depth:g+1,statics:v,dynamics:y,optionals:S,extract:w,rawParams:b,parsedParams:_};let L=!0;if(f.index.skipOnParamError&&(An(e,n,C)||(L=!1)),L){if(v===i&&!y&&!S&&!m)return C;rt(u,C)&&(u=C)}}if(f.wildcard&&rt(l,p))for(const C of f.wildcard){const{prefix:L,suffix:T}=C;if(L&&(P||!(C.caseSensitive?E:R??=E.toLowerCase()).startsWith(L)))continue;if(T){if(P)continue;const M=n.slice(h).join("/").slice(-T.length);if((C.caseSensitive?M:M.toLowerCase())!==T)continue}const A={node:C,index:i,skipped:m,depth:g,statics:v,dynamics:y,optionals:S,extract:w,rawParams:b,parsedParams:_};if(!(C.skipOnParamError&&!An(e,n,A))){l=A;break}}if(f.optional){const C=m|1<<g,L=g+1;for(let T=f.optional.length-1;T>=0;T--){const A=f.optional[T];a.push({node:A,index:h,skipped:C,depth:L,statics:v,dynamics:y,optionals:S,extract:w,rawParams:b,parsedParams:_})}if(!P)for(let T=f.optional.length-1;T>=0;T--){const A=f.optional[T],{prefix:M,suffix:k}=A;if(M||k){const me=A.caseSensitive?E:R??=E.toLowerCase();if(M&&!me.startsWith(M)||k&&!me.endsWith(k))continue}a.push({node:A,index:h+1,skipped:m,depth:L,statics:v,dynamics:y,optionals:S+1,extract:w,rawParams:b,parsedParams:_})}}if(!P&&f.dynamic&&E)for(let C=f.dynamic.length-1;C>=0;C--){const L=f.dynamic[C],{prefix:T,suffix:A}=L;if(T||A){const M=L.caseSensitive?E:R??=E.toLowerCase();if(T&&!M.startsWith(T)||A&&!M.endsWith(A))continue}a.push({node:L,index:h+1,skipped:m,depth:g+1,statics:v,dynamics:y+1,optionals:S,extract:w,rawParams:b,parsedParams:_})}if(!P&&f.staticInsensitive){const C=f.staticInsensitive.get(R??=E.toLowerCase());C&&a.push({node:C,index:h+1,skipped:m,depth:g+1,statics:v+1,dynamics:y,optionals:S,extract:w,rawParams:b,parsedParams:_})}if(!P&&f.static){const C=f.static.get(E);C&&a.push({node:C,index:h+1,skipped:m,depth:g+1,statics:v+1,dynamics:y,optionals:S,extract:w,rawParams:b,parsedParams:_})}if(f.pathless){const C=g+1;for(let L=f.pathless.length-1;L>=0;L--){const T=f.pathless[L];a.push({node:T,index:h,skipped:m,depth:C,statics:v,dynamics:y,optionals:S,extract:w,rawParams:b,parsedParams:_})}}}if(u&&l)return rt(l,u)?u:l;if(u)return u;if(l)return l;if(s&&c){let p=c.index;for(let h=0;h<c.index;h++)p+=n[h].length;const f=p===e.length?"/":e.slice(p);return c.rawParams??={},c.rawParams["**"]=decodeURIComponent(f),c}return null}function An(e,n,t){try{const[s,r]=Eo(e,n,t);t.rawParams=s,t.extract=r;const o=t.node.parse(s);return t.parsedParams=Object.assign({},t.parsedParams,o),!0}catch{return null}}function rt(e,n){return e?n.statics>e.statics||n.statics===e.statics&&(n.dynamics>e.dynamics||n.dynamics===e.dynamics&&(n.optionals>e.optionals||n.optionals===e.optionals&&((n.node.kind===Pe)>(e.node.kind===Pe)||n.node.kind===Pe==(e.node.kind===Pe)&&n.depth>e.depth))):!0}function Wt(e){return js(e.filter(n=>n!==void 0).join("/"))}function js(e){return e.replace(/\/{2,}/g,"/")}function Po(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function pe(e){const n=e.length;return n>1&&e[n-1]==="/"?e.replace(/\/{1,}$/,""):e}function Mo(e){return pe(Po(e))}function rn(e,n){return e?.endsWith("/")&&e!=="/"&&e!==`${n}/`?e.slice(0,-1):e}function Oa(e,n,t){return rn(e,t)===rn(n,t)}function $a({base:e,to:n,trailingSlash:t="never",cache:s}){const r=n.startsWith("/"),o=!r&&n===".";let i;if(s){i=r?n:o?e:e+"\0"+n;const p=s.get(i);if(p)return p}let a;if(o)a=e.split("/");else if(r)a=n.split("/");else{for(a=e.split("/");a.length>1&&St(a)==="";)a.pop();const p=n.split("/");for(let f=0,h=p.length;f<h;f++){const m=p[f];m===""?f?f===h-1&&a.push(m):a=[m]:m===".."?a.pop():m==="."||a.push(m)}}a.length>1&&(St(a)===""?t==="never"&&a.pop():t==="always"&&a.push(""));let l,c="";for(let p=0;p<a.length;p++){p>0&&(c+="/");const f=a[p];if(!f)continue;l=ks(f,0,l);const h=l[0];if(h===Qe){c+=f;continue}const m=l[5],g=f.substring(0,l[1]),v=f.substring(l[4],m),y=f.substring(l[2],l[3]);h===ke?c+=g||v?`${g}{$${y}}${v}`:`$${y}`:h===Ae?c+=g||v?`${g}{$}${v}`:"$":c+=`${g}{-$${y}}${v}`}c=js(c);const u=c||"/";return i&&s&&s.set(i,u),u}function Da(e){const n=new Map(e.map(r=>[encodeURIComponent(r),r])),t=Array.from(n.keys()).map(r=>r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),s=new RegExp(t,"g");return r=>r.replace(s,o=>n.get(o)??o)}function jn(e,n,t){const s=n[e];return typeof s!="string"?s:e==="_splat"?/^[a-zA-Z0-9\-._~!/]*$/.test(s)?s:s.split("/").map(r=>Pr(r,t)).join("/"):Pr(s,t)}function Nn({path:e,params:n,decoder:t,...s}){let r=!1;const o={};if(!e||e==="/")return{interpolatedPath:"/",usedParams:o,isMissingParams:r};if(!e.includes("$"))return{interpolatedPath:e,usedParams:o,isMissingParams:r};const i=e.length;let a=0,l,c="";for(;a<i;){const p=a;l=ks(e,p,l);const f=l[5];if(a=f+1,p===f)continue;const h=l[0];if(h===Qe){c+="/"+e.substring(p,f);continue}if(h===Ae){const m=n._splat;o._splat=m,o["*"]=m;const g=e.substring(p,l[1]),v=e.substring(l[4],f);if(!m){r=!0,(g||v)&&(c+="/"+g+v);continue}const y=jn("_splat",n,t);c+="/"+g+y+v;continue}if(h===ke){const m=e.substring(l[2],l[3]);!r&&!(m in n)&&(r=!0),o[m]=n[m];const g=e.substring(p,l[1]),v=e.substring(l[4],f),y=jn(m,n,t)??"undefined";c+="/"+g+y+v;continue}if(h===xt){const m=e.substring(l[2],l[3]),g=n[m];if(g==null)continue;o[m]=g;const v=e.substring(p,l[1]),y=e.substring(l[4],f),S=jn(m,n,t)??"";c+="/"+v+S+y;continue}}return e.endsWith("/")&&(c+="/"),{usedParams:o,interpolatedPath:c||"/",isMissingParams:r}}function Pr(e,n){const t=encodeURIComponent(e);return n?.(t)??t}function K(e){return!!e?.isNotFound}function Ba(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const ss="tsr-scroll-restoration-v1_3",za=(e,n)=>{let t;return(...s)=>{t||(t=setTimeout(()=>{e(...s),t=null},n))}};function Ha(){const e=Ba();if(!e)return null;const n=e.getItem(ss);let t=n?JSON.parse(n):{};return{state:t,set:s=>{t=Se(s,t)||t;try{e.setItem(ss,JSON.stringify(t))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const Ft=Ha(),Ua=e=>e.state.__TSR_key||e.href;function Ga(e){const n=[];let t;for(;t=e.parentNode;)n.push(`${e.tagName}:nth-child(${Array.prototype.indexOf.call(t.children,e)+1})`),e=t;return`${n.reverse().join(" > ")}`.toLowerCase()}let on=!1;function Wa({storageKey:e,key:n,behavior:t,shouldScrollRestoration:s,scrollToTopSelectors:r,location:o}){let i;try{i=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(c){console.error(c);return}const a=n||window.history.state?.__TSR_key,l=i[a];on=!0;e:{if(s&&l&&Object.keys(l).length>0){for(const p in l){const f=l[p];if(p==="window")window.scrollTo({top:f.scrollY,left:f.scrollX,behavior:t});else if(p){const h=document.querySelector(p);h&&(h.scrollLeft=f.scrollX,h.scrollTop=f.scrollY)}}break e}const c=(o??window.location).hash.split("#",2)[1];if(c){const p=window.history.state?.__hashScrollIntoViewOptions??!0;if(p){const f=document.getElementById(c);f&&f.scrollIntoView(p)}break e}const u={top:0,left:0,behavior:t};if(window.scrollTo(u),r)for(const p of r){if(p==="window")continue;const f=typeof p=="function"?p():document.querySelector(p);f&&f.scrollTo(u)}}on=!1}function Ka(e,n){if(!Ft||((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),e.isScrollRestorationSetup||!Ft))return;e.isScrollRestorationSetup=!0,on=!1;const s=e.options.getScrollRestorationKey||Ua;window.history.scrollRestoration="manual";const r=o=>{if(on||!e.isScrollRestoring)return;let i="";if(o.target===document||o.target===window)i="window";else{const l=o.target.getAttribute("data-scroll-restoration-id");l?i=`[data-scroll-restoration-id="${l}"]`:i=Ga(o.target)}const a=s(e.state.location);Ft.set(l=>{const c=l[a]||={},u=c[i]||={};if(i==="window")u.scrollX=window.scrollX||0,u.scrollY=window.scrollY||0;else if(i){const p=document.querySelector(i);p&&(u.scrollX=p.scrollLeft||0,u.scrollY=p.scrollTop||0)}return l})};typeof document<"u"&&document.addEventListener("scroll",za(r,100),!0),e.subscribe("onRendered",o=>{const i=s(o.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}typeof e.options.scrollRestoration=="function"&&!e.options.scrollRestoration({location:e.latestLocation})||(Wa({storageKey:ss,key:i,behavior:e.options.scrollRestorationBehavior,shouldScrollRestoration:e.isScrollRestoring,scrollToTopSelectors:e.options.scrollToTopSelectors,location:e.history.location}),e.isScrollRestoring&&Ft.set(a=>(a[i]||={},a)))})}function qa(e){if(typeof document<"u"&&document.querySelector){const n=e.state.location.state.__hashScrollIntoViewOptions??!0;if(n&&e.state.location.hash!==""){const t=document.getElementById(e.state.location.hash);t&&t.scrollIntoView(n)}}}function Io(e,n=String){const t=new URLSearchParams;for(const s in e){const r=e[s];r!==void 0&&t.set(s,n(r))}return t.toString()}function Vn(e){return e?e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e:""}function Ya(e){const n=new URLSearchParams(e),t={};for(const[s,r]of n.entries()){const o=t[s];o==null?t[s]=Vn(r):Array.isArray(o)?o.push(Vn(r)):t[s]=[o,Vn(r)]}return t}const Qa=Ja(JSON.parse),Xa=Za(JSON.stringify,JSON.parse);function Ja(e){return n=>{n[0]==="?"&&(n=n.substring(1));const t=Ya(n);for(const s in t){const r=t[s];if(typeof r=="string")try{t[s]=e(r)}catch{}}return t}}function Za(e,n){const t=typeof n=="function";function s(r){if(typeof r=="object"&&r!==null)try{return e(r)}catch{}else if(t&&typeof r=="string")try{return n(r),e(r)}catch{}return r}return r=>{const o=Io(r,s);return o?`?${o}`:""}}const ee="__root__";function Fo(e){if(e.statusCode=e.statusCode||e.code||307,!e._builtLocation&&typeof e.href=="string"&&nn(e.href))throw new Error(`Redirect blocked: unsafe protocol in href "${e.href}". Only ${_o.join(", ")} protocols are allowed.`);if(!e._builtLocation&&!e.reloadDocument&&typeof e.href=="string")try{new URL(e.href),e.reloadDocument=!0}catch{}const n=new Headers(e.headers);e.href&&n.get("Location")===null&&n.set("Location",e.href);const t=new Response(null,{status:e.statusCode,headers:n});if(t.options=e,e.throw)throw t;return t}function W(e){return e instanceof Response&&!!e.options}function Lo(e){if(e!==null&&typeof e=="object"&&e.isSerializedRedirect)return Fo(e)}const Kt=e=>{if(!e.rendered)return e.rendered=!0,e.onReady?.()},xn=(e,n)=>!!(e.preload&&!e.router.state.matches.some(t=>t.id===n)),We=(e,n,t=!0)=>{const s={...e.router.options.context??{}},r=t?n:n-1;for(let o=0;o<=r;o++){const i=e.matches[o];if(!i)continue;const a=e.router.getMatch(i.id);a&&Object.assign(s,a.__routeContext,a.__beforeLoadContext)}return s},To=(e,n)=>{const t=e.router.routesById[n.routeId??""]??e.router.routeTree;!t.options.notFoundComponent&&e.router.options?.defaultNotFoundComponent&&(t.options.notFoundComponent=e.router.options.defaultNotFoundComponent),Q(t.options.notFoundComponent);const s=e.matches.find(r=>r.routeId===t.id);Q(s,"Could not find match for route: "+t.id),e.updateMatch(s.id,r=>({...r,status:"notFound",error:n,isFetching:!1})),n.routerCode==="BEFORE_LOAD"&&t.parentRoute&&(n.routeId=t.parentRoute.id,To(e,n))},xe=(e,n,t)=>{if(!(!W(t)&&!K(t))){if(W(t)&&t.redirectHandled&&!t.options.reloadDocument)throw t;if(n){n._nonReactive.beforeLoadPromise?.resolve(),n._nonReactive.loaderPromise?.resolve(),n._nonReactive.beforeLoadPromise=void 0,n._nonReactive.loaderPromise=void 0;const s=W(t)?"redirected":"notFound";n._nonReactive.error=t,e.updateMatch(n.id,r=>({...r,status:s,context:We(e,n.index),isFetching:!1,error:t})),K(t)&&!t.routeId&&(t.routeId=n.routeId),n._nonReactive.loadPromise?.resolve()}throw W(t)?(e.rendered=!0,t.options._fromLocation=e.location,t.redirectHandled=!0,t=e.router.resolveRedirect(t),t):(To(e,t),t)}},ko=(e,n)=>!!e.router.getMatch(n)._nonReactive.dehydrated,ot=(e,n,t,s)=>{const{id:r,routeId:o}=e.matches[n],i=e.router.looseRoutesById[o];if(t instanceof Promise)throw t;t.routerCode=s,e.firstBadMatchIndex??=n,xe(e,e.router.getMatch(r),t);try{i.options.onError?.(t)}catch(a){t=a,xe(e,e.router.getMatch(r),t)}e.updateMatch(r,a=>(a._nonReactive.beforeLoadPromise?.resolve(),a._nonReactive.beforeLoadPromise=void 0,a._nonReactive.loadPromise?.resolve(),{...a,error:t,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},Ao=(e,n,t,s)=>{if(s._nonReactive.pendingTimeout!==void 0)return;const r=t.options.pendingMs??e.router.options.defaultPendingMs;if(!!(e.onReady&&!xn(e,n)&&(t.options.loader||t.options.beforeLoad||Vo(t))&&typeof r=="number"&&r!==1/0&&(t.options.pendingComponent??e.router.options?.defaultPendingComponent))){const i=setTimeout(()=>{Kt(e)},r);s._nonReactive.pendingTimeout=i}},el=(e,n,t)=>{const s=e.router.getMatch(n);if(!s._nonReactive.beforeLoadPromise&&!s._nonReactive.loaderPromise)return;Ao(e,n,t,s);const r=()=>{const o=e.router.getMatch(n);o.preload&&(o.status==="redirected"||o.status==="notFound")&&xe(e,o,o.error)};return s._nonReactive.beforeLoadPromise?s._nonReactive.beforeLoadPromise.then(r):r()},tl=(e,n,t,s)=>{const r=e.router.getMatch(n),o=r._nonReactive.loadPromise;r._nonReactive.loadPromise=Te(()=>{o?.resolve()});const{paramsError:i,searchError:a}=r;i&&ot(e,t,i,"PARSE_PARAMS"),a&&ot(e,t,a,"VALIDATE_SEARCH"),Ao(e,n,s,r);const l=new AbortController;let c=!1;const u=()=>{c||(c=!0,e.updateMatch(n,b=>({...b,isFetching:"beforeLoad",fetchCount:b.fetchCount+1,abortController:l})))},p=()=>{r._nonReactive.beforeLoadPromise?.resolve(),r._nonReactive.beforeLoadPromise=void 0,e.updateMatch(n,b=>({...b,isFetching:!1}))};if(!s.options.beforeLoad){Ue(()=>{u(),p()});return}r._nonReactive.beforeLoadPromise=Te();const f={...We(e,t,!1),...r.__routeContext},{search:h,params:m,cause:g}=r,v=xn(e,n),y={search:h,abortController:l,params:m,preload:v,context:f,location:e.location,navigate:b=>e.router.navigate({...b,_fromLocation:e.location}),buildLocation:e.router.buildLocation,cause:v?"preload":g,matches:e.matches,routeId:s.id,...e.router.options.additionalContext},S=b=>{if(b===void 0){Ue(()=>{u(),p()});return}(W(b)||K(b))&&(u(),ot(e,t,b,"BEFORE_LOAD")),Ue(()=>{u(),e.updateMatch(n,_=>({..._,__beforeLoadContext:b})),p()})};let w;try{if(w=s.options.beforeLoad(y),Ge(w))return u(),w.catch(b=>{ot(e,t,b,"BEFORE_LOAD")}).then(S)}catch(b){u(),ot(e,t,b,"BEFORE_LOAD")}S(w)},nl=(e,n)=>{const{id:t,routeId:s}=e.matches[n],r=e.router.looseRoutesById[s],o=()=>a(),i=()=>tl(e,t,n,r),a=()=>{if(ko(e,t))return;const l=el(e,t,r);return Ge(l)?l.then(i):i()};return o()},sl=(e,n,t)=>{const s=e.router.getMatch(n);if(!s||!t.options.head&&!t.options.scripts&&!t.options.headers)return;const r={ssr:e.router.options.ssr,matches:e.matches,match:s,params:s.params,loaderData:s.loaderData};return Promise.all([t.options.head?.(r),t.options.scripts?.(r),t.options.headers?.(r)]).then(([o,i,a])=>{const l=o?.meta,c=o?.links,u=o?.scripts,p=o?.styles;return{meta:l,links:c,headScripts:u,headers:a,scripts:i,styles:p}})},jo=(e,n,t,s)=>{const r=e.matchPromises[t-1],{params:o,loaderDeps:i,abortController:a,cause:l}=e.router.getMatch(n),c=We(e,t),u=xn(e,n);return{params:o,deps:i,preload:!!u,parentMatchPromise:r,abortController:a,context:c,location:e.location,navigate:p=>e.router.navigate({...p,_fromLocation:e.location}),cause:u?"preload":l,route:s,...e.router.options.additionalContext}},Mr=async(e,n,t,s)=>{try{const r=e.router.getMatch(n);try{(!(Sa??e.router.isServer)||r.ssr===!0)&&No(s);const o=s.options.loader?.(jo(e,n,t,s)),i=s.options.loader&&Ge(o);if((i||s._lazyPromise||s._componentsPromise||s.options.head||s.options.scripts||s.options.headers||r._nonReactive.minPendingPromise)&&e.updateMatch(n,c=>({...c,isFetching:"loader"})),s.options.loader){const c=i?await o:o;xe(e,e.router.getMatch(n),c),c!==void 0&&e.updateMatch(n,u=>({...u,loaderData:c}))}s._lazyPromise&&await s._lazyPromise;const l=r._nonReactive.minPendingPromise;l&&await l,s._componentsPromise&&await s._componentsPromise,e.updateMatch(n,c=>({...c,error:void 0,context:We(e,t),status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(o){let i=o;if(i?.name==="AbortError"){if(r.abortController.signal.aborted){r._nonReactive.loaderPromise?.resolve(),r._nonReactive.loaderPromise=void 0;return}e.updateMatch(n,l=>({...l,status:l.status==="pending"?"success":l.status,isFetching:!1,context:We(e,t)}));return}const a=r._nonReactive.minPendingPromise;a&&await a,K(o)&&await s.options.notFoundComponent?.preload?.(),xe(e,e.router.getMatch(n),o);try{s.options.onError?.(o)}catch(l){i=l,xe(e,e.router.getMatch(n),l)}e.updateMatch(n,l=>({...l,error:i,context:We(e,t),status:"error",isFetching:!1}))}}catch(r){const o=e.router.getMatch(n);o&&(o._nonReactive.loaderPromise=void 0),xe(e,o,r)}},rl=async(e,n)=>{async function t(u,p,f,h){const m=Date.now()-p.updatedAt,g=u?h.options.preloadStaleTime??e.router.options.defaultPreloadStaleTime??3e4:h.options.staleTime??e.router.options.defaultStaleTime??0,v=h.options.shouldReload,y=typeof v=="function"?v(jo(e,s,n,h)):v,{status:S,invalid:w}=f;o=S==="success"&&(w||(y??m>g)),u&&h.options.preload===!1||(o&&!e.sync?(i=!0,(async()=>{try{await Mr(e,s,n,h);const b=e.router.getMatch(s);b._nonReactive.loaderPromise?.resolve(),b._nonReactive.loadPromise?.resolve(),b._nonReactive.loaderPromise=void 0}catch(b){W(b)&&await e.router.navigate(b.options)}})()):(S!=="success"||o&&e.sync)&&await Mr(e,s,n,h))}const{id:s,routeId:r}=e.matches[n];let o=!1,i=!1;const a=e.router.looseRoutesById[r];if(!ko(e,s)){const u=e.router.getMatch(s),p=xn(e,s);if(u._nonReactive.loaderPromise){if(u.status==="success"&&!e.sync&&!u.preload)return u;await u._nonReactive.loaderPromise;const f=e.router.getMatch(s),h=f._nonReactive.error||f.error;h&&xe(e,f,h),f.status==="pending"&&await t(p,u,f,a)}else{const f=p&&!e.router.state.matches.some(m=>m.id===s),h=e.router.getMatch(s);h._nonReactive.loaderPromise=Te(),f!==h.preload&&e.updateMatch(s,m=>({...m,preload:f})),await t(p,u,h,a)}}const l=e.router.getMatch(s);i||(l._nonReactive.loaderPromise?.resolve(),l._nonReactive.loadPromise?.resolve()),clearTimeout(l._nonReactive.pendingTimeout),l._nonReactive.pendingTimeout=void 0,i||(l._nonReactive.loaderPromise=void 0),l._nonReactive.dehydrated=void 0;const c=i?l.isFetching:!1;return c!==l.isFetching||l.invalid!==!1?(e.updateMatch(s,u=>({...u,isFetching:c,invalid:!1})),e.router.getMatch(s)):l};async function Ir(e){const n=Object.assign(e,{matchPromises:[]});n.router.state.matches.some(t=>t._forcePending)&&Kt(n);try{for(let a=0;a<n.matches.length;a++){const l=nl(n,a);Ge(l)&&await l}const t=n.firstBadMatchIndex??n.matches.length;for(let a=0;a<t;a++)n.matchPromises.push(rl(n,a));const r=(await Promise.allSettled(n.matchPromises)).filter(a=>a.status==="rejected").map(a=>a.reason);let o;for(const a of r){if(W(a))throw a;!o&&K(a)&&(o=a)}for(const a of n.matches){const{id:l,routeId:c}=a,u=n.router.looseRoutesById[c];try{const p=sl(n,l,u);if(p){const f=await p;n.updateMatch(l,h=>({...h,...f}))}}catch(p){console.error(`Error executing head for route ${c}:`,p)}}if(o)throw o;const i=Kt(n);Ge(i)&&await i}catch(t){if(K(t)&&!n.preload){const s=Kt(n);throw Ge(s)&&await s,t}if(W(t))throw t}return n.matches}async function No(e){if(!e._lazyLoaded&&e._lazyPromise===void 0&&(e.lazyFn?e._lazyPromise=e.lazyFn().then(n=>{const{id:t,...s}=n.options;Object.assign(e.options,s),e._lazyLoaded=!0,e._lazyPromise=void 0}):e._lazyLoaded=!0),!e._componentsLoaded&&e._componentsPromise===void 0){const n=()=>{const t=[];for(const s of Oo){const r=e.options[s]?.preload;r&&t.push(r())}if(t.length)return Promise.all(t).then(()=>{e._componentsLoaded=!0,e._componentsPromise=void 0});e._componentsLoaded=!0,e._componentsPromise=void 0};e._componentsPromise=e._lazyPromise?e._lazyPromise.then(n):n()}return e._componentsPromise}function Vo(e){for(const n of Oo)if(e.options[n]?.preload)return!0;return!1}const Oo=["component","errorComponent","pendingComponent","notFoundComponent"];function ol(e){return{input:({url:n})=>{for(const t of e)n=rs(t,n);return n},output:({url:n})=>{for(let t=e.length-1;t>=0;t--)n=$o(e[t],n);return n}}}function il(e){const n=Mo(e.basepath),t=`/${n}`,s=`${t}/`,r=e.caseSensitive?t:t.toLowerCase(),o=e.caseSensitive?s:s.toLowerCase();return{input:({url:i})=>{const a=e.caseSensitive?i.pathname:i.pathname.toLowerCase();return a===r?i.pathname="/":a.startsWith(o)&&(i.pathname=i.pathname.slice(t.length)),i},output:({url:i})=>(i.pathname=Wt(["/",n,i.pathname]),i)}}function rs(e,n){const t=e?.input?.({url:n});if(t){if(typeof t=="string")return new URL(t);if(t instanceof URL)return t}return n}function $o(e,n){const t=e?.output?.({url:n});if(t){if(typeof t=="string")return new URL(t);if(t instanceof URL)return t}return n}function al(e){return e instanceof Error?{name:e.name,message:e.message}:{data:e}}function Le(e){const n=e.resolvedLocation,t=e.location,s=n?.pathname!==t.pathname,r=n?.href!==t.href,o=n?.hash!==t.hash;return{fromLocation:n,toLocation:t,pathChanged:s,hrefChanged:r,hashChanged:o}}class ll{constructor(n){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=t=>t(),this.update=t=>{t.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options,r=this.basepath??s?.basepath??"/",o=this.basepath===void 0,i=s?.rewrite;if(this.options={...s,...t},this.isServer=this.options.isServer??typeof document>"u",this.options.pathParamsAllowedCharacters&&(this.pathParamsDecoder=Da(this.options.pathParamsAllowedCharacters)),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.history=va()),this.origin=this.options.origin,this.origin||(window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree){this.routeTree=this.options.routeTree;let f;this.resolvePathCache=sn(1e3),f=this.buildRouteTree(),this.setRoutes(f)}!this.__store&&this.latestLocation&&(this.__store=new ga(ul(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(f=>!["redirected"].includes(f.status))}}}),Ka(this));let a=!1;const l=this.options.basepath??"/",c=this.options.rewrite;if(o||r!==l||i!==c){this.basepath=l;const f=[],h=Mo(l);h&&h!=="/"&&f.push(il({basepath:l})),c&&f.push(c),this.rewrite=f.length===0?void 0:f.length===1?f[0]:ol(f),this.history&&this.updateLatestLocation(),a=!0}a&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const t=Aa(this.routeTree,this.options.caseSensitive,(s,r)=>{s.init({originalIndex:r})});return this.options.routeMasks&&Ia(this.options.routeMasks,t.processedTree),t},this.subscribe=(t,s)=>{const r={eventType:t,fn:s};return this.subscribers.add(r),()=>{this.subscribers.delete(r)}},this.emit=t=>{this.subscribers.forEach(s=>{s.eventType===t.type&&s.fn(t)})},this.parseLocation=(t,s)=>{const r=({pathname:l,search:c,hash:u,href:p,state:f})=>{if(!this.rewrite&&!/[ \x00-\x1f\x7f\u0080-\uffff]/.test(l)){const S=this.options.parseSearch(c),w=this.options.stringifySearch(S);return{href:l+w+u,publicHref:p,pathname:st(l).path,external:!1,searchStr:w,search:X(s?.search,S),hash:st(u.slice(1)).path,state:X(s?.state,f)}}const h=new URL(p,this.origin),m=rs(this.rewrite,h),g=this.options.parseSearch(m.search),v=this.options.stringifySearch(g);return m.search=v,{href:m.href.replace(m.origin,""),publicHref:p,pathname:st(m.pathname).path,external:!!this.rewrite&&m.origin!==this.origin,searchStr:v,search:X(s?.search,g),hash:st(m.hash.slice(1)).path,state:X(s?.state,f)}},o=r(t),{__tempLocation:i,__tempKey:a}=o.state;if(i&&(!a||a===this.tempLocationKey)){const l=r(i);return l.state.key=o.state.key,l.state.__TSR_key=o.state.__TSR_key,delete l.state.__tempLocation,{...l,maskedLocation:o}}return o},this.resolvePathWithBase=(t,s)=>$a({base:t,to:js(s),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(t,s,r)=>typeof t=="string"?this.matchRoutesInternal({pathname:t,search:s},r):this.matchRoutesInternal(t,s),this.getMatchedRoutes=t=>dl({pathname:t,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=t=>{const s=this.getMatch(t);s&&(s.abortController.abort(),clearTimeout(s._nonReactive.pendingTimeout),s._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const t=this.state.matches.filter(o=>o.status==="pending"),s=this.state.matches.filter(o=>o.isFetching==="loader");new Set([...this.state.pendingMatches??[],...t,...s]).forEach(o=>{this.cancelMatch(o.id)})},this.buildLocation=t=>{const s=(o={})=>{const i=o._fromLocation||this.pendingBuiltLocation||this.latestLocation,a=this.matchRoutesLightweight(i);o.from;const l=o.unsafeRelative==="path"?i.pathname:o.from??a.fullPath,c=this.resolvePathWithBase(l,"."),u=a.search,p={...a.params},f=o.to?this.resolvePathWithBase(c,`${o.to}`):this.resolvePathWithBase(c,"."),h=o.params===!1||o.params===null?{}:(o.params??!0)===!0?p:Object.assign(p,Se(o.params,p)),m=Nn({path:f,params:h,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath,g=this.getMatchedRoutes(m);let v=g.matchedRoutes;(g.foundRoute?g.foundRoute.path!=="/"&&g.routeParams["**"]:pe(m))&&this.options.notFoundRoute&&(v=[...v,this.options.notFoundRoute]);let S=!1;if(Object.keys(h).length>0)for(const M of v){const k=M.options.params?.stringify??M.options.stringifyParams;k&&(S=!0,Object.assign(h,k(h)))}const w=t.leaveParams?f:st(S?Nn({path:f,params:h,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath:m).path;let b=u;if(t._includeValidateSearch&&this.options.search?.strict){const M={};v.forEach(k=>{if(k.options.validateSearch)try{Object.assign(M,qt(k.options.validateSearch,{...M,...b}))}catch{}}),b=M}b=fl({search:b,dest:o,destRoutes:v,_includeValidateSearch:t._includeValidateSearch}),b=X(u,b);const _=this.options.stringifySearch(b),P=o.hash===!0?i.hash:o.hash?Se(o.hash,i.hash):void 0,E=P?`#${P}`:"";let R=o.state===!0?i.state:o.state?Se(o.state,i.state):{};R=X(i.state,R);const C=`${w}${_}${E}`;let L,T,A=!1;if(this.rewrite){const M=new URL(C,this.origin),k=$o(this.rewrite,M);L=M.href.replace(M.origin,""),k.origin!==this.origin?(T=k.href,A=!0):T=k.pathname+k.search+k.hash}else L=Pa(C),T=L;return{publicHref:T,href:L,pathname:w,search:b,searchStr:_,state:R,hash:P??"",external:A,unmaskOnReload:o.unmaskOnReload}},r=(o={},i)=>{const a=s(o);let l=i?s(i):void 0;if(!l){const c={};if(this.options.routeMasks){const u=Fa(a.pathname,this.processedTree);if(u){Object.assign(c,u.rawParams);const{from:p,params:f,...h}=u.route,m=f===!1||f===null?{}:(f??!0)===!0?c:Object.assign(c,Se(f,c));i={from:t.from,...h,params:m},l=s(i)}}}return l&&(a.maskedLocation=l),a};return t.mask?r(t,{from:t.from,...t.mask}):r(t)},this.commitLocation=async({viewTransition:t,ignoreBlocker:s,...r})=>{const o=()=>{const l=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];l.forEach(u=>{r.state[u]=this.latestLocation.state[u]});const c=Fe(r.state,this.latestLocation.state);return l.forEach(u=>{delete r.state[u]}),c},i=pe(this.latestLocation.href)===pe(r.href),a=this.commitLocationPromise;if(this.commitLocationPromise=Te(()=>{a?.resolve()}),i&&o())this.load();else{let{maskedLocation:l,hashScrollIntoView:c,...u}=r;l&&(u={...l,state:{...l.state,__tempKey:void 0,__tempLocation:{...u,search:u.searchStr,state:{...u.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(u.unmaskOnReload??this.options.unmaskOnReload??!1)&&(u.state.__tempKey=this.tempLocationKey)),u.state.__hashScrollIntoViewOptions=c??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=t,this.history[r.replace?"replace":"push"](u.publicHref,u.state,{ignoreBlocker:s})}return this.resetNextScroll=r.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:t,resetScroll:s,hashScrollIntoView:r,viewTransition:o,ignoreBlocker:i,href:a,...l}={})=>{if(a){const p=this.history.location.state.__TSR_index,f=en(a,{__TSR_index:t?p:p+1}),h=new URL(f.pathname,this.origin),m=rs(this.rewrite,h);l.to=m.pathname,l.search=this.options.parseSearch(f.search),l.hash=f.hash.slice(1)}const c=this.buildLocation({...l,_includeValidateSearch:!0});this.pendingBuiltLocation=c;const u=this.commitLocation({...c,viewTransition:o,replace:t,resetScroll:s,hashScrollIntoView:r,ignoreBlocker:i});return Promise.resolve().then(()=>{this.pendingBuiltLocation===c&&(this.pendingBuiltLocation=void 0)}),u},this.navigate=async({to:t,reloadDocument:s,href:r,publicHref:o,...i})=>{let a=!1;if(r)try{new URL(`${r}`),a=!0}catch{}if(a&&!s&&(s=!0),s){if(t!==void 0||!r){const c=this.buildLocation({to:t,...i});r=r??c.publicHref,o=o??c.publicHref}const l=!a&&o?o:r;if(nn(l))return Promise.resolve();if(!i.ignoreBlocker){const u=this.history.getBlockers?.()??[];for(const p of u)if(p?.blockerFn&&await p.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return i.replace?window.location.replace(l):window.location.href=l,Promise.resolve()}return this.buildAndCommitLocation({...i,href:r,to:t,_isNavigate:!0})},this.beforeLoad=()=>{this.cancelMatches(),this.updateLatestLocation();const t=this.matchRoutes(this.latestLocation);this.__store.setState(s=>({...s,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:t,cachedMatches:s.cachedMatches.filter(r=>!t.some(o=>o.id===r.id))}))},this.load=async t=>{let s,r,o;for(o=new Promise(a=>{this.startTransition(async()=>{try{this.beforeLoad();const l=this.latestLocation,c=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...Le({resolvedLocation:c,location:l})}),this.emit({type:"onBeforeLoad",...Le({resolvedLocation:c,location:l})}),await Ir({router:this,sync:t?.sync,matches:this.state.pendingMatches,location:l,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let u=[],p=[],f=[];Ue(()=>{this.__store.setState(h=>{const m=h.matches,g=h.pendingMatches||h.matches;return u=m.filter(v=>!g.some(y=>y.id===v.id)),p=g.filter(v=>!m.some(y=>y.id===v.id)),f=g.filter(v=>m.some(y=>y.id===v.id)),{...h,isLoading:!1,loadedAt:Date.now(),matches:g,pendingMatches:void 0,cachedMatches:[...h.cachedMatches,...u.filter(v=>v.status!=="error"&&v.status!=="notFound")]}}),this.clearExpiredCache()}),[[u,"onLeave"],[p,"onEnter"],[f,"onStay"]].forEach(([h,m])=>{h.forEach(g=>{this.looseRoutesById[g.routeId].options[m]?.(g)})})})})}})}catch(l){W(l)?(s=l,this.navigate({...s.options,replace:!0,ignoreBlocker:!0})):K(l)&&(r=l),this.__store.setState(c=>({...c,statusCode:s?s.status:r?404:c.matches.some(u=>u.status==="error")?500:200,redirect:s}))}this.latestLoadPromise===o&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),a()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise;let i;this.hasNotFoundMatch()?i=404:this.__store.state.matches.some(a=>a.status==="error")&&(i=500),i!==void 0&&this.__store.setState(a=>({...a,statusCode:i}))},this.startViewTransition=t=>{const s=this.shouldViewTransition??this.options.defaultViewTransition;if(this.shouldViewTransition=void 0,s&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let r;if(typeof s=="object"&&this.isViewTransitionTypesSupported){const o=this.latestLocation,i=this.state.resolvedLocation,a=typeof s.types=="function"?s.types(Le({resolvedLocation:i,location:o})):s.types;if(a===!1){t();return}r={update:t,types:a}}else r=t;document.startViewTransition(r)}else t()},this.updateMatch=(t,s)=>{this.startTransition(()=>{const r=this.state.pendingMatches?.some(o=>o.id===t)?"pendingMatches":this.state.matches.some(o=>o.id===t)?"matches":this.state.cachedMatches.some(o=>o.id===t)?"cachedMatches":"";r&&this.__store.setState(o=>({...o,[r]:o[r]?.map(i=>i.id===t?s(i):i)}))})},this.getMatch=t=>{const s=r=>r.id===t;return this.state.cachedMatches.find(s)??this.state.pendingMatches?.find(s)??this.state.matches.find(s)},this.invalidate=t=>{const s=r=>t?.filter?.(r)??!0?{...r,invalid:!0,...t?.forcePending||r.status==="error"||r.status==="notFound"?{status:"pending",error:void 0}:void 0}:r;return this.__store.setState(r=>({...r,matches:r.matches.map(s),cachedMatches:r.cachedMatches.map(s),pendingMatches:r.pendingMatches?.map(s)})),this.shouldViewTransition=!1,this.load({sync:t?.sync})},this.getParsedLocationHref=t=>t.publicHref||"/",this.resolveRedirect=t=>{const s=t.headers.get("Location");if(!t.options.href||t.options._builtLocation){const r=t.options._builtLocation??this.buildLocation(t.options),o=this.getParsedLocationHref(r);t.options.href=o,t.headers.set("Location",o)}else if(s)try{const r=new URL(s);if(this.origin&&r.origin===this.origin){const o=r.pathname+r.search+r.hash;t.options.href=o,t.headers.set("Location",o)}}catch{}return t.headers.get("Location")||t.headers.set("Location",t.options.href),t},this.clearCache=t=>{const s=t?.filter;s!==void 0?this.__store.setState(r=>({...r,cachedMatches:r.cachedMatches.filter(o=>!s(o))})):this.__store.setState(r=>({...r,cachedMatches:[]}))},this.clearExpiredCache=()=>{const t=s=>{const r=this.looseRoutesById[s.routeId];if(!r.options.loader)return!0;const o=(s.preload?r.options.preloadGcTime??this.options.defaultPreloadGcTime:r.options.gcTime??this.options.defaultGcTime)??300*1e3;return s.status==="error"?!0:Date.now()-s.updatedAt>=o};this.clearCache({filter:t})},this.loadRouteChunk=No,this.preloadRoute=async t=>{const s=this.buildLocation(t);let r=this.matchRoutes(s,{throwOnError:!0,preload:!0,dest:t});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(a=>a.id)),i=new Set([...o,...this.state.cachedMatches.map(a=>a.id)]);Ue(()=>{r.forEach(a=>{i.has(a.id)||this.__store.setState(l=>({...l,cachedMatches:[...l.cachedMatches,a]}))})});try{return r=await Ir({router:this,matches:r,location:s,preload:!0,updateMatch:(a,l)=>{o.has(a)?r=r.map(c=>c.id===a?l(c):c):this.updateMatch(a,l)}}),r}catch(a){if(W(a))return a.options.reloadDocument?void 0:await this.preloadRoute({...a.options,_fromLocation:s});K(a)||console.error(a);return}},this.matchRoute=(t,s)=>{const r={...t,to:t.to?this.resolvePathWithBase(t.from||"",t.to):void 0,params:t.params||{},leaveParams:!0},o=this.buildLocation(r);if(s?.pending&&this.state.status!=="pending")return!1;const a=(s?.pending===void 0?!this.state.isLoading:s.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,l=La(o.pathname,s?.caseSensitive??!1,s?.fuzzy??!1,a.pathname,this.processedTree);return!l||t.params&&!Fe(l.rawParams,t.params,{partial:!0})?!1:s?.includeSearch??!0?Fe(a.search,o.search,{partial:!0})?l.rawParams:!1:l.rawParams},this.hasNotFoundMatch=()=>this.__store.state.matches.some(t=>t.status==="notFound"||t.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...n,caseSensitive:n.caseSensitive??!1,notFoundMode:n.notFoundMode??"fuzzy",stringifySearch:n.stringifySearch??Xa,parseSearch:n.parseSearch??Qa}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}setRoutes({routesById:n,routesByPath:t,processedTree:s}){this.routesById=n,this.routesByPath=t,this.processedTree=s;const r=this.options.notFoundRoute;r&&(r.init({originalIndex:99999999999}),this.routesById[r.id]=r)}get looseRoutesById(){return this.routesById}getParentContext(n){return n?.id?n.context??this.options.context??void 0:this.options.context??void 0}matchRoutesInternal(n,t){const s=this.getMatchedRoutes(n.pathname),{foundRoute:r,routeParams:o,parsedParams:i}=s;let{matchedRoutes:a}=s,l=!1;(r?r.path!=="/"&&o["**"]:pe(n.pathname))&&(this.options.notFoundRoute?a=[...a,this.options.notFoundRoute]:l=!0);const c=l?pl(this.options.notFoundMode,a):void 0,u=new Array(a.length),p=new Map(this.state.matches.map(f=>[f.routeId,f]));for(let f=0;f<a.length;f++){const h=a[f],m=u[f-1];let g,v,y;{const k=m?.search??n.search,me=m?._strictSearch??void 0;try{const re=qt(h.options.validateSearch,{...k})??void 0;g={...k,...re},v={...me,...re},y=void 0}catch(re){let Ze=re;if(re instanceof an||(Ze=new an(re.message,{cause:re})),t?.throwOnError)throw Ze;g=k,v={},y=Ze}}const S=h.options.loaderDeps?.({search:g})??"",w=S?JSON.stringify(S):"",{interpolatedPath:b,usedParams:_}=Nn({path:h.fullPath,params:o,decoder:this.pathParamsDecoder,server:this.isServer}),P=h.id+b+w,E=this.getMatch(P),R=p.get(h.id),C=E?._strictParams??_;let L;if(!E)try{Fr(h,_,i,C)}catch(k){if(K(k)||W(k)?L=k:L=new cl(k.message,{cause:k}),t?.throwOnError)throw L}Object.assign(o,C);const T=R?"stay":"enter";let A;if(E)A={...E,cause:T,params:R?.params??o,_strictParams:C,search:X(R?R.search:E.search,g),_strictSearch:v};else{const k=h.options.loader||h.options.beforeLoad||h.lazyFn||Vo(h)?"pending":"success";A={id:P,ssr:h.options.ssr,index:f,routeId:h.id,params:R?.params??o,_strictParams:C,pathname:b,updatedAt:Date.now(),search:R?X(R.search,g):g,_strictSearch:v,searchError:void 0,status:k,isFetching:!1,error:void 0,paramsError:L,__routeContext:void 0,_nonReactive:{loadPromise:Te()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:T,loaderDeps:R?X(R.loaderDeps,S):S,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:h.options.staticData||{},fullPath:h.fullPath}}t?.preload||(A.globalNotFound=c===h.id),A.searchError=y;const M=this.getParentContext(m);A.context={...M,...A.__routeContext,...A.__beforeLoadContext},u[f]=A}for(let f=0;f<u.length;f++){const h=u[f],m=this.looseRoutesById[h.routeId],g=this.getMatch(h.id),v=p.get(h.routeId);if(h.params=v?X(v.params,o):o,!g){const y=u[f-1],S=this.getParentContext(y);if(m.options.context){const w={deps:h.loaderDeps,params:h.params,context:S??{},location:n,navigate:b=>this.navigate({...b,_fromLocation:n}),buildLocation:this.buildLocation,cause:h.cause,abortController:h.abortController,preload:!!h.preload,matches:u,routeId:m.id};h.__routeContext=m.options.context(w)??void 0}h.context={...S,...h.__routeContext,...h.__beforeLoadContext}}}return u}matchRoutesLightweight(n){const{matchedRoutes:t,routeParams:s,parsedParams:r}=this.getMatchedRoutes(n.pathname),o=St(t),i={...n.search};for(const u of t)try{Object.assign(i,qt(u.options.validateSearch,i))}catch{}const a=St(this.state.matches),l=a&&a.routeId===o.id&&n.pathname===this.state.location.pathname;let c;if(l)c=a.params;else{const u={...s};for(const p of t)try{Fr(p,s,r??{},u)}catch{}c=u}return{matchedRoutes:t,fullPath:o.fullPath,search:i,params:c}}}class an extends Error{}class cl extends Error{}function ul(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function qt(e,n){if(e==null)return{};if("~standard"in e){const t=e["~standard"].validate(n);if(t instanceof Promise)throw new an("Async validation not supported");if(t.issues)throw new an(JSON.stringify(t.issues,void 0,2),{cause:t});return t.value}return"parse"in e?e.parse(n):typeof e=="function"?e(n):{}}function dl({pathname:e,routesById:n,processedTree:t}){const s={},r=pe(e);let o,i;const a=Ta(r,t,!0);return a&&(o=a.route,Object.assign(s,a.rawParams),i=Object.assign({},a.parsedParams)),{matchedRoutes:a?.branch||[n[ee]],routeParams:s,foundRoute:o,parsedParams:i}}function fl({search:e,dest:n,destRoutes:t,_includeValidateSearch:s}){return hl(t)(e,n,s??!1)}function hl(e){const n={dest:null,_includeValidateSearch:!1,middlewares:[]};for(const r of e){if("search"in r.options)r.options.search?.middlewares&&n.middlewares.push(...r.options.search.middlewares);else if(r.options.preSearchFilters||r.options.postSearchFilters){const o=({search:i,next:a})=>{let l=i;"preSearchFilters"in r.options&&r.options.preSearchFilters&&(l=r.options.preSearchFilters.reduce((u,p)=>p(u),i));const c=a(l);return"postSearchFilters"in r.options&&r.options.postSearchFilters?r.options.postSearchFilters.reduce((u,p)=>p(u),c):c};n.middlewares.push(o)}if(r.options.validateSearch){const o=({search:i,next:a})=>{const l=a(i);if(!n._includeValidateSearch)return l;try{return{...l,...qt(r.options.validateSearch,l)??void 0}}catch{return l}};n.middlewares.push(o)}}const t=({search:r})=>{const o=n.dest;return o.search?o.search===!0?r:Se(o.search,r):{}};n.middlewares.push(t);const s=(r,o,i)=>{if(r>=i.length)return o;const a=i[r];return a({search:o,next:c=>s(r+1,c,i)})};return function(o,i,a){return n.dest=i,n._includeValidateSearch=a,s(0,o,n.middlewares)}}function pl(e,n){if(e!=="root")for(let t=n.length-1;t>=0;t--){const s=n[t];if(s.children)return s.id}return ee}function Fr(e,n,t,s){const r=e.options.params?.parse??e.options.parseParams;if(r)if(e.options.skipRouteOnParseError)for(const o in n)o in t&&(s[o]=t[o]);else{const o=r(s);Object.assign(s,o)}}const le=Symbol.for("TSR_DEFERRED_PROMISE");function gl(e,n){const t=e;return t[le]||(t[le]={status:"pending"},t.then(s=>{t[le].status="success",t[le].data=s}).catch(s=>{t[le].status="error",t[le].error={data:al(s),__isServerError:!0}})),t}const ml="Error preloading route! ";class Do{constructor(n){if(this.init=t=>{this.originalIndex=t.originalIndex;const s=this.options,r=!s?.path&&!s?.id;this.parentRoute=this.options.getParentRoute?.(),r?this._path=ee:this.parentRoute||Q(!1);let o=r?ee:s?.path;o&&o!=="/"&&(o=Po(o));const i=s?.id||o;let a=r?ee:Wt([this.parentRoute.id===ee?"":this.parentRoute.id,i]);o===ee&&(o="/"),a!==ee&&(a=Wt(["/",a]));const l=a===ee?"/":Wt([this.parentRoute.fullPath,o]);this._path=o,this._id=a,this._fullPath=l,this._to=pe(l)},this.addChildren=t=>this._addFileChildren(t),this._addFileChildren=t=>(Array.isArray(t)&&(this.children=t),typeof t=="object"&&t!==null&&(this.children=Object.values(t)),this),this._addFileTypes=()=>this,this.updateLoader=t=>(Object.assign(this.options,t),this),this.update=t=>(Object.assign(this.options,t),this),this.lazy=t=>(this.lazyFn=t,this),this.redirect=t=>Fo({from:this.fullPath,...t}),this.options=n||{},this.isRoot=!n?.getParentRoute,n?.id&&n?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class vl extends Do{constructor(n){super(n)}}function yl(e){return Xe({tag:"$TSR/t/"+e.key,test:e.test,parse:{sync(n,t){return t.parse(e.toSerializable(n))},async async(n,t){return await t.parse(e.toSerializable(n))},stream(n,t){return t.parse(e.toSerializable(n))}},serialize:void 0,deserialize(n,t){return e.fromSerializable(t.deserialize(n))}})}const Sl=Xe({tag:"$TSR/Error",test(e){return e instanceof Error},parse:{sync(e,n){return{message:n.parse(e.message)}},async async(e,n){return{message:await n.parse(e.message)}},stream(e,n){return{message:n.parse(e.message)}}},serialize(e,n){return"new Error("+n.serialize(e.message)+")"},deserialize(e,n){return new Error(n.deserialize(e.message))}});class xl{constructor(n,t){this.stream=n,this.hint=t?.hint??"binary"}}const ln=globalThis.Buffer,Bo=!!ln&&typeof ln.from=="function";function zo(e){if(e.length===0)return"";if(Bo)return ln.from(e).toString("base64");const n=32768,t=[];for(let s=0;s<e.length;s+=n){const r=e.subarray(s,s+n);t.push(String.fromCharCode.apply(null,r))}return btoa(t.join(""))}function Ho(e){if(e.length===0)return new Uint8Array(0);if(Bo){const s=ln.from(e,"base64");return new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}const n=atob(e),t=new Uint8Array(n.length);for(let s=0;s<n.length;s++)t[s]=n.charCodeAt(s);return t}const ht=Object.create(null),pt=Object.create(null),wl=e=>new ReadableStream({start(n){e.on({next(t){try{n.enqueue(Ho(t))}catch{}},throw(t){n.error(t)},return(){try{n.close()}catch{}}})}}),bl=new TextEncoder,Rl=e=>new ReadableStream({start(n){e.on({next(t){try{typeof t=="string"?n.enqueue(bl.encode(t)):n.enqueue(Ho(t.$b64))}catch{}},throw(t){n.error(t)},return(){try{n.close()}catch{}}})}}),_l="(s=>new ReadableStream({start(c){s.on({next(b){try{const d=atob(b),a=new Uint8Array(d.length);for(let i=0;i<d.length;i++)a[i]=d.charCodeAt(i);c.enqueue(a)}catch(_){}},throw(e){c.error(e)},return(){try{c.close()}catch(_){}}})}}))",Cl="(s=>{const e=new TextEncoder();return new ReadableStream({start(c){s.on({next(v){try{if(typeof v==='string'){c.enqueue(e.encode(v))}else{const d=atob(v.$b64),a=new Uint8Array(d.length);for(let i=0;i<d.length;i++)a[i]=d.charCodeAt(i);c.enqueue(a)}}catch(_){}},throw(x){c.error(x)},return(){try{c.close()}catch(_){}}})}})})";function Lr(e){const n=bs(),t=e.getReader();return(async()=>{try{for(;;){const{done:s,value:r}=await t.read();if(s){n.return(void 0);break}n.next(zo(r))}}catch(s){n.throw(s)}finally{t.releaseLock()}})(),n}function Tr(e){const n=bs(),t=e.getReader(),s=new TextDecoder("utf-8",{fatal:!0});return(async()=>{try{for(;;){const{done:r,value:o}=await t.read();if(r){try{const i=s.decode();i.length>0&&n.next(i)}catch{}n.return(void 0);break}try{const i=s.decode(o,{stream:!0});i.length>0&&n.next(i)}catch{n.next({$b64:zo(o)})}}}catch(r){n.throw(r)}finally{t.releaseLock()}})(),n}const El=Xe({tag:"tss/RawStreamFactory",test(e){return e===ht},parse:{sync(){},async(){return Promise.resolve(void 0)},stream(){}},serialize(){return _l},deserialize(){return ht}}),Pl=Xe({tag:"tss/RawStreamFactoryText",test(e){return e===pt},parse:{sync(){},async(){return Promise.resolve(void 0)},stream(){}},serialize(){return Cl},deserialize(){return pt}}),Ml=Xe({tag:"tss/RawStream",extends:[El,Pl],test(e){return e instanceof xl},parse:{sync(e,n){const t=e.hint==="text"?pt:ht;return{hint:e.hint,factory:n.parse(t),stream:n.parse(bs())}},async async(e,n){const t=e.hint==="text"?pt:ht,s=e.hint==="text"?Tr(e.stream):Lr(e.stream);return{hint:e.hint,factory:await n.parse(t),stream:await n.parse(s)}},stream(e,n){const t=e.hint==="text"?pt:ht,s=e.hint==="text"?Tr(e.stream):Lr(e.stream);return{hint:e.hint,factory:n.parse(t),stream:n.parse(s)}}},serialize(e,n){return"("+n.serialize(e.factory)+")("+n.serialize(e.stream)+")"},deserialize(e,n){const t=n.deserialize(e.stream);return e.hint==="text"?Rl(t):wl(t)}});function Il(e){return Xe({tag:"tss/RawStream",test:()=>!1,parse:{},serialize(){throw new Error("RawStreamDeserializePlugin.serialize should not be called. Client only deserializes.")},deserialize(n){return e(n.streamId)}})}const Fl=[Sl,Ml,ji],Ll="use",cn=Ni[Ll],Lt=typeof window<"u"?x.useLayoutEffect:x.useEffect;function On(e){const n=x.useRef({value:e,prev:null}),t=n.current.value;return e!==t&&(n.current={value:e,prev:t}),n.current.prev}function Tl(e,n,t={},s={}){x.useEffect(()=>{if(!e.current||s.disabled||typeof IntersectionObserver!="function")return;const r=new IntersectionObserver(([o])=>{n(o)},t);return r.observe(e.current),()=>{r.disconnect()}},[n,t,s.disabled,e])}function kl(e){const n=x.useRef(null);return x.useImperativeHandle(e,()=>n.current,[]),n}function Al({promise:e}){if(cn)return cn(e);const n=gl(e);if(n[le].status==="pending")throw n;if(n[le].status==="error")throw n[le].error;return n[le].data}function jl(e){const n=d.jsx(Nl,{...e});return e.fallback?d.jsx(x.Suspense,{fallback:e.fallback,children:n}):n}function Nl(e){const n=Al(e);return e.children(n)}function Ns(e){const n=e.errorComponent??Vs;return d.jsx(Vl,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:t,reset:s})=>t?x.createElement(n,{error:t,reset:s}):e.children})}class Vl extends x.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(n){return{resetKey:n.getResetKey()}}static getDerivedStateFromError(n){return{error:n}}reset(){this.setState({error:null})}componentDidUpdate(n,t){t.error&&t.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(n,t){this.props.onCatch&&this.props.onCatch(n,t)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Vs({error:e}){const[n,t]=x.useState(!1);return d.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[d.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),d.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>t(s=>!s),children:n?"Hide Error":"Show Error"})]}),d.jsx("div",{style:{height:".25rem"}}),n?d.jsx("div",{children:d.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?d.jsx("code",{children:e.message}):null})}):null]})}function Ol({children:e,fallback:n=null}){return Uo()?d.jsx(yt.Fragment,{children:e}):d.jsx(yt.Fragment,{children:n})}function Uo(){return yt.useSyncExternalStore($l,()=>!0,()=>!1)}function $l(){return()=>{}}function de(e,n=s=>s,t={}){const s=t.equal??Dl;return Vi.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,n,s)}function Dl(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[s,r]of e)if(!n.has(s)||!Object.is(r,n.get(s)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const s of e)if(!n.has(s))return!1;return!0}if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();const t=kr(e);if(t.length!==kr(n).length)return!1;for(let s=0;s<t.length;s++)if(!Object.prototype.hasOwnProperty.call(n,t[s])||!Object.is(e[t[s]],n[t[s]]))return!1;return!0}function kr(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}const $n=x.createContext(null);function Go(){return typeof document>"u"?$n:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=$n,$n)}function U(e){const n=x.useContext(Go());return Rs(!((e?.warn??!0)&&!n)),n}function B(e){const n=U({warn:e?.router===void 0}),t=e?.router||n,s=x.useRef(void 0);return de(t.__store,r=>{if(e?.select){if(e.structuralSharing??t.options.defaultStructuralSharing){const o=X(s.current,e.select(r));return s.current=o,o}return e.select(r)}return r})}const wn=x.createContext(void 0),Bl=x.createContext(void 0);function ce(e){const n=x.useContext(e.from?Bl:wn);return B({select:s=>{const r=s.matches.find(o=>e.from?e.from===o.routeId:o.id===n);if(Q(!((e.shouldThrow??!0)&&!r),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),r!==void 0)return e.select?e.select(r):r},structuralSharing:e.structuralSharing})}function Os(e){return ce({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:n=>e.select?e.select(n.loaderData):n.loaderData})}function $s(e){const{select:n,...t}=e;return ce({...t,select:s=>n?n(s.loaderDeps):s.loaderDeps})}function Ds(e){return ce({from:e.from,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,strict:e.strict,select:n=>{const t=e.strict===!1?n.params:n._strictParams;return e.select?e.select(t):t}})}function Bs(e){return ce({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:n=>e.select?e.select(n.search):n.search})}function Je(e){const n=U();return x.useCallback(t=>n.navigate({...t,from:t.from??e?.from}),[e?.from,n])}function zl(e,n){const t=U(),s=kl(n),{activeProps:r,inactiveProps:o,activeOptions:i,to:a,preload:l,preloadDelay:c,hashScrollIntoView:u,replace:p,startTransition:f,resetScroll:h,viewTransition:m,children:g,target:v,disabled:y,style:S,className:w,onClick:b,onFocus:_,onMouseEnter:P,onMouseLeave:E,onTouchStart:R,ignoreBlocker:C,params:L,search:T,hash:A,state:M,mask:k,reloadDocument:me,unsafeRelative:re,from:Ze,_fromLocation:Vh,...rr}=e,or=Uo(),Mi=B({select:D=>D.location.search,structuralSharing:!0}),ir=e.from,et=x.useMemo(()=>({...e,from:ir}),[t,Mi,ir,e._fromLocation,e.hash,e.to,e.search,e.params,e.state,e.mask,e.unsafeRelative]),oe=x.useMemo(()=>t.buildLocation({...et}),[t,et]),ar=oe.maskedLocation?oe.maskedLocation.publicHref:oe.publicHref,lr=oe.maskedLocation?oe.maskedLocation.external:oe.external,tt=x.useMemo(()=>ql(ar,lr,t.history,y),[y,lr,ar,t.history]),Ct=x.useMemo(()=>{if(tt?.external)return nn(tt.href)?void 0:tt.href;if(!Yl(a)&&!(typeof a!="string"||a.indexOf(":")===-1))try{return new URL(a),nn(a)?void 0:a}catch{}},[a,tt]),Pn=B({select:D=>{if(Ct)return!1;if(i?.exact){if(!Oa(D.location.pathname,oe.pathname,t.basepath))return!1}else{const q=rn(D.location.pathname,t.basepath),te=rn(oe.pathname,t.basepath);if(!(q.startsWith(te)&&(q.length===te.length||q[te.length]==="/")))return!1}return(i?.includeSearch??!0)&&!Fe(D.location.search,oe.search,{partial:!i?.exact,ignoreUndefined:!i?.explicitUndefined})?!1:i?.includeHash?or&&D.location.hash===oe.hash:!0}}),Et=Pn?Se(r,{})??Hl:Dn,Pt=Pn?Dn:Se(o,{})??Dn,cr=[w,Et.className,Pt.className].filter(Boolean).join(" "),ur=(S||Et.style||Pt.style)&&{...S,...Et.style,...Pt.style},[Ii,dr]=x.useState(!1),fr=x.useRef(!1),Ve=e.reloadDocument||Ct?!1:l??t.options.defaultPreload,Mn=c??t.options.defaultPreloadDelay??0,Ce=x.useCallback(()=>{t.preloadRoute({...et}).catch(D=>{console.warn(D),console.warn(ml)})},[t,et]),Fi=x.useCallback(D=>{D?.isIntersecting&&Ce()},[Ce]);Tl(s,Fi,Kl,{disabled:!!y||Ve!=="viewport"}),x.useEffect(()=>{fr.current||!y&&Ve==="render"&&(Ce(),fr.current=!0)},[y,Ce,Ve]);const Li=D=>{const q=D.currentTarget.getAttribute("target"),te=v!==void 0?v:q;if(!y&&!Ql(D)&&!D.defaultPrevented&&(!te||te==="_self")&&D.button===0){D.preventDefault(),Oi.flushSync(()=>{dr(!0)});const pr=t.subscribe("onResolved",()=>{pr(),dr(!1)});t.navigate({...et,replace:p,resetScroll:h,hashScrollIntoView:u,startTransition:f,viewTransition:m,ignoreBlocker:C})}};if(Ct)return{...rr,ref:s,href:Ct,...g&&{children:g},...v&&{target:v},...y&&{disabled:y},...S&&{style:S},...w&&{className:w},...b&&{onClick:b},..._&&{onFocus:_},...P&&{onMouseEnter:P},...E&&{onMouseLeave:E},...R&&{onTouchStart:R}};const hr=D=>{y||Ve&&Ce()},Ti=hr,ki=D=>{if(!(y||!Ve))if(!Mn)Ce();else{const q=D.target;if(it.has(q))return;const te=setTimeout(()=>{it.delete(q),Ce()},Mn);it.set(q,te)}},Ai=D=>{if(y||!Ve||!Mn)return;const q=D.target,te=it.get(q);te&&(clearTimeout(te),it.delete(q))};return{...rr,...Et,...Pt,href:tt?.href,ref:s,onClick:at([b,Li]),onFocus:at([_,hr]),onMouseEnter:at([P,ki]),onMouseLeave:at([E,Ai]),onTouchStart:at([R,Ti]),disabled:!!y,target:v,...ur&&{style:ur},...cr&&{className:cr},...y&&Ul,...Pn&&Gl,...or&&Ii&&Wl}}const Dn={},Hl={className:"active"},Ul={role:"link","aria-disabled":!0},Gl={"data-status":"active","aria-current":"page"},Wl={"data-transitioning":"transitioning"},it=new WeakMap,Kl={rootMargin:"100px"},at=e=>n=>{for(const t of e)if(t){if(n.defaultPrevented)return;t(n)}};function ql(e,n,t,s){if(!s)return n?{href:e,external:!0}:{href:t.createHref(e)||"/",external:!1}}function Yl(e){if(typeof e!="string")return!1;const n=e.charCodeAt(0);return n===47?e.charCodeAt(1)!==47:n===46}const Re=x.forwardRef((e,n)=>{const{_asChild:t,...s}=e,{type:r,...o}=zl(s,n),i=typeof s.children=="function"?s.children({isActive:o["data-status"]==="active"}):s.children;if(!t){const{disabled:a,...l}=o;return x.createElement("a",l,i)}return x.createElement(t,o,i)});function Ql(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}let Xl=class extends Do{constructor(n){super(n),this.useMatch=t=>ce({select:t?.select,from:this.id,structuralSharing:t?.structuralSharing}),this.useRouteContext=t=>ce({...t,from:this.id,select:s=>t?.select?t.select(s.context):s.context}),this.useSearch=t=>Bs({select:t?.select,structuralSharing:t?.structuralSharing,from:this.id}),this.useParams=t=>Ds({select:t?.select,structuralSharing:t?.structuralSharing,from:this.id}),this.useLoaderDeps=t=>$s({...t,from:this.id}),this.useLoaderData=t=>Os({...t,from:this.id}),this.useNavigate=()=>Je({from:this.fullPath}),this.Link=yt.forwardRef((t,s)=>d.jsx(Re,{ref:s,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}};function Jl(e){return new Xl(e)}class Zl extends vl{constructor(n){super(n),this.useMatch=t=>ce({select:t?.select,from:this.id,structuralSharing:t?.structuralSharing}),this.useRouteContext=t=>ce({...t,from:this.id,select:s=>t?.select?t.select(s.context):s.context}),this.useSearch=t=>Bs({select:t?.select,structuralSharing:t?.structuralSharing,from:this.id}),this.useParams=t=>Ds({select:t?.select,structuralSharing:t?.structuralSharing,from:this.id}),this.useLoaderDeps=t=>$s({...t,from:this.id}),this.useLoaderData=t=>Os({...t,from:this.id}),this.useNavigate=()=>Je({from:this.fullPath}),this.Link=yt.forwardRef((t,s)=>d.jsx(Re,{ref:s,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}}function ec(e){return new Zl(e)}function V(e){return typeof e=="object"?new Ar(e,{silent:!0}).createRoute(e):new Ar(e,{silent:!0}).createRoute}class Ar{constructor(n,t){this.path=n,this.createRoute=s=>{Rs(this.silent);const r=Jl(s);return r.isRoot=!1,r},this.silent=t?.silent}}class jr{constructor(n){this.useMatch=t=>ce({select:t?.select,from:this.options.id,structuralSharing:t?.structuralSharing}),this.useRouteContext=t=>ce({from:this.options.id,select:s=>t?.select?t.select(s.context):s.context}),this.useSearch=t=>Bs({select:t?.select,structuralSharing:t?.structuralSharing,from:this.options.id}),this.useParams=t=>Ds({select:t?.select,structuralSharing:t?.structuralSharing,from:this.options.id}),this.useLoaderDeps=t=>$s({...t,from:this.options.id}),this.useLoaderData=t=>Os({...t,from:this.options.id}),this.useNavigate=()=>{const t=U();return Je({from:t.routesById[this.options.id].fullPath})},this.options=n,this.$$typeof=Symbol.for("react.memo")}}function Nr(e){return typeof e=="object"?new jr(e):n=>new jr({id:e,...n})}function O(e,n){let t,s,r,o;const i=()=>(t||(t=e().then(l=>{t=void 0,s=l[n]}).catch(l=>{if(r=l,ba(r)&&r instanceof Error&&typeof window<"u"&&typeof sessionStorage<"u"){const c=`tanstack_router_reload:${r.message}`;sessionStorage.getItem(c)||(sessionStorage.setItem(c,"1"),o=!0)}})),t),a=function(c){if(o)throw window.location.reload(),new Promise(()=>{});if(r)throw r;if(!s)if(cn)cn(i());else throw i();return x.createElement(s,c)};return a.preload=i,a}function tc(){const e=U(),n=x.useRef({router:e,mounted:!1}),[t,s]=x.useState(!1),{hasPendingMatches:r,isLoading:o}=B({select:p=>({isLoading:p.isLoading,hasPendingMatches:p.matches.some(f=>f.status==="pending")}),structuralSharing:!0}),i=On(o),a=o||t||r,l=On(a),c=o||r,u=On(c);return e.startTransition=p=>{s(!0),x.startTransition(()=>{p(),s(!1)})},x.useEffect(()=>{const p=e.history.subscribe(e.load),f=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return pe(e.latestLocation.publicHref)!==pe(f.publicHref)&&e.commitLocation({...f,replace:!0}),()=>{p()}},[e,e.history]),Lt(()=>{if(typeof window<"u"&&e.ssr||n.current.router===e&&n.current.mounted)return;n.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(f){console.error(f)}})()},[e]),Lt(()=>{i&&!o&&e.emit({type:"onLoad",...Le(e.state)})},[i,e,o]),Lt(()=>{u&&!c&&e.emit({type:"onBeforeRouteMount",...Le(e.state)})},[c,u,e]),Lt(()=>{if(l&&!a){const p=Le(e.state);e.emit({type:"onResolved",...p}),e.__store.setState(f=>({...f,status:"idle",resolvedLocation:f.location})),p.hrefChanged&&qa(e)}},[a,l,e]),null}function nc(e){const n=B({select:t=>`not-found-${t.location.pathname}-${t.status}`});return d.jsx(Ns,{getResetKey:()=>n,onCatch:(t,s)=>{if(K(t))e.onCatch?.(t,s);else throw t},errorComponent:({error:t})=>{if(K(t))return e.fallback?.(t);throw t},children:e.children})}function sc(){return d.jsx("p",{children:"Not Found"})}function Be(e){return d.jsx(d.Fragment,{children:e.children})}function Wo(e,n,t){return n.options.notFoundComponent?d.jsx(n.options.notFoundComponent,{...t}):e.options.defaultNotFoundComponent?d.jsx(e.options.defaultNotFoundComponent,{...t}):d.jsx(sc,{})}function rc(){return U().isScrollRestoring,null}const Ko=x.memo(function({matchId:n}){const t=U(),s=B({select:g=>{const v=g.matches.findIndex(S=>S.id===n),y=g.matches[v];return Q(y),{routeId:y.routeId,ssr:y.ssr,_displayPending:y._displayPending,resetKey:g.loadedAt,parentRouteId:g.matches[v-1]?.routeId}},structuralSharing:!0}),r=t.routesById[s.routeId],o=r.options.pendingComponent??t.options.defaultPendingComponent,i=o?d.jsx(o,{}):null,a=r.options.errorComponent??t.options.defaultErrorComponent,l=r.options.onCatch??t.options.defaultOnCatch,c=r.isRoot?r.options.notFoundComponent??t.options.notFoundRoute?.options.component:r.options.notFoundComponent,u=s.ssr===!1||s.ssr==="data-only",p=(!r.isRoot||r.options.wrapInSuspense||u)&&(r.options.wrapInSuspense??o??(r.options.errorComponent?.preload||u))?x.Suspense:Be,f=a?Ns:Be,h=c?nc:Be,m=r.isRoot?r.options.shellComponent??Be:Be;return d.jsxs(m,{children:[d.jsx(wn.Provider,{value:n,children:d.jsx(p,{fallback:i,children:d.jsx(f,{getResetKey:()=>s.resetKey,errorComponent:a||Vs,onCatch:(g,v)=>{if(K(g))throw g;l?.(g,v)},children:d.jsx(h,{fallback:g=>{if(!c||g.routeId&&g.routeId!==s.routeId||!g.routeId&&!r.isRoot)throw g;return x.createElement(c,g)},children:u||s._displayPending?d.jsx(Ol,{fallback:i,children:d.jsx(Vr,{matchId:n})}):d.jsx(Vr,{matchId:n})})})})}),s.parentRouteId===ee&&t.options.scrollRestoration?d.jsxs(d.Fragment,{children:[d.jsx(oc,{}),d.jsx(rc,{})]}):null]})});function oc(){const e=U(),n=x.useRef(void 0);return d.jsx("script",{suppressHydrationWarning:!0,ref:t=>{t&&(n.current===void 0||n.current.href!==e.latestLocation.href)&&(e.emit({type:"onRendered",...Le(e.state)}),n.current=e.latestLocation)}},e.latestLocation.state.__TSR_key)}const Vr=x.memo(function({matchId:n}){const t=U(),{match:s,key:r,routeId:o}=B({select:l=>{const c=l.matches.find(m=>m.id===n),u=c.routeId,f=(t.routesById[u].options.remountDeps??t.options.defaultRemountDeps)?.({routeId:u,loaderDeps:c.loaderDeps,params:c._strictParams,search:c._strictSearch});return{key:f?JSON.stringify(f):void 0,routeId:u,match:{id:c.id,status:c.status,error:c.error,invalid:c.invalid,_forcePending:c._forcePending,_displayPending:c._displayPending}}},structuralSharing:!0}),i=t.routesById[o],a=x.useMemo(()=>{const l=i.options.component??t.options.defaultComponent;return l?d.jsx(l,{},r):d.jsx(os,{})},[r,i.options.component,t.options.defaultComponent]);if(s._displayPending)throw t.getMatch(s.id)?._nonReactive.displayPendingPromise;if(s._forcePending)throw t.getMatch(s.id)?._nonReactive.minPendingPromise;if(s.status==="pending"){const l=i.options.pendingMinMs??t.options.defaultPendingMinMs;if(l){const c=t.getMatch(s.id);if(c&&!c._nonReactive.minPendingPromise){const u=Te();c._nonReactive.minPendingPromise=u,setTimeout(()=>{u.resolve(),c._nonReactive.minPendingPromise=void 0},l)}}throw t.getMatch(s.id)?._nonReactive.loadPromise}if(s.status==="notFound")return Q(K(s.error)),Wo(t,i,s.error);if(s.status==="redirected")throw Q(W(s.error)),t.getMatch(s.id)?._nonReactive.loadPromise;if(s.status==="error")throw s.error;return a}),os=x.memo(function(){const n=U(),t=x.useContext(wn),s=B({select:c=>c.matches.find(u=>u.id===t)?.routeId}),r=n.routesById[s],o=B({select:c=>{const p=c.matches.find(f=>f.id===t);return Q(p),p.globalNotFound}}),i=B({select:c=>{const u=c.matches,p=u.findIndex(f=>f.id===t);return u[p+1]?.id}}),a=n.options.defaultPendingComponent?d.jsx(n.options.defaultPendingComponent,{}):null;if(o)return Wo(n,r,void 0);if(!i)return null;const l=d.jsx(Ko,{matchId:i});return s===ee?d.jsx(x.Suspense,{fallback:a,children:l}):l});function ic(){const e=U(),t=e.routesById[ee].options.pendingComponent??e.options.defaultPendingComponent,s=t?d.jsx(t,{}):null,r=typeof document<"u"&&e.ssr?Be:x.Suspense,o=d.jsxs(r,{fallback:s,children:[d.jsx(tc,{}),d.jsx(ac,{})]});return e.options.InnerWrap?d.jsx(e.options.InnerWrap,{children:o}):o}function ac(){const e=U(),n=B({select:r=>r.matches[0]?.id}),t=B({select:r=>r.loadedAt}),s=n?d.jsx(Ko,{matchId:n}):null;return d.jsx(wn.Provider,{value:n,children:e.options.disableGlobalCatchBoundary?s:d.jsx(Ns,{getResetKey:()=>t,errorComponent:Vs,onCatch:r=>{Rs(!1,r.message||r.toString())},children:s})})}const lc=e=>new cc(e);class cc extends ll{constructor(n){super(n)}}typeof globalThis<"u"?(globalThis.createFileRoute=V,globalThis.createLazyFileRoute=Nr):typeof window<"u"&&(window.createFileRoute=V,window.createLazyFileRoute=Nr);function uc({router:e,children:n,...t}){Object.keys(t).length>0&&e.update({...e.options,...t,context:{...e.options.context,...t.context}});const s=Go(),r=d.jsx(s.Provider,{value:e,children:n});return e.options.Wrap?d.jsx(e.options.Wrap,{children:r}):r}function dc({router:e,...n}){return d.jsx(uc,{router:e,...n,children:d.jsx(ic,{})})}function zs(e){return B({select:n=>n.location})}function qo({tag:e,attrs:n,children:t,nonce:s}){switch(e){case"title":return d.jsx("title",{...n,suppressHydrationWarning:!0,children:t});case"meta":return d.jsx("meta",{...n,suppressHydrationWarning:!0});case"link":return d.jsx("link",{...n,nonce:s,suppressHydrationWarning:!0});case"style":return d.jsx("style",{...n,dangerouslySetInnerHTML:{__html:t},nonce:s});case"script":return d.jsx(fc,{attrs:n,children:t});default:return null}}function fc({attrs:e,children:n}){U(),x.useEffect(()=>{if(e?.src){const t=(()=>{try{const o=document.baseURI||window.location.href;return new URL(e.src,o).href}catch{return e.src}})();if(Array.from(document.querySelectorAll("script[src]")).find(o=>o.src===t))return;const r=document.createElement("script");for(const[o,i]of Object.entries(e))o!=="suppressHydrationWarning"&&i!==void 0&&i!==!1&&r.setAttribute(o,typeof i=="boolean"?"":String(i));return document.head.appendChild(r),()=>{r.parentNode&&r.parentNode.removeChild(r)}}if(typeof n=="string"){const t=typeof e?.type=="string"?e.type:"text/javascript",s=typeof e?.nonce=="string"?e.nonce:void 0;if(Array.from(document.querySelectorAll("script:not([src])")).find(i=>{if(!(i instanceof HTMLScriptElement))return!1;const a=i.getAttribute("type")??"text/javascript",l=i.getAttribute("nonce")??void 0;return i.textContent===n&&a===t&&l===s}))return;const o=document.createElement("script");if(o.textContent=n,e)for(const[i,a]of Object.entries(e))i!=="suppressHydrationWarning"&&a!==void 0&&a!==!1&&o.setAttribute(i,typeof a=="boolean"?"":String(a));return document.head.appendChild(o),()=>{o.parentNode&&o.parentNode.removeChild(o)}}},[e,n]);{const{src:t,...s}=e||{};return d.jsx("script",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:""},...s})}}const hc=()=>{const e=U(),n=e.options.ssr?.nonce,t=B({select:l=>l.matches.map(c=>c.meta).filter(Boolean)}),s=x.useMemo(()=>{const l=[],c={};let u;for(let p=t.length-1;p>=0;p--){const f=t[p];for(let h=f.length-1;h>=0;h--){const m=f[h];if(m)if(m.title)u||(u={tag:"title",children:m.title});else if("script:ld+json"in m)try{const g=JSON.stringify(m["script:ld+json"]);l.push({tag:"script",attrs:{type:"application/ld+json"},children:Ea(g)})}catch{}else{const g=m.name??m.property;if(g){if(c[g])continue;c[g]=!0}l.push({tag:"meta",attrs:{...m,nonce:n}})}}}return u&&l.push(u),n&&l.push({tag:"meta",attrs:{property:"csp-nonce",content:n}}),l.reverse(),l},[t,n]),r=B({select:l=>{const c=l.matches.map(f=>f.links).filter(Boolean).flat(1).map(f=>({tag:"link",attrs:{...f,nonce:n}})),u=e.ssr?.manifest,p=l.matches.map(f=>u?.routes[f.routeId]?.assets??[]).filter(Boolean).flat(1).filter(f=>f.tag==="link").map(f=>({tag:"link",attrs:{...f.attrs,suppressHydrationWarning:!0,nonce:n}}));return[...c,...p]},structuralSharing:!0}),o=B({select:l=>{const c=[];return l.matches.map(u=>e.looseRoutesById[u.routeId]).forEach(u=>e.ssr?.manifest?.routes[u.id]?.preloads?.filter(Boolean).forEach(p=>{c.push({tag:"link",attrs:{rel:"modulepreload",href:p,nonce:n}})})),c},structuralSharing:!0}),i=B({select:l=>l.matches.map(c=>c.styles).flat(1).filter(Boolean).map(({children:c,...u})=>({tag:"style",attrs:{...u,nonce:n},children:c})),structuralSharing:!0}),a=B({select:l=>l.matches.map(c=>c.headScripts).flat(1).filter(Boolean).map(({children:c,...u})=>({tag:"script",attrs:{...u,nonce:n},children:c})),structuralSharing:!0});return pc([...s,...o,...r,...i,...a],l=>JSON.stringify(l))};function pc(e,n){const t=new Set;return e.filter(s=>{const r=n(s);return t.has(r)?!1:(t.add(r),!0)})}function gc(){const e=hc(),t=U().options.ssr?.nonce;return d.jsx(d.Fragment,{children:e.map(s=>x.createElement(qo,{...s,key:`tsr-meta-${JSON.stringify(s)}`,nonce:t}))})}const mc=()=>{const e=U(),n=e.options.ssr?.nonce,t=B({select:i=>{const a=[],l=e.ssr?.manifest;return l?(i.matches.map(c=>e.looseRoutesById[c.routeId]).forEach(c=>l.routes[c.id]?.assets?.filter(u=>u.tag==="script").forEach(u=>{a.push({tag:"script",attrs:{...u.attrs,nonce:n},children:u.children})})),a):[]},structuralSharing:!0}),{scripts:s}=B({select:i=>({scripts:i.matches.map(a=>a.scripts).flat(1).filter(Boolean).map(({children:a,...l})=>({tag:"script",attrs:{...l,suppressHydrationWarning:!0,nonce:n},children:a}))}),structuralSharing:!0});let r;e.serverSsr&&(r=e.serverSsr.takeBufferedScripts());const o=[...s,...t];return r&&o.unshift(r),d.jsx(d.Fragment,{children:o.map((i,a)=>x.createElement(qo,{...i,key:`tsr-scripts-${i.tag}-${a}`}))})};function vc(e){return e instanceof Headers?e:Array.isArray(e)?new Headers(e):typeof e=="object"?new Headers(e):null}function yc(...e){return e.reduce((n,t)=>{const s=vc(t);if(!s)return n;for(const[r,o]of s.entries())r==="set-cookie"?$i(o).forEach(a=>n.append("set-cookie",a)):n.set(r,o);return n},new Headers)}function Sc(e,n){e.id=n.i,e.__beforeLoadContext=n.b,e.loaderData=n.l,e.status=n.s,e.ssr=n.ssr,e.updatedAt=n.u,e.error=n.e}async function xc(e){Q(window.$_TSR);const n=e.options.serializationAdapters;if(n?.length){const g=new Map;n.forEach(v=>{g.set(v.key,v.fromSerializable)}),window.$_TSR.t=g,window.$_TSR.buffer.forEach(v=>v())}window.$_TSR.initialized=!0,Q(window.$_TSR.router);const{manifest:t,dehydratedData:s,lastMatchId:r}=window.$_TSR.router;e.ssr={manifest:t};const i=document.querySelector('meta[property="csp-nonce"]')?.content;e.options.ssr={nonce:i};const a=e.matchRoutes(e.state.location),l=Promise.all(a.map(g=>{const v=e.looseRoutesById[g.routeId];return e.loadRouteChunk(v)}));function c(g){const y=e.looseRoutesById[g.routeId].options.pendingMinMs??e.options.defaultPendingMinMs;if(y){const S=Te();g._nonReactive.minPendingPromise=S,g._forcePending=!0,setTimeout(()=>{S.resolve(),e.updateMatch(g.id,w=>(w._nonReactive.minPendingPromise=void 0,{...w,_forcePending:void 0}))},y)}}function u(g){const v=e.looseRoutesById[g.routeId];v&&(v.options.ssr=g.ssr)}let p;a.forEach(g=>{const v=window.$_TSR.router.matches.find(y=>y.i===g.id);if(!v){g._nonReactive.dehydrated=!1,g.ssr=!1,u(g);return}Sc(g,v),u(g),g._nonReactive.dehydrated=g.ssr!==!1,(g.ssr==="data-only"||g.ssr===!1)&&p===void 0&&(p=g.index,c(g))}),e.__store.setState(g=>({...g,matches:a})),await e.options.hydrate?.(s),await Promise.all(e.state.matches.map(async g=>{try{const v=e.looseRoutesById[g.routeId],S=e.state.matches[g.index-1]?.context??e.options.context;if(v.options.context){const P={deps:g.loaderDeps,params:g.params,context:S??{},location:e.state.location,navigate:E=>e.navigate({...E,_fromLocation:e.state.location}),buildLocation:e.buildLocation,cause:g.cause,abortController:g.abortController,preload:!1,matches:a,routeId:v.id};g.__routeContext=v.options.context(P)??void 0}g.context={...S,...g.__routeContext,...g.__beforeLoadContext};const w={ssr:e.options.ssr,matches:e.state.matches,match:g,params:g.params,loaderData:g.loaderData},b=await v.options.head?.(w),_=await v.options.scripts?.(w);g.meta=b?.meta,g.links=b?.links,g.headScripts=b?.scripts,g.styles=b?.styles,g.scripts=_}catch(v){if(K(v))g.error={isNotFound:!0},console.error(`NotFound error during hydration for routeId: ${g.routeId}`,v);else throw g.error=v,console.error(`Error during hydration for route ${g.routeId}:`,v),v}}));const f=a[a.length-1].id!==r;if(!a.some(g=>g.ssr===!1)&&!f)return a.forEach(g=>{g._nonReactive.dehydrated=void 0}),l;const m=Promise.resolve().then(()=>e.load()).catch(g=>{console.error("Error during router hydration:",g)});if(f){const g=a[1];Q(g),c(g),g._displayPending=!0,g._nonReactive.displayPendingPromise=m,m.then(()=>{Ue(()=>{e.__store.state.status==="pending"&&e.__store.setState(v=>({...v,status:"idle",resolvedLocation:v.location})),e.updateMatch(g.id,v=>({...v,_displayPending:void 0,displayPendingPromise:void 0}))})})}return l}const wc="__TSS_CONTEXT",is=Symbol.for("TSS_SERVER_FUNCTION"),Or=Symbol.for("TSS_SERVER_FUNCTION_FACTORY"),bc="x-tss-serialized",Rc="x-tss-raw",Yo="application/x-tss-framed",ue={JSON:0,CHUNK:1,END:2,ERROR:3},De=9,$r=1,_c=/;\s*v=(\d+)/;function Cc(e){const n=e.match(_c);return n?parseInt(n[1],10):void 0}function Ec(e){const n=Cc(e);if(n!==void 0&&n!==$r)throw new Error(`Incompatible framed protocol version: server=${n}, client=${$r}. Please ensure client and server are using compatible versions.`)}const Hs=()=>window.__TSS_START_OPTIONS__;function Pc(){return[...Hs()?.serializationAdapters?.map(yl)??[],...Fl]}const Dr=new TextDecoder,Mc=new Uint8Array(0),Br=16*1024*1024,zr=32*1024*1024,Hr=1024,Ur=1e5;function Ic(e){const n=new Map,t=new Map,s=new Set;let r=!1,o=null,i=0,a;const l=new ReadableStream({start(p){a=p},cancel(){r=!0;try{o?.cancel()}catch{}n.forEach(p=>{try{p.error(new Error("Framed response cancelled"))}catch{}}),n.clear(),t.clear(),s.clear()}});function c(p){const f=t.get(p);if(f)return f;if(s.has(p))return new ReadableStream({start(m){m.close()}});if(t.size>=Hr)throw new Error(`Too many raw streams in framed response (max ${Hr})`);const h=new ReadableStream({start(m){n.set(p,m)},cancel(){s.add(p),n.delete(p),t.delete(p)}});return t.set(p,h),h}function u(p){return c(p),n.get(p)}return(async()=>{const p=e.getReader();o=p;const f=[];let h=0;function m(){if(h<De)return null;const v=f[0];if(v.length>=De){const E=v[0],R=(v[1]<<24|v[2]<<16|v[3]<<8|v[4])>>>0,C=(v[5]<<24|v[6]<<16|v[7]<<8|v[8])>>>0;return{type:E,streamId:R,length:C}}const y=new Uint8Array(De);let S=0,w=De;for(let E=0;E<f.length&&w>0;E++){const R=f[E],C=Math.min(R.length,w);y.set(R.subarray(0,C),S),S+=C,w-=C}const b=y[0],_=(y[1]<<24|y[2]<<16|y[3]<<8|y[4])>>>0,P=(y[5]<<24|y[6]<<16|y[7]<<8|y[8])>>>0;return{type:b,streamId:_,length:P}}function g(v){if(v===0)return Mc;const y=new Uint8Array(v);let S=0,w=v;for(;w>0&&f.length>0;){const b=f[0];if(!b)break;const _=Math.min(b.length,w);y.set(b.subarray(0,_),S),S+=_,w-=_,_===b.length?f.shift():f[0]=b.subarray(_)}return h-=v,y}try{for(;;){const{done:v,value:y}=await p.read();if(r||v)break;if(y){if(h+y.length>zr)throw new Error(`Framed response buffer exceeded ${zr} bytes`);for(f.push(y),h+=y.length;;){const S=m();if(!S)break;const{type:w,streamId:b,length:_}=S;if(w!==ue.JSON&&w!==ue.CHUNK&&w!==ue.END&&w!==ue.ERROR)throw new Error(`Unknown frame type: ${w}`);if(w===ue.JSON){if(b!==0)throw new Error("Invalid JSON frame streamId (expected 0)")}else if(b===0)throw new Error("Invalid raw frame streamId (expected non-zero)");if(_>Br)throw new Error(`Frame payload too large: ${_} bytes (max ${Br})`);const P=De+_;if(h<P)break;if(++i>Ur)throw new Error(`Too many frames in framed response (max ${Ur})`);g(De);const E=g(_);switch(w){case ue.JSON:{try{a.enqueue(Dr.decode(E))}catch{}break}case ue.CHUNK:{const R=u(b);R&&R.enqueue(E);break}case ue.END:{const R=u(b);if(s.add(b),R){try{R.close()}catch{}n.delete(b)}break}case ue.ERROR:{const R=u(b);if(s.add(b),R){const C=Dr.decode(E);R.error(new Error(C)),n.delete(b)}break}}}}}if(h!==0)throw new Error("Incomplete frame at end of framed response");try{a.close()}catch{}n.forEach(v=>{try{v.close()}catch{}}),n.clear()}catch(v){try{a.error(v)}catch{}n.forEach(y=>{try{y.error(v)}catch{}}),n.clear()}finally{try{p.releaseLock()}catch{}o=null}})(),{getOrCreateStream:c,jsonChunks:l}}let Ke=null;const Fc=Object.prototype.hasOwnProperty;function Qo(e){for(const n in e)if(Fc.call(e,n))return!0;return!1}async function Lc(e,n,t){Ke||(Ke=Pc());const r=n[0],o=r.fetch??t,i=r.data instanceof FormData?"formData":"payload",a=r.headers?new Headers(r.headers):new Headers;if(a.set("x-tsr-serverFn","true"),i==="payload"&&a.set("accept",`${Yo}, application/x-ndjson, application/json`),r.method==="GET"){if(i==="formData")throw new Error("FormData is not supported with GET requests");const c=await Xo(r);if(c!==void 0){const u=Io({payload:c});e.includes("?")?e+=`&${u}`:e+=`?${u}`}}let l;if(r.method==="POST"){const c=await Tc(r);c?.contentType&&a.set("content-type",c.contentType),l=c?.body}return await kc(async()=>o(e,{method:r.method,headers:a,signal:r.signal,body:l}))}async function Xo(e){let n=!1;const t={};if(e.data!==void 0&&(n=!0,t.data=e.data),e.context&&Qo(e.context)&&(n=!0,t.context=e.context),n)return Jo(t)}async function Jo(e){return JSON.stringify(await Promise.resolve(Di(e,{plugins:Ke})))}async function Tc(e){if(e.data instanceof FormData){let t;return e.context&&Qo(e.context)&&(t=await Jo(e.context)),t!==void 0&&e.data.set(wc,t),{body:e.data}}const n=await Xo(e);if(n)return{body:n,contentType:"application/json"}}async function kc(e){let n;try{n=await e()}catch(r){if(r instanceof Response)n=r;else throw console.log(r),r}if(n.headers.get(Rc)==="true")return n;const t=n.headers.get("content-type");if(Q(t),!!n.headers.get(bc)){let r;if(t.includes(Yo)){if(Ec(t),!n.body)throw new Error("No response body for framed response");const{getOrCreateStream:o,jsonChunks:i}=Ic(n.body),l=[Il(o),...Ke||[]],c=new Map;r=await jc({jsonStream:i,onMessage:u=>In(u,{refs:c,plugins:l}),onError(u,p){console.error(u,p)}})}else if(t.includes("application/x-ndjson")){const o=new Map;r=await Ac({response:n,onMessage:i=>In(i,{refs:o,plugins:Ke}),onError(i,a){console.error(i,a)}})}else if(t.includes("application/json")){const o=await n.json();r=In(o,{plugins:Ke})}if(Q(r),r instanceof Error)throw r;return r}if(t.includes("application/json")){const r=await n.json(),o=Lo(r);if(o)throw o;if(K(r))throw r;return r}if(!n.ok)throw new Error(await n.text());return n}async function Ac({response:e,onMessage:n,onError:t}){if(!e.body)throw new Error("No response body");const s=e.body.pipeThrough(new TextDecoderStream).getReader();let r="",o=!1,i;for(;!o;){const{value:a,done:l}=await s.read();if(a&&(r+=a),r.length===0&&l)throw new Error("Stream ended before first object");if(r.endsWith(`
`)){const c=r.split(`
`).filter(Boolean),u=c[0];if(!u)throw new Error("No JSON line in the first chunk");i=JSON.parse(u),o=!0,r=c.slice(1).join(`
`)}else{const c=r.indexOf(`
`);if(c>=0){const u=r.slice(0,c).trim();r=r.slice(c+1),u.length>0&&(i=JSON.parse(u),o=!0)}}}return(async()=>{try{for(;;){const{value:a,done:l}=await s.read();a&&(r+=a);const c=r.lastIndexOf(`
`);if(c>=0){const u=r.slice(0,c);r=r.slice(c+1);const p=u.split(`
`).filter(Boolean);for(const f of p)try{n(JSON.parse(f))}catch(h){t?.(`Invalid JSON line: ${f}`,h)}}if(l)break}}catch(a){t?.("Stream processing error:",a)}})(),n(i)}async function jc({jsonStream:e,onMessage:n,onError:t}){const s=e.getReader(),{value:r,done:o}=await s.read();if(o||!r)throw new Error("Stream ended before first object");const i=JSON.parse(r);return(async()=>{try{for(;;){const{value:a,done:l}=await s.read();if(l)break;if(a)try{n(JSON.parse(a))}catch(c){t?.(`Invalid JSON: ${a}`,c)}}}catch(a){t?.("Stream processing error:",a)}})(),n(i)}function Nc(e){const n="/_serverFn/"+e;return Object.assign((...r)=>{const o=Hs()?.serverFns?.fetch;return Lc(n,r,o??fetch)},{url:n,serverFnMeta:{id:e},[is]:!0})}const Vc={key:"$TSS/serverfn",test:e=>typeof e!="function"||!(is in e)?!1:!!e[is],toSerializable:({serverFnMeta:e})=>({functionId:e.id}),fromSerializable:({functionId:e})=>Nc(e)},Oc={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,TSS_CLIENT_OUTPUT_DIR:"dist/client",TSS_DEV_SERVER:"false",TSS_ROUTER_BASEPATH:"",TSS_SERVER_FN_BASE:"/_serverFn/"},ae=Bi({clientPrefix:"VITE_",client:{VITE_INTERNAL_API_BASE_URL:nt().url().optional(),VITE_SENTRY_DSN:nt().url().optional(),VITE_SENTRY_ENVIRONMENT:nt().min(1).optional(),VITE_SENTRY_TRACES_SAMPLE_RATE:Fn().min(0).max(1).optional(),VITE_SENTRY_TRACES_SAMPLE_RATE_HIGH:Fn().min(0).max(1).optional(),VITE_SENTRY_TRACES_SAMPLE_RATE_HIGH_ROUTES:nt().min(1).optional(),VITE_SENTRY_TRACES_SAMPLE_RATE_LOW:Fn().min(0).max(1).optional(),VITE_SENTRY_TRACES_SAMPLE_RATE_LOW_ROUTES:nt().min(1).optional(),VITE_LOG_LEVEL:N(["trace","debug","info","warn","error","fatal"]).optional(),VITE_ENABLE_SUPPORT_IMPERSONATION:N(["true","false"]).optional().default("false"),VITE_CAPTCHA_RECAPTCHA_V2_ENABLED:N(["true","false"]).optional().default("false"),VITE_CAPTCHA_RECAPTCHA_V3_ENABLED:N(["true","false"]).optional().default("false"),VITE_CAPTCHA_HCAPTCHA_ENABLED:N(["true","false"]).optional().default("false"),VITE_CAPTCHA_TURNSTILE_ENABLED:N(["true","false"]).optional().default("false"),VITE_OAUTH_GOOGLE_ENABLED:N(["true","false"]).optional().default("false"),VITE_OAUTH_GITHUB_ENABLED:N(["true","false"]).optional().default("false"),VITE_OAUTH_MICROSOFT_ENABLED:N(["true","false"]).optional().default("false"),VITE_OAUTH_APPLE_ENABLED:N(["true","false"]).optional().default("false"),VITE_EMAIL_SMTP_ENABLED:N(["true","false"]).optional().default("false"),VITE_EMAIL_SENDGRID_ENABLED:N(["true","false"]).optional().default("false"),VITE_EMAIL_MAILGUN_ENABLED:N(["true","false"]).optional().default("false"),VITE_EMAIL_AWS_SES_ENABLED:N(["true","false"]).optional().default("false"),VITE_EMAIL_POSTMARK_ENABLED:N(["true","false"]).optional().default("false"),VITE_EMAIL_RESEND_ENABLED:N(["true","false"]).optional().default("false"),VITE_SMS_TWILIO_ENABLED:N(["true","false"]).optional().default("false"),VITE_SMS_MESSAGE_BIRD_ENABLED:N(["true","false"]).optional().default("false"),VITE_SMS_VONAGE_ENABLED:N(["true","false"]).optional().default("false"),VITE_STORAGE_S3_ENABLED:N(["true","false"]).optional().default("false"),VITE_STORAGE_R2_ENABLED:N(["true","false"]).optional().default("false"),VITE_STORAGE_AZURE_BLOB_ENABLED:N(["true","false"]).optional().default("false"),VITE_PAYMENT_STRIPE_ENABLED:N(["true","false"]).optional().default("false"),VITE_PAYMENT_PADDLE_ENABLED:N(["true","false"]).optional().default("false"),VITE_ANALYTICS_POSTHOG_ENABLED:N(["true","false"]).optional().default("false"),VITE_ANALYTICS_PLAUSIBLE_ENABLED:N(["true","false"]).optional().default("false"),VITE_SECURITY_HIBP_ENABLED:N(["true","false"]).optional().default("false"),VITE_SECURITY_MAXMIND_ENABLED:N(["true","false"]).optional().default("false")},runtimeEnv:Oc,emptyStringAsUndefined:!0});class $c extends Error{code="MFA_REQUIRED";mfaToken;constructor(n,t){super(n),this.name="AuthMfaRequiredError",this.mfaToken=t}}const Dc="vault_ui_session",Bn=ae.VITE_INTERNAL_API_BASE_URL||"/api/v1",Zo=x.createContext(null),Bc=(e,n)=>{if(!e)return null;const t=e.split(";");for(const s of t){const[r,...o]=s.trim().split("=");if(r===n)return decodeURIComponent(o.join("="))}return null},Tt=e=>{const n=Bn.endsWith("/")?Bn.slice(0,-1):Bn,t=e.startsWith("/")?e:`/${e}`;if(/^https?:\/\//.test(n))return`${n}${t}`;const s=typeof window<"u"?window.location.origin:"http://localhost";return new URL(`${n}${t}`,s).toString()};function zc(){const e=Je(),[n,t]=x.useState({user:null,isAuthenticated:!1,isLoading:!0,error:null,csrfToken:null});x.useEffect(()=>{(async()=>{if(!Bc(document.cookie,Dc)){t(c=>({...c,isLoading:!1}));return}try{const c=await fetch(Tt("/auth/verify"),{credentials:"include"});if(!c.ok){t(p=>({...p,isLoading:!1}));return}const u=await c.json();t(p=>({...p,user:u.user,isAuthenticated:!0,isLoading:!1,csrfToken:u.csrfToken}))}catch{t(c=>({...c,isLoading:!1}))}})()},[]);const s=x.useCallback(async()=>{try{const a=await fetch(Tt("/auth/csrf"),{credentials:"include"});if(a.ok){const l=await a.json();t(c=>({...c,csrfToken:l.csrfToken}))}}catch(a){console.error("Failed to refresh CSRF token:",a)}},[]),r=x.useCallback(async(a,l,c,u)=>{t(p=>({...p,isLoading:!0,error:null}));try{const p=await fetch(Tt("/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:a,password:l,mfaCode:c,mfaToken:u})}),f=await p.json();if(!!(f?.mfaRequired||f?.requires_mfa))throw new $c("Multi-factor authentication code required.",f?.mfaToken||f?.mfa_token);if(!p.ok)throw new Error(f.message||"Login failed");t({user:f.user,isAuthenticated:!0,isLoading:!1,error:null,csrfToken:f.csrfToken}),e({to:"/"})}catch(p){throw t(f=>({...f,isLoading:!1,error:p instanceof Error?p.message:"Login failed"})),p}},[e]),o=x.useCallback(async()=>{t(a=>({...a,isLoading:!0}));try{await fetch(Tt("/auth/logout"),{method:"POST",credentials:"include",headers:{"X-CSRF-Token":n.csrfToken||""}})}catch(a){console.error("Logout error:",a)}finally{t({user:null,isAuthenticated:!1,isLoading:!1,error:null,csrfToken:null}),e({to:"/login"})}},[e,n.csrfToken]),i=x.useCallback(()=>{t(a=>({...a,error:null}))},[]);return x.useMemo(()=>({...n,login:r,logout:o,clearError:i,refreshCsrfToken:s}),[n,r,o,i,s])}function Hc({children:e}){const n=zc();return d.jsx(Zo.Provider,{value:n,children:e})}function Us(){const e=x.useContext(Zo);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const ei=x.createContext(void 0),Gr="vault-theme";function Uc({children:e,defaultTheme:n="system"}){const[t,s]=x.useState(()=>typeof window>"u"?n:localStorage.getItem(Gr)||n),[r,o]=x.useState("light");x.useEffect(()=>{const l=window.document.documentElement,c=u=>{l.classList.remove("light","dark"),l.classList.add(u),o(u)};if(t==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";c(u);const p=f=>{c(f.matches?"dark":"light")};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",p),()=>window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",p)}else c(t)},[t]);const i=l=>{localStorage.setItem(Gr,l),s(l)},a=()=>{i(t==="dark"?"light":t==="light"?"dark":r==="dark"?"light":"dark")};return d.jsx(ei.Provider,{value:{theme:t,setTheme:i,resolvedTheme:r,toggleTheme:a},children:e})}function Gc(){const e=x.useContext(ei);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function Wc(){const{resolvedTheme:e,toggleTheme:n}=Gc();return d.jsx("button",{type:"button",onClick:n,className:"p-2 rounded-lg hover:bg-accent transition-colors","aria-label":`Switch to ${e==="dark"?"light":"dark"} mode`,children:e==="dark"?d.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):d.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})})}const Kc=({...e})=>d.jsx(aa,{theme:"system",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-elevated",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground",success:"group-[.toaster]:border-success group-[.toaster]:text-success",error:"group-[.toaster]:border-destructive group-[.toaster]:text-destructive",warning:"group-[.toaster]:border-warning group-[.toaster]:text-warning",info:"group-[.toaster]:border-info group-[.toaster]:text-info"}},...e}),he={success:(e,n)=>$e.success(e,n?{description:n}:void 0),error:(e,n)=>$e.error(e,n?{description:n}:void 0),warning:(e,n)=>$e.warning(e,n?{description:n}:void 0),info:(e,n)=>$e.info(e,n?{description:n}:void 0),loading:e=>$e.loading(e),promise:(e,n)=>$e.promise(e,{loading:n.loading,success:n.success,error:n.error})},qc=x.createContext(void 0);function Yc({children:e}){const[n,t]=x.useState(!1),[s,r]=x.useState(null),o=x.useRef(null),i=x.useRef(new Set),a=x.useCallback(c=>(i.current.add(c),()=>{i.current.delete(c)}),[]),l=x.useCallback(c=>{const u={...c,timestamp:new Date().toISOString()};i.current.forEach(p=>p(u))},[]);return x.useEffect(()=>{const u=(()=>{t(!0);const p=setInterval(()=>{const f=["tenant.created","user.login","ping"],h=f[Math.floor(Math.random()*f.length)];if(h!=="ping"){const m={type:h,data:{},timestamp:new Date().toISOString()};r(m),i.current.forEach(g=>g(m)),h==="tenant.created"&&he.info("New tenant created","A new tenant has been added to the platform")}},3e4);return()=>clearInterval(p)})();return()=>{u?.(),o.current?.close()}},[]),d.jsx(qc.Provider,{value:{isConnected:n,lastMessage:s,subscribe:a,sendMessage:l},children:e})}const ti=x.createContext(null);function Qc({children:e}){const[n,t]=x.useState(!1),[s,r]=x.useState(!1),[o,i]=x.useState(null),[a,l]=x.useState(navigator.onLine),[c,u]=x.useState(!1),[p,f]=x.useState(null);x.useEffect(()=>{window.matchMedia("(display-mode: standalone)").matches&&t(!0)},[]),x.useEffect(()=>{const v=S=>{S.preventDefault(),i(S),r(!0)},y=()=>{t(!0),r(!1),i(null),he.success("Vault Admin installed successfully!")};return window.addEventListener("beforeinstallprompt",v),window.addEventListener("appinstalled",y),()=>{window.removeEventListener("beforeinstallprompt",v),window.removeEventListener("appinstalled",y)}},[]),x.useEffect(()=>{const v=()=>{l(!0),he.success("You are back online")},y=()=>{l(!1),he.info("You are offline. Some features may be limited.")};return window.addEventListener("online",v),window.addEventListener("offline",y),()=>{window.removeEventListener("online",v),window.removeEventListener("offline",y)}},[]),x.useEffect(()=>{"serviceWorker"in navigator&&(navigator.serviceWorker.ready.then(v=>{v.waiting&&(u(!0),f(v.waiting)),v.addEventListener("updatefound",()=>{const y=v.installing;y&&y.addEventListener("statechange",()=>{y.state==="installed"&&navigator.serviceWorker.controller&&(u(!0),f(y),he.info("Update available! Refresh to apply."))})})}),navigator.serviceWorker.addEventListener("message",v=>{v.data?.type==="UPDATE_AVAILABLE"&&(u(!0),he.info("A new version is available!"))}))},[]);const g={isInstalled:n,canInstall:s,install:async()=>{if(!o)return;o.prompt();const{outcome:v}=await o.userChoice;v==="accepted"&&(i(null),r(!1))},isOnline:a,updateAvailable:c,applyUpdate:()=>{p&&(p.postMessage({type:"SKIP_WAITING"}),window.location.reload())}};return d.jsx(ti.Provider,{value:g,children:e})}function Gs(){const e=x.useContext(ti);if(!e)throw new Error("usePWA must be used within a PWAProvider");return e}function Xc(){const{canInstall:e,install:n,isInstalled:t}=Gs(),[s,r]=x.useState(!1);x.useEffect(()=>{if(e&&!t){const i=setTimeout(()=>r(!0),3e3);return()=>clearTimeout(i)}},[e,t]);const o=()=>{r(!1),localStorage.setItem("install-prompt-dismissed",Date.now().toString())};return s?d.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-50 animate-slide-up",children:d.jsxs("div",{className:"bg-background border rounded-lg shadow-lg p-4 flex items-center gap-4 max-w-sm",children:[d.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:d.jsx("svg",{className:"h-6 w-6 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium",children:"Install Vault Admin"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Add to home screen for quick access"})]}),d.jsx("button",{type:"button",onClick:n,className:"px-3 py-1.5 bg-primary text-primary-foreground rounded-md text-sm font-medium hover:bg-primary/90",children:"Install"}),d.jsx("button",{type:"button",onClick:o,className:"p-1 text-muted-foreground hover:text-foreground","aria-label":"Dismiss",children:d.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):null}function Jc(){const{isOnline:e}=Gs();return e?null:d.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-amber-500 text-white text-center py-1 text-sm",children:"You are offline. Some features may be limited."})}function Zc(){const{updateAvailable:e,applyUpdate:n}=Gs();return e?d.jsx("div",{className:"fixed bottom-4 right-4 z-50 animate-slide-up",children:d.jsxs("div",{className:"bg-background border rounded-lg shadow-lg p-4 flex items-center gap-4",children:[d.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:d.jsx("svg",{className:"h-5 w-5 text-blue-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Update Available"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Refresh to get the latest version"})]}),d.jsx("button",{type:"button",onClick:n,className:"px-3 py-1.5 bg-primary text-primary-foreground rounded-md text-sm font-medium hover:bg-primary/90",children:"Update"})]})}):null}function j(...e){return zi(Hi(e))}function un(e,n){const t=typeof e=="string"?new Date(e):e;return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",...n}).format(t)}function Uh(e){return un(e,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Gh(e,n){return new Intl.NumberFormat("en-US",n).format(e)}function Wh(e,n="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:n}).format(e)}function Kh(e){const n=typeof e=="string"?new Date(e):e,s=Math.floor((new Date().getTime()-n.getTime())/1e3);if(Number.isNaN(s))return"invalid date";if(Math.abs(s)<5)return"just now";const r=new Intl.RelativeTimeFormat("en",{numeric:"auto"}),o=[{limit:60,unit:"second",divisor:1},{limit:3600,unit:"minute",divisor:60},{limit:86400,unit:"hour",divisor:3600},{limit:604800,unit:"day",divisor:86400},{limit:2629800,unit:"week",divisor:604800},{limit:31557600,unit:"month",divisor:2629800},{limit:1/0,unit:"year",divisor:31557600}],i=Math.abs(s),a=o.find(c=>i<c.limit)??o[o.length-1],l=Math.round(s/a.divisor);return r.format(-l,a.unit)}const eu=_s("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors transition-shadow transition-transform duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.98]",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary-600 hover:shadow-glow",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",soft:"bg-primary/10 text-primary hover:bg-primary/20"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-11 rounded-md px-8",icon:"h-10 w-10","icon-sm":"h-8 w-8","icon-lg":"h-11 w-11"},fullWidth:{true:"w-full"}},defaultVariants:{variant:"default",size:"default"}}),je=x.forwardRef(({className:e,variant:n,size:t,fullWidth:s,asChild:r=!1,isLoading:o,leftIcon:i,rightIcon:a,children:l,disabled:c,...u},p)=>{const f=r&&x.isValidElement(l)&&l.type!==x.Fragment,h=f?Ui:"button",m=f?l:o?d.jsxs(d.Fragment,{children:[d.jsx(Gi,{className:"h-4 w-4 animate-spin"}),l]}):d.jsxs(d.Fragment,{children:[i&&d.jsx("span",{className:"flex items-center",children:i}),l,a&&d.jsx("span",{className:"flex items-center",children:a})]});return d.jsx(h,{className:j(eu({variant:n,size:t,fullWidth:s,className:e})),ref:p,disabled:c||o,...u,children:m})});je.displayName="Button";const tu=[{title:"Dashboard",href:"/",icon:Es},{title:"Tenants",href:"/tenants",icon:bt,children:[{title:"All Tenants",href:"/tenants"},{title:"Create Tenant",href:"/tenants/create"}]},{title:"Billing",href:"/billing",icon:gn,children:[{title:"Subscriptions",href:"/billing/subscriptions"},{title:"Invoices",href:"/billing/invoices"}]},{title:"Platform Audit",href:"/audit",icon:mn},{title:"System",href:"/system",icon:vn},{title:"Settings",href:"/settings",icon:yn,children:[{title:"General",href:"/settings"},{title:"Security",href:"/settings/security"},{title:"API Keys",href:"/settings/api-keys"},{title:"SSO & Integrations",href:"/settings/sso"},{title:"Webhooks",href:"/settings/webhooks"}]}];function nu({isCollapsed:e,onToggle:n,onLogout:t,user:s,items:r}){const o=zs(),[i,a]=x.useState(["Tenants"]),l=Ne(),c=r??tu,u=f=>{a(h=>h.includes(f)?h.filter(m=>m!==f):[...h,f])},p=f=>f==="/"?o.pathname==="/":o.pathname===f||o.pathname.startsWith(`${f}/`);return d.jsxs(H.aside,{initial:!1,animate:{width:e?80:260},transition:l?{duration:0}:{duration:.3,ease:[.34,1.56,.64,1]},className:j("fixed left-0 top-0 z-40 h-screen border-r bg-sidebar flex flex-col",e&&"items-center"),children:[d.jsx("div",{className:"flex h-16 items-center justify-between px-4 border-b border-sidebar-border",children:d.jsxs(Re,{to:"/",preload:"intent",className:"flex items-center gap-3 overflow-hidden",children:[d.jsx("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-primary",children:d.jsx(Cs,{className:"h-5 w-5 text-primary-foreground"})}),d.jsx(Ee,{mode:"wait",children:!e&&d.jsx(H.span,{initial:l?!1:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:l?{opacity:0}:{opacity:0,x:-10},className:"font-semibold text-sidebar-foreground whitespace-nowrap",children:"Vault Admin"})})]})}),d.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-3",children:d.jsx("ul",{className:"space-y-1",children:c.map(f=>{const h=p(f.href),m=f.children&&f.children.length>0,g=i.includes(f.title);return d.jsx("li",{children:m&&!e?d.jsxs("div",{className:"space-y-1",children:[d.jsxs("button",{type:"button",onClick:()=>u(f.title),className:j("w-full flex items-center justify-between gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",h?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/50"),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(f.icon,{className:"h-5 w-5 shrink-0","aria-hidden":"true"}),d.jsx("span",{children:f.title})]}),d.jsx(H.div,{animate:{rotate:g?90:0},transition:l?{duration:0}:{duration:.2},children:d.jsx(Zn,{className:"h-4 w-4","aria-hidden":"true"})})]}),d.jsx(Ee,{children:g&&d.jsx(H.ul,{initial:l?!1:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:l?{opacity:0}:{height:0,opacity:0},transition:l?{duration:0}:{duration:.2},className:"overflow-hidden pl-10 space-y-1",children:f.children?.map(v=>d.jsx("li",{children:d.jsx(Re,{to:v.href,preload:"intent",className:j("block rounded-lg px-3 py-2 text-sm transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",p(v.href)?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:bg-sidebar-accent/50 hover:text-sidebar-foreground"),children:v.title})},v.href))})})]}):d.jsxs(Re,{to:f.href,preload:"intent",className:j("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",h?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/50",e&&"justify-center"),title:e?f.title:void 0,"aria-label":e?f.title:void 0,children:[d.jsx(f.icon,{className:"h-5 w-5 shrink-0","aria-hidden":"true"}),d.jsx(Ee,{mode:"wait",children:!e&&d.jsx(H.span,{initial:l?!1:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:l?{opacity:0}:{opacity:0,width:0},className:"whitespace-nowrap overflow-hidden",children:f.title})}),f.badge&&!e&&d.jsx("span",{className:"ml-auto text-xs bg-primary text-primary-foreground px-2 py-0.5 rounded-full",children:f.badge})]})},f.title)})})}),d.jsxs("div",{className:"border-t border-sidebar-border p-3 space-y-3",children:[d.jsxs("div",{className:j("flex items-center gap-3 rounded-lg px-3 py-2",e&&"justify-center px-2"),children:[d.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-primary/10 flex items-center justify-center",children:d.jsx("span",{className:"text-sm font-medium text-primary",children:s?.name?.[0]||s?.email?.[0]||"A"})}),d.jsx(Ee,{mode:"wait",children:!e&&d.jsxs(H.div,{initial:l?!1:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:l?{opacity:0}:{opacity:0,width:0},className:"flex-1 min-w-0 overflow-hidden",children:[d.jsx("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:s?.name||"Admin User"}),d.jsx("p",{className:"text-xs text-sidebar-foreground/60 truncate",children:s?.email||"admin@vault.local"})]})})]}),d.jsx(je,{variant:"ghost",size:e?"icon":"default",onClick:n,className:j("w-full",e&&"justify-center"),"aria-label":e?"Expand sidebar":"Collapse sidebar",leftIcon:e?d.jsx(Zn,{className:"h-4 w-4"}):d.jsx(Wi,{className:"h-4 w-4"}),children:!e&&"Collapse"}),t&&d.jsx(je,{variant:"ghost",size:e?"icon":"default",onClick:t,className:j("w-full text-destructive hover:text-destructive hover:bg-destructive/10",e&&"justify-center"),"aria-label":e?"Log out":void 0,leftIcon:d.jsx(Rt,{className:"h-4 w-4"}),children:!e&&"Logout"})]})]})}const ni=[{title:"Dashboard",href:"/",icon:Es},{title:"Tenants",href:"/tenants",icon:bt},{title:"Users",href:"/users",icon:Ps},{title:"Roles",href:"/roles",icon:Ms},{title:"Usage",href:"/usage",icon:Is},{title:"Billing",href:"/billing",icon:gn},{title:"Audit",href:"/audit",icon:mn},{title:"Notifications",href:"/notifications",icon:Jt},{title:"Support",href:"/support",icon:Fs},{title:"System",href:"/system",icon:vn},{title:"Settings",href:"/settings",icon:yn}];function su({isOpen:e,onClose:n,onLogout:t,user:s}){const r=zs(),o=Ne(),i=a=>a==="/"?r.pathname==="/":r.pathname===a||r.pathname.startsWith(`${a}/`);return d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:()=>e?n():null,className:"lg:hidden fixed top-4 left-4 z-50 p-2 rounded-lg bg-background border shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary","aria-label":e?"Close navigation menu":"Open navigation menu",children:e?d.jsx(es,{className:"h-5 w-5","aria-hidden":"true"}):d.jsx(Ki,{className:"h-5 w-5","aria-hidden":"true"})}),d.jsx(Ee,{children:e&&d.jsx(H.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm lg:hidden","aria-label":"Close navigation menu",type:"button",transition:o?{duration:0}:{duration:.2}})}),d.jsx(Ee,{children:e&&d.jsxs(H.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:o?{duration:0}:{type:"spring",damping:25,stiffness:200},className:"fixed left-0 top-0 z-50 h-full w-72 bg-sidebar border-r lg:hidden",children:[d.jsxs("div",{className:"flex h-16 items-center justify-between px-4 border-b border-sidebar-border",children:[d.jsxs(Re,{to:"/",preload:"intent",className:"flex items-center gap-3",onClick:n,children:[d.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-primary",children:d.jsx(Cs,{className:"h-5 w-5 text-primary-foreground"})}),d.jsx("span",{className:"font-semibold text-sidebar-foreground",children:"Vault Admin"})]}),d.jsx("button",{type:"button",onClick:n,className:"p-2 rounded-lg text-sidebar-foreground hover:bg-sidebar-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary","aria-label":"Close navigation menu",children:d.jsx(es,{className:"h-5 w-5","aria-hidden":"true"})})]}),d.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-3",children:d.jsx("ul",{className:"space-y-1",children:ni.map(a=>{const l=i(a.href);return d.jsx("li",{children:d.jsxs(Re,{to:a.href,preload:"intent",onClick:n,className:j("flex items-center gap-3 rounded-lg px-3 py-3 text-sm font-medium transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",l?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/50"),children:[d.jsx(a.icon,{className:"h-5 w-5 shrink-0","aria-hidden":"true"}),d.jsx("span",{children:a.title}),d.jsx(Zn,{className:"h-4 w-4 ml-auto opacity-50","aria-hidden":"true"})]})},a.title)})})}),d.jsxs("div",{className:"border-t border-sidebar-border p-4 space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3 rounded-lg px-3 py-2",children:[d.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:d.jsx("span",{className:"text-sm font-medium text-primary",children:s?.name?.[0]||s?.email?.[0]||"A"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:s?.name||"Admin User"}),d.jsx("p",{className:"text-xs text-sidebar-foreground/60 truncate",children:s?.email||"admin@vault.local"})]})]}),t&&d.jsx(je,{variant:"ghost",onClick:t,className:"w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10",leftIcon:d.jsx(Rt,{className:"h-4 w-4"}),children:"Logout"})]})]})})]})}function ru(){const e=zs(),n=Ne(),t=r=>r==="/"?e.pathname==="/":e.pathname===r||e.pathname.startsWith(`${r}/`),s=ni.slice(0,5);return d.jsx(H.nav,{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-background border-t safe-area-pb",initial:n?!1:{y:20,opacity:0},animate:{y:0,opacity:1},transition:n?{duration:0}:{duration:.2},children:d.jsx("div",{className:"flex items-center justify-around",children:s.map(r=>{const o=t(r.href);return d.jsxs(Re,{to:r.href,preload:"intent",className:j("flex flex-col items-center justify-center py-2 px-3 min-w-[60px]","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",o?"text-primary":"text-muted-foreground"),children:[d.jsx(r.icon,{className:j("h-5 w-5",o&&"stroke-[2.5px]"),"aria-hidden":"true"}),d.jsx("span",{className:"text-[10px] mt-1 font-medium",children:r.title})]},r.title)})})})}const Ws=Qi,ou=qi,si=x.forwardRef(({className:e,...n},t)=>d.jsx(go,{ref:t,className:j("fixed inset-0 z-50 bg-black/60 backdrop-blur-sm overscroll-contain data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n}));si.displayName=go.displayName;const bn=x.forwardRef(({className:e,children:n,showClose:t=!0,size:s="default",...r},o)=>d.jsxs(ou,{children:[d.jsx(si,{}),d.jsxs(mo,{ref:o,className:j("fixed left-[50%] top-[50%] z-50 grid w-full translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-elevated duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s==="sm"&&"max-w-sm",s==="default"&&"max-w-lg",s==="lg"&&"max-w-2xl",s==="xl"&&"max-w-4xl",s==="full"&&"max-w-[95vw] h-[90vh]",e),...r,children:[n,t&&d.jsxs(Yi,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(es,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bn.displayName=mo.displayName;const Ks=({className:e,...n})=>d.jsx("div",{className:j("flex flex-col space-y-1.5 text-center sm:text-left",e),...n});Ks.displayName="DialogHeader";const qs=({className:e,...n})=>d.jsx("div",{className:j("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...n});qs.displayName="DialogFooter";const Ys=x.forwardRef(({className:e,...n},t)=>d.jsx(vo,{ref:t,className:j("text-lg font-semibold leading-none tracking-tight",e),...n}));Ys.displayName=vo.displayName;const Qs=x.forwardRef(({className:e,...n},t)=>d.jsx(yo,{ref:t,className:j("text-sm text-muted-foreground",e),...n}));Qs.displayName=yo.displayName;function qh({isOpen:e,onClose:n,onConfirm:t,title:s,description:r,confirmText:o="Confirm",cancelText:i="Cancel",variant:a="default",isLoading:l}){return d.jsx(Ws,{open:e,onOpenChange:n,children:d.jsxs(bn,{size:"sm",showClose:!1,children:[d.jsxs(Ks,{children:[d.jsx(Ys,{children:s}),d.jsx(Qs,{children:r})]}),d.jsxs(qs,{className:"mt-4",children:[d.jsx("button",{type:"button",onClick:n,className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:i}),d.jsx("button",{type:"button",onClick:t,disabled:l,className:j("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-10 px-4 py-2",a==="destructive"?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"bg-primary text-primary-foreground hover:bg-primary/90"),children:l?"Loading":o})]})]})})}function iu({items:e}){const[n,t]=x.useState(!1),[s,r]=x.useState(""),[o,i]=x.useState(0),a=Je(),{logout:l}=Us(),c=Ne(),u=x.useRef(null),p=x.useDeferredValue(s);x.useEffect(()=>{const y=S=>{(S.metaKey||S.ctrlKey)&&S.key==="k"&&(S.preventDefault(),t(!0)),S.key==="Escape"&&t(!1)};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[]);const f=e??[{id:"dashboard",title:"Dashboard",icon:Es,href:"/",section:"Navigation"},{id:"tenants",title:"Tenants",icon:bt,href:"/tenants",section:"Navigation"},{id:"create-tenant",title:"Create New Tenant",subtitle:"Add a new tenant to the platform",icon:ts,href:"/tenants/create",section:"Navigation"},{id:"users",title:"Users",icon:Ps,href:"/users",section:"Navigation"},{id:"roles",title:"Roles & Permissions",icon:Ms,href:"/roles",section:"Navigation"},{id:"usage",title:"Usage & Analytics",icon:Is,href:"/usage",section:"Navigation"},{id:"billing",title:"Billing",icon:gn,href:"/billing",section:"Navigation"},{id:"audit",title:"Audit Logs",icon:mn,href:"/audit",section:"Navigation"},{id:"notifications",title:"Notifications",icon:Jt,href:"/notifications",section:"Navigation"},{id:"support",title:"Support",icon:Fs,href:"/support",section:"Navigation"},{id:"system",title:"System",icon:vn,href:"/system",section:"Navigation"},{id:"settings",title:"Settings",icon:yn,href:"/settings",section:"Navigation"},{id:"logout",title:"Logout",subtitle:"Sign out of your account",icon:Rt,action:()=>l(),section:"Actions"}],h=x.useMemo(()=>{if(!p.trim())return f;const y=p.toLowerCase();return f.filter(S=>S.title.toLowerCase().includes(y)||S.subtitle?.toLowerCase().includes(y))},[p]),m=x.useMemo(()=>{const y={};return h.forEach(S=>{y[S.section]||(y[S.section]=[]),y[S.section].push(S)}),y},[h]),g=x.useMemo(()=>Object.values(m).flat(),[m]),v=y=>{t(!1),r(""),y.action?y.action():y.href&&a({to:y.href})};return x.useEffect(()=>{const y=S=>{if(n)switch(S.key){case"ArrowDown":S.preventDefault(),i(w=>w<g.length-1?w+1:w);break;case"ArrowUp":S.preventDefault(),i(w=>w>0?w-1:w);break;case"Enter":S.preventDefault(),g[o]&&v(g[o]);break}};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n,g,o]),x.useEffect(()=>{i(0)},[s]),x.useEffect(()=>{if(!n)return;(window.matchMedia?.("(pointer: fine)")?.matches??!1)&&u.current?.focus()},[n]),d.jsxs(d.Fragment,{children:[d.jsxs("button",{type:"button",onClick:()=>t(!0),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-muted hover:bg-accent transition-colors text-sm text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary","aria-label":"Open global search",children:[d.jsx(Gt,{className:"h-4 w-4","aria-hidden":"true"}),d.jsx("span",{className:"hidden sm:inline",children:"Search"}),d.jsxs("kbd",{className:"hidden sm:inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-background text-xs font-mono",children:[d.jsx(So,{className:"h-3 w-3","aria-hidden":"true"}),d.jsx("span",{children:"K"})]})]}),d.jsx(Ws,{open:n,onOpenChange:t,children:d.jsxs(bn,{className:"max-w-2xl p-0 gap-0 overflow-hidden",showClose:!1,children:[d.jsxs("div",{className:"flex items-center gap-3 px-4 py-4 border-b",children:[d.jsx(Gt,{className:"h-5 w-5 text-muted-foreground","aria-hidden":"true"}),d.jsx("input",{type:"text",placeholder:"Search commands, pages, or actions",className:"flex-1 bg-transparent text-lg placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",value:s,onChange:y=>r(y.target.value),"aria-label":"Search",name:"global-search",autoComplete:"off",ref:u}),d.jsx("kbd",{className:"hidden sm:inline-flex items-center gap-1 px-2 py-1 rounded bg-muted text-xs font-mono",children:"ESC"})]}),d.jsx("div",{className:"max-h-[400px] overflow-y-auto py-2",children:g.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[d.jsx(Gt,{className:"h-12 w-12 text-muted-foreground/50 mb-4","aria-hidden":"true"}),d.jsx("p",{className:"text-muted-foreground",children:"No results found"}),d.jsx("p",{className:"text-sm text-muted-foreground/70",children:"Try searching for something else"})]}):Object.entries(m).map(([y,S])=>d.jsxs("div",{className:"px-2",children:[d.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:y}),S.map((w,b)=>{const _=g.findIndex(E=>E.id===w.id),P=_===o;return d.jsxs(H.button,{onClick:()=>v(w),onMouseEnter:()=>i(_),className:j("w-full flex items-center gap-3 px-3 py-3 rounded-lg text-left transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",P?"bg-primary text-primary-foreground":"hover:bg-accent"),initial:c?!1:{opacity:0,y:5},animate:{opacity:1,y:0},transition:c?{duration:0}:{delay:b*.02},children:[d.jsx(w.icon,{className:j("h-5 w-5",P?"text-primary-foreground":"text-muted-foreground"),"aria-hidden":"true"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:j("font-medium",P&&"text-primary-foreground"),children:w.title}),w.subtitle&&d.jsx("p",{className:j("text-sm truncate",P?"text-primary-foreground/80":"text-muted-foreground"),children:w.subtitle})]}),w.shortcut&&d.jsx("kbd",{className:j("px-2 py-1 rounded text-xs font-mono",P?"bg-primary-foreground/20":"bg-muted"),children:w.shortcut}),P&&d.jsx(Xi,{className:"h-4 w-4","aria-hidden":"true"})]},w.id)})]},y))}),d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t bg-muted/50 text-xs text-muted-foreground",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-background border",children:""}),d.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-background border",children:""}),d.jsx("span",{children:"to navigate"})]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-background border",children:""}),d.jsx("span",{children:"to select"})]})]}),d.jsxs("span",{children:[g.length," results"]})]})]})})]})}function au({open:e,onOpenChange:n}){const t=Je(),{logout:s}=Us(),[r,o]=x.useState(""),[i,a]=x.useState([]),l=i[i.length-1],c=x.useRef(null);x.useEffect(()=>{e&&setTimeout(()=>c.current?.focus(),100)},[e]),x.useEffect(()=>{const S=w=>{w.key==="k"&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),n(!e))};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[e,n]);const u=S=>{a([...i,S])},p=()=>{a(i.slice(0,-1))},f=S=>{t({to:S}),n(!1),o(""),a([])},h=[{id:"dashboard",title:"Dashboard",subtitle:"Go to dashboard",icon:d.jsx(Zi,{className:"h-4 w-4"}),shortcut:["G","D"],href:"/",section:"Navigation"},{id:"tenants",title:"Tenants",subtitle:"Manage platform tenants",icon:d.jsx(bt,{className:"h-4 w-4"}),shortcut:["G","T"],href:"/tenants",section:"Navigation"},{id:"users",title:"Users",subtitle:"Manage platform users",icon:d.jsx(Ps,{className:"h-4 w-4"}),shortcut:["G","U"],href:"/users",section:"Navigation"},{id:"roles",title:"Roles & Permissions",subtitle:"Manage access control",icon:d.jsx(Ms,{className:"h-4 w-4"}),shortcut:["G","R"],href:"/roles",section:"Navigation"},{id:"usage",title:"Usage & Analytics",subtitle:"Platform usage and exports",icon:d.jsx(Is,{className:"h-4 w-4"}),shortcut:["G","Y"],href:"/usage",section:"Navigation"},{id:"billing",title:"Billing",subtitle:"Subscriptions and invoices",icon:d.jsx(gn,{className:"h-4 w-4"}),shortcut:["G","B"],href:"/billing",section:"Navigation"},{id:"audit",title:"Audit Logs",subtitle:"View platform activity",icon:d.jsx(mn,{className:"h-4 w-4"}),shortcut:["G","A"],href:"/audit",section:"Navigation"},{id:"notifications-nav",title:"Notifications",subtitle:"System alerts and updates",icon:d.jsx(Jt,{className:"h-4 w-4"}),shortcut:["G","N"],href:"/notifications",section:"Navigation"},{id:"support",title:"Support",subtitle:"Tickets and incidents",icon:d.jsx(Fs,{className:"h-4 w-4"}),shortcut:["G","P"],href:"/support",section:"Navigation"},{id:"system",title:"System",subtitle:"Health and feature flags",icon:d.jsx(vn,{className:"h-4 w-4"}),shortcut:["G","M"],href:"/system",section:"Navigation"},{id:"settings",title:"Settings",subtitle:"Configure platform",icon:d.jsx(yn,{className:"h-4 w-4"}),shortcut:["G","S"],href:"/settings",section:"Navigation"},{id:"create-tenant",title:"Create Tenant",subtitle:"Add a new tenant to the platform",icon:d.jsx(ts,{className:"h-4 w-4"}),shortcut:["C","T"],href:"/tenants/create",section:"Quick Actions"},{id:"api-keys",title:"API Keys",subtitle:"Manage API access tokens",icon:d.jsx(gr,{className:"h-4 w-4"}),action:()=>u("api-keys"),section:"Quick Actions"},{id:"webhooks",title:"Webhooks",subtitle:"Configure webhook endpoints",icon:d.jsx(ea,{className:"h-4 w-4"}),href:"/settings/webhooks",section:"Quick Actions"},{id:"notifications",title:"Notifications",subtitle:"View recent notifications",icon:d.jsx(Jt,{className:"h-4 w-4"}),href:"/notifications",section:"Quick Actions"},{id:"security-settings",title:"Security Settings",subtitle:"MFA, sessions, password",icon:d.jsx(Cs,{className:"h-4 w-4"}),href:"/settings/security",section:"Settings"},{id:"theme",title:"Toggle Theme",subtitle:"Switch between light and dark mode",icon:d.jsx(ta,{className:"h-4 w-4"}),shortcut:["T","T"],action:()=>{n(!1)},section:"Settings"},{id:"logout",title:"Logout",subtitle:"Sign out of your account",icon:d.jsx(Rt,{className:"h-4 w-4"}),shortcut:["","Q"],action:()=>{s(),n(!1)},section:"Account"}],g=l==="api-keys"?[{id:"back",title:"Back",subtitle:"Return to main menu",icon:d.jsx(So,{className:"h-4 w-4"}),action:p,section:"Navigation"},{id:"view-api-keys",title:"View API Keys",subtitle:"See all configured API keys",icon:d.jsx(gr,{className:"h-4 w-4"}),action:()=>{t({to:"/settings/api-keys"}),n(!1)},section:"API Keys"},{id:"generate-key",title:"Generate New Key",subtitle:"Create a new API key",icon:d.jsx(ts,{className:"h-4 w-4"}),action:()=>{t({to:"/settings/api-keys"}),n(!1)},section:"API Keys"}]:h,v=[...new Set(g.map(S=>S.section))],y=S=>{if(!l){for(const w of h)if(w.shortcut&&w.shortcut.length===2){const[,b]=w.shortcut;if(S.key.toUpperCase()===b&&S.shiftKey){if(w.href){f(w.href);return}else if(w.action){w.action();return}}}}S.key==="Backspace"&&!r&&l&&(S.preventDefault(),p())};return d.jsx(Ee,{children:e&&d.jsxs(d.Fragment,{children:[d.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(!1),className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm"}),d.jsx(H.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{duration:.15},className:"fixed left-1/2 top-[20%] z-50 w-full max-w-2xl -translate-x-1/2",children:d.jsxs(Oe,{className:"overflow-hidden rounded-xl border bg-popover shadow-2xl",onKeyDown:y,children:[d.jsxs("div",{className:"flex items-center border-b px-4",children:[d.jsx(Gt,{className:"mr-2 h-4 w-4 shrink-0 text-muted-foreground"}),d.jsx(Oe.Input,{ref:c,value:r,onValueChange:o,placeholder:l?"Search...":"Type a command or search...",className:"flex h-12 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50"}),l&&d.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[d.jsx("kbd",{className:"rounded bg-muted px-1.5 py-0.5",children:""}),d.jsx("span",{children:"Back"})]})]}),d.jsxs(Oe.List,{className:"max-h-[60vh] overflow-y-auto p-2",children:[d.jsxs(Oe.Empty,{className:"py-6 text-center text-sm text-muted-foreground",children:['No results found for "',r,'"']}),v.map(S=>{const w=g.filter(b=>b.section===S);return w.length===0?null:d.jsxs(Oe.Group,{heading:S,className:"overflow-hidden p-1 text-foreground",children:[d.jsx("div",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:S}),w.map(b=>d.jsxs(Oe.Item,{value:`${b.title} ${b.subtitle} ${b.keywords?.join(" ")||""}`,onSelect:()=>{b.action?b.action():b.href&&f(b.href)},className:j("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-2.5 text-sm outline-none","data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground","hover:bg-accent hover:text-accent-foreground"),children:[d.jsxs("div",{className:"flex flex-1 items-center gap-3",children:[b.icon&&d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md bg-muted",children:b.icon}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-medium",children:b.title}),b.subtitle&&d.jsx("span",{className:"text-xs text-muted-foreground",children:b.subtitle})]})]}),b.shortcut&&d.jsx("div",{className:"flex items-center gap-1",children:b.shortcut.map((_,P)=>d.jsx("kbd",{className:"rounded bg-muted px-1.5 py-0.5 text-xs font-mono",children:_},P))}),b.href&&!b.shortcut&&d.jsx(Ji,{className:"h-3 w-3 text-muted-foreground"})]},b.id))]},S)})]}),d.jsxs("div",{className:"flex items-center justify-between border-t px-4 py-2 text-xs text-muted-foreground",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("kbd",{className:"rounded bg-muted px-1.5 py-0.5",children:""}),d.jsx("span",{children:"Navigate"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("kbd",{className:"rounded bg-muted px-1.5 py-0.5",children:""}),d.jsx("span",{children:"Select"})]}),l&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("kbd",{className:"rounded bg-muted px-1.5 py-0.5",children:""}),d.jsx("span",{children:"Back"})]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("kbd",{className:"rounded bg-muted px-1.5 py-0.5",children:""}),d.jsx("kbd",{className:"rounded bg-muted px-1.5 py-0.5",children:"K"}),d.jsx("span",{children:"to open"})]})]})]})})]})})}function ri(){const[e,n]=x.useState(!1);x.useEffect(()=>{const r=i=>{i.key==="Tab"&&n(!0)},o=()=>{n(!1)};return window.addEventListener("keydown",r),window.addEventListener("click",o),()=>{window.removeEventListener("keydown",r),window.removeEventListener("click",o)}},[]);const t=()=>{const r=document.getElementById("main-content");r&&(r.focus(),r.scrollIntoView({behavior:"smooth"}),n(!1))},s=()=>{const r=document.querySelector('nav[role="navigation"]');r&&(r.focus(),n(!1))};return e?d.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 bg-background border-b shadow-lg p-4 flex gap-4",children:[d.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-ring",children:"Skip to main content"}),d.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 focus:outline-none focus:ring-2 focus:ring-ring",children:"Skip to navigation"})]}):d.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-primary focus:text-primary-foreground focus:rounded-md focus:shadow-lg",onClick:r=>{r.preventDefault(),t()},children:"Skip to main content"})}function lu(){return d.jsxs(d.Fragment,{children:[d.jsx("div",{id:"aria-announcer-polite",role:"status","aria-live":"polite","aria-atomic":"true",className:"sr-only"}),d.jsx("div",{id:"aria-announcer-assertive",role:"alert","aria-live":"assertive","aria-atomic":"true",className:"sr-only"})]})}function cu({children:e}){const[n,t]=x.useState(!1),[s,r]=x.useState(!1),[o,i]=x.useState(!1),{user:a,logout:l}=Us(),c=Ne();return x.useEffect(()=>{const u=localStorage.getItem("sidebar-collapsed");u&&t(u==="true")},[]),x.useEffect(()=>{localStorage.setItem("sidebar-collapsed",String(n))},[n]),x.useEffect(()=>{const u=()=>{window.innerWidth>=1024&&r(!1)};return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx(ri,{}),d.jsx("div",{className:"hidden lg:block",children:d.jsx(nu,{isCollapsed:n,onToggle:()=>t(!n),onLogout:l,user:a?{name:a.name,email:a.email}:void 0})}),d.jsx(su,{isOpen:s,onClose:()=>r(!1),onLogout:l,user:a?{name:a.name,email:a.email}:void 0}),d.jsxs(H.main,{initial:!1,animate:{marginLeft:n?80:260},transition:c?{duration:0}:{duration:.3,ease:[.34,1.56,.64,1]},className:j("min-h-screen transition-[margin] duration-300","lg:ml-0","pb-20 lg:pb-0"),id:"main-content",children:[d.jsx("header",{className:"sticky top-0 z-30 bg-background/80 backdrop-blur-md border-b",children:d.jsxs("div",{className:"flex items-center justify-between h-16 px-4 lg:px-8",children:[d.jsx("button",{type:"button",onClick:()=>r(!0),className:"lg:hidden p-2 -ml-2 rounded-lg hover:bg-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary","aria-label":"Open navigation menu",children:d.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),d.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[d.jsxs("button",{type:"button",onClick:()=>i(!0),className:"hidden md:flex items-center gap-2 px-3 py-1.5 text-sm text-muted-foreground bg-muted rounded-md hover:text-foreground transition-colors",children:[d.jsx("span",{children:"Search..."}),d.jsx("kbd",{className:"text-xs bg-background px-1.5 py-0.5 rounded border",children:"K"})]}),d.jsx("div",{className:"md:hidden",children:d.jsx(iu,{})}),d.jsx(Wc,{})]})]})}),d.jsx("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto",children:e})]}),d.jsx(ru,{}),d.jsx(au,{open:o,onOpenChange:i}),d.jsx(lu,{})]})}function Yh({title:e,description:n,actions:t,breadcrumbs:s}){const r=Ne();return d.jsxs("div",{className:"mb-8 space-y-4",children:[s&&s.length>0&&d.jsx("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:s.map((o,i)=>d.jsxs(x.Fragment,{children:[i>0&&d.jsx("span",{children:"/"}),o.href?d.jsx("a",{href:o.href,className:"hover:text-foreground transition-colors",children:o.label}):d.jsx("span",{className:"text-foreground",children:o.label})]},o.label))}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx(H.h1,{initial:r?!1:{opacity:0,y:-10},animate:r?{opacity:1,y:0}:{opacity:1,y:0},className:"text-2xl sm:text-3xl font-bold tracking-tight text-balance",children:e}),n&&d.jsx(H.p,{initial:r?!1:{opacity:0,y:-5},animate:r?{opacity:1,y:0}:{opacity:1,y:0},transition:r?{duration:0}:{delay:.1},className:"text-muted-foreground mt-1",children:n})]}),t&&d.jsx(H.div,{initial:r?!1:{opacity:0,scale:.95},animate:r?{opacity:1,scale:1}:{opacity:1,scale:1},transition:r?{duration:0}:{delay:.1},className:"flex items-center gap-2",children:t})]})]})}function Qh({title:e,value:n,trend:t,icon:s,color:r="blue"}){const o=Ne(),i={blue:"bg-blue-500/10 text-blue-600",green:"bg-green-500/10 text-green-600",amber:"bg-amber-500/10 text-amber-600",purple:"bg-purple-500/10 text-purple-600",rose:"bg-rose-500/10 text-rose-600"};return d.jsxs(H.div,{initial:o?!1:{opacity:0,y:20},animate:o?{opacity:1,y:0}:{opacity:1,y:0},whileHover:o?void 0:{y:-2},className:"rounded-xl border bg-card p-6 card-hover",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:j("p-3 rounded-lg",i[r]),children:s}),t&&d.jsxs("div",{className:j("flex items-center gap-1 text-sm font-medium",t.isPositive?"text-green-600":"text-rose-600"),children:[t.isPositive?"":""," ",Math.abs(t.value),"%"]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("p",{className:"text-muted-foreground text-sm",children:e}),d.jsx("p",{className:"text-2xl font-bold mt-1",children:n})]})]})}const uu=_s("inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors",{variants:{variant:{default:"bg-primary/10 text-primary border border-primary/20",secondary:"bg-secondary text-secondary-foreground",destructive:"bg-destructive/10 text-destructive border border-destructive/20",outline:"text-foreground border border-input",success:"bg-success/10 text-success-700 dark:text-success-400 border border-success/20",warning:"bg-warning/10 text-warning-700 dark:text-warning-400 border border-warning/20",info:"bg-info/10 text-info-700 dark:text-info-400 border border-info/20",muted:"bg-muted text-muted-foreground"},size:{default:"px-2.5 py-0.5 text-xs",sm:"px-2 py-0.5 text-[10px]",lg:"px-3 py-1 text-sm"}},defaultVariants:{variant:"default",size:"default"}});function Wr({className:e,variant:n,size:t,dot:s,dotColor:r,children:o,...i}){return d.jsxs("div",{className:j(uu({variant:n,size:t}),e),...i,children:[s&&d.jsx("span",{className:j("h-1.5 w-1.5 rounded-full",r||"bg-current")}),o]})}const du=_s("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",warning:"border-yellow-500/50 text-yellow-700 dark:text-yellow-300 bg-yellow-500/10 [&>svg]:text-yellow-600 dark:[&>svg]:text-yellow-400",info:"border-blue-500/50 text-blue-700 dark:text-blue-300 bg-blue-500/10 [&>svg]:text-blue-600 dark:[&>svg]:text-blue-400",success:"border-green-500/50 text-green-700 dark:text-green-300 bg-green-500/10 [&>svg]:text-green-600 dark:[&>svg]:text-green-400"}},defaultVariants:{variant:"default"}}),oi=x.forwardRef(({className:e,variant:n,...t},s)=>d.jsx("div",{ref:s,role:"alert",className:j(du({variant:n}),e),...t}));oi.displayName="Alert";const ii=x.forwardRef(({className:e,...n},t)=>d.jsx("h5",{ref:t,className:j("mb-1 font-medium leading-none tracking-tight",e),...n}));ii.displayName="AlertTitle";const ai=x.forwardRef(({className:e,...n},t)=>d.jsx("div",{ref:t,className:j("text-sm [&_p]:leading-relaxed",e),...n}));ai.displayName="AlertDescription";const li=x.forwardRef(({className:e,...n},t)=>d.jsx(xo,{ref:t,className:j("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...n,children:d.jsx(na,{className:j("flex items-center justify-center text-current"),children:d.jsx(sa,{className:"h-4 w-4"})})}));li.displayName=xo.displayName;const as=x.forwardRef(({className:e,...n},t)=>d.jsx(wo,{ref:t,className:j("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...n}));as.displayName=wo.displayName;function fu(){return[]}function Xh({tenantId:e,tenantName:n,onConfirm:t,onCancel:s,open:r}){const[o,i]=x.useState(""),[a,l]=x.useState(!1),[c,u]=x.useState(!1),p=async()=>{if(!o.trim()){he.error("Please provide a reason for impersonation");return}if(!a){he.error("Please acknowledge the privacy warning");return}u(!0),u(!1),t(o)};return d.jsx(Ws,{open:r,onOpenChange:f=>!f&&s(),children:d.jsxs(bn,{className:"max-w-2xl",children:[d.jsxs(Ks,{children:[d.jsxs(Ys,{className:"flex items-center gap-2 text-amber-600",children:[d.jsx(Ls,{className:"h-5 w-5"}),"Privacy Warning: Tenant Impersonation"]}),d.jsx(Qs,{children:"You are about to access tenant data. This action is logged and audited."})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs(oi,{variant:"destructive",children:[d.jsx(oa,{className:"h-4 w-4"}),d.jsx(ii,{children:"Restricted Access"}),d.jsx(ai,{children:"Platform administrators should NOT access tenant data except for legitimate support purposes. All access is logged and may be reviewed for compliance."})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted",children:[d.jsx(bt,{className:"h-4 w-4 text-muted-foreground"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Target Tenant"}),d.jsx("p",{className:"text-muted-foreground",children:n})]})]}),d.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted",children:[d.jsx(mr,{className:"h-4 w-4 text-muted-foreground"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Session Start"}),d.jsx("p",{className:"text-muted-foreground",children:un(new Date)})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(as,{htmlFor:"reason",children:["Reason for Access ",d.jsx("span",{className:"text-destructive",children:"*"})]}),d.jsx("textarea",{id:"reason",value:o,onChange:f=>i(f.target.value),placeholder:"Describe why you need to access this tenant (e.g., 'Customer reported login issues, investigating')",className:"w-full min-h-[100px] rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"This reason will be recorded in the audit log."})]}),d.jsxs("div",{className:"space-y-3 border rounded-lg p-4 bg-muted/50",children:[d.jsx("p",{className:"font-medium text-sm",children:"You will have access to:"}),d.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(Mt,{className:"h-3.5 w-3.5"}),"Tenant users and their roles"]}),d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(Mt,{className:"h-3.5 w-3.5"}),"Organization settings and data"]}),d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(Mt,{className:"h-3.5 w-3.5"}),"Audit logs within this tenant"]})]})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(li,{id:"acknowledge",checked:a,onCheckedChange:f=>l(f)}),d.jsxs("div",{className:"grid gap-1.5 leading-none",children:[d.jsx(as,{htmlFor:"acknowledge",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"I acknowledge that I am accessing private customer data"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"I understand this access is logged and may be reviewed. I will only access data necessary to resolve the reported issue."})]})]})]}),d.jsxs(qs,{className:"gap-2",children:[d.jsx(je,{variant:"outline",onClick:s,children:"Cancel"}),d.jsx(je,{onClick:p,disabled:!a||!o.trim()||c,className:"bg-amber-600 hover:bg-amber-700",children:c?d.jsxs(d.Fragment,{children:[d.jsx(mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Proceed with Impersonation"]})})]})]})})}function Jh(){const[e,n]=x.useState([]);return x.useEffect(()=>{n(fu())},[]),e.length===0?d.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[d.jsx(ra,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),d.jsx("p",{children:"No support access records found"}),d.jsx("p",{className:"text-sm mt-1",children:"Platform admins can access tenant data via the Support Access feature on tenant detail pages."})]}):d.jsx("div",{className:"space-y-4",children:e.map(t=>{const s=t.endedAt?Math.round((new Date(t.endedAt).getTime()-new Date(t.startedAt).getTime())/1e3/60):null;return d.jsx("div",{className:"p-4 rounded-lg border border-amber-200 bg-amber-50/50 dark:bg-amber-950/20",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ls,{className:"h-4 w-4 text-amber-600"}),d.jsx("span",{className:"font-medium",children:"Support Access Session"}),!t.endedAt&&d.jsx("span",{className:"text-xs bg-amber-100 text-amber-800 px-2 py-0.5 rounded-full",children:"Active"})]}),d.jsxs("div",{className:"mt-2 space-y-1",children:[d.jsxs("p",{className:"text-sm",children:[d.jsx("span",{className:"font-medium",children:"Admin:"})," ",d.jsx("span",{className:"text-muted-foreground",children:t.adminEmail})]}),d.jsxs("p",{className:"text-sm",children:[d.jsx("span",{className:"font-medium",children:"Tenant:"})," ",d.jsx(Wr,{variant:"secondary",className:"text-xs",children:t.tenantName})]}),d.jsxs("p",{className:"text-sm",children:[d.jsx("span",{className:"font-medium",children:"Reason:"})," ",d.jsx("span",{className:"text-muted-foreground",children:t.reason})]})]})]}),d.jsxs("div",{className:"text-right text-xs text-muted-foreground space-y-1",children:[d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:"Started:"})," ",un(t.startedAt)]}),t.endedAt&&d.jsxs(d.Fragment,{children:[d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:"Ended:"})," ",un(t.endedAt)]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:"Duration:"})," ",d.jsxs(Wr,{variant:"outline",className:"text-xs",children:[s," minutes"]})]})]})]})]})},t.id)})})}function hu({impersonatedUser:e,onStopImpersonating:n}){if(!e)return null;const t=e,s=()=>{t?.id,n?.(),he.success("Support access ended")};return d.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-amber-500 text-white px-4 py-2",children:d.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ls,{className:"h-5 w-5"}),d.jsxs("span",{className:"font-medium",children:["Impersonating: ",t.name||t.email]}),d.jsxs("span",{className:"text-amber-100 text-sm",children:["(",t.id,")"]})]}),d.jsxs(je,{variant:"ghost",size:"sm",onClick:s,className:"text-white hover:bg-amber-600 gap-2",children:[d.jsx(Rt,{className:"h-4 w-4"}),"Stop Impersonating"]})]})})}let ls=!1;const pu=()=>typeof window<"u",gu=e=>{if(ls||!pu()||!ae.VITE_SENTRY_DSN)return;const n=[];e&&typeof vr=="function"?n.push(vr(e)):typeof yr=="function"&&n.push(yr());const t=c=>c?.split(",").map(u=>u.trim()).filter(Boolean)??[],s=t(ae.VITE_SENTRY_TRACES_SAMPLE_RATE_HIGH_ROUTES),r=t(ae.VITE_SENTRY_TRACES_SAMPLE_RATE_LOW_ROUTES),o=ae.VITE_SENTRY_TRACES_SAMPLE_RATE_HIGH,i=ae.VITE_SENTRY_TRACES_SAMPLE_RATE_LOW,a=ae.VITE_SENTRY_TRACES_SAMPLE_RATE??0,l=c=>c?o!==void 0&&s.some(u=>c.startsWith(u))?o:i!==void 0&&r.some(u=>c.startsWith(u))?i:a:a;la({dsn:ae.VITE_SENTRY_DSN,environment:ae.VITE_SENTRY_ENVIRONMENT,tracesSampleRate:a,tracesSampler:c=>{const u=c?.location?.pathname??(typeof window<"u"?window.location.pathname:void 0)??(typeof c?.transactionContext?.name=="string"?c.transactionContext.name:void 0);return l(u)},integrations:n}),ls=!0},Zh=()=>ls,mu="/assets/styles-DOfG8y80.css",z=ec({head:()=>({meta:[{charSet:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=5, viewport-fit=cover"},{name:"description",content:"Internal admin console for Vault multi-tenant platform"},{name:"theme-color",content:"#4f46e5"},{"http-equiv":"Content-Security-Policy",content:"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; connect-src 'self'; font-src 'self';"},{"http-equiv":"X-Content-Type-Options",content:"nosniff"},{"http-equiv":"Referrer-Policy",content:"strict-origin-when-cross-origin"},{name:"apple-mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-status-bar-style",content:"default"},{name:"apple-mobile-web-app-title",content:"Vault Admin"},{name:"format-detection",content:"telephone=no"},{name:"mobile-web-app-capable",content:"yes"}],links:[{rel:"stylesheet",href:mu},{rel:"manifest",href:"/manifest.json"},{rel:"apple-touch-icon",href:"/logo192.png"},{rel:"icon",type:"image/png",href:"/logo192.png"}]}),component:vu});function vu(){const{pathname:e}=B({select:t=>t.location}),n=e.startsWith("/hosted");return d.jsxs("html",{lang:"en",className:"h-full",suppressHydrationWarning:!0,children:[d.jsx("head",{children:d.jsx(gc,{})}),d.jsxs("body",{className:"h-full",children:[d.jsx(Uc,{defaultTheme:"system",children:n?d.jsx(Kr,{withAdminShell:!1}):d.jsx(Hc,{children:d.jsx(Yc,{children:d.jsx(Qc,{children:d.jsx(Kr,{withAdminShell:!0})})})})}),d.jsx(mc,{})]})]})}function Kr({withAdminShell:e}){const{pathname:n}=B({select:o=>o.location}),t=ae.VITE_ENABLE_SUPPORT_IMPERSONATION==="true",s=e&&n!=="/login"&&!n.startsWith("/hosted"),r=x.useRef(null);return x.useEffect(()=>{r.current&&(r.current.focus(),r.current.scrollIntoView({behavior:"auto",block:"start"}))},[n]),d.jsxs(ca,{fallback:d.jsx("div",{children:"Something went wrong."}),children:[s&&d.jsx(ri,{}),t&&s?d.jsx(hu,{}):null,s?d.jsx(Jc,{}):null,d.jsx("div",{ref:r,id:"main-content",tabIndex:-1,role:"main","aria-label":"Main content",children:s?d.jsx(cu,{children:d.jsx(os,{})}):d.jsx(os,{})}),s?d.jsx(Xc,{}):null,s?d.jsx(Zc,{}):null,d.jsx(Kc,{position:"top-right",richColors:!0,closeButton:!0})]})}const yu="modulepreload",Su=function(e){return"/"+e},qr={},$=function(n,t,s){let r=Promise.resolve();if(t&&t.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");r=l(t.map(c=>{if(c=Su(c),c in qr)return;qr[c]=!0;const u=c.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":yu,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return n().catch(o)})},xu=()=>$(()=>import("./system-7DSlYX2c.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])),wu=V("/system")({component:O(xu,"component")}),bu=()=>$(()=>import("./settings-Bsg3hGG1.js"),__vite__mapDeps([10,1,2,4,11,5,6,7,8,9])),Ru=V("/settings")({component:O(bu,"component")}),_u=()=>$(()=>import("./login-CErEFmYv.js"),__vite__mapDeps([12,1,11,2,3,7,13,14,6,9,8])),Cu=V("/login")({component:O(_u,"component")}),Eu=()=>$(()=>import("./audit-BqBbMEKD.js"),__vite__mapDeps([15,1,16,11,2,3,5,6,7,8,9])),Pu=V("/audit")({component:O(Eu,"component")}),Mu=()=>$(()=>import("./index-Ctm3zXkr.js"),__vite__mapDeps([17,1,2,18,5,6,14,9,7,8])),Iu=V("/")({component:O(Mu,"component")}),Fu=()=>$(()=>import("./index-B7NOISFW.js"),__vite__mapDeps([19,1,16,11,2,20,5,6,7,8,9])),Lu=V("/tenants/")({component:O(Fu,"component")}),Tu=()=>$(()=>import("./index-jEzd4wsG.js"),__vite__mapDeps([21,1,8,7,9])),ku=V("/hosted/")({component:O(Tu,"component")}),Au=()=>$(()=>import("./index-BP6sq0mV.js"),__vite__mapDeps([22,1,16,11,2,3,20,5,6,7,23,8,9])),ju=V("/billing/")({component:O(Au,"component")}),Nu=()=>$(()=>import("./create-DSovUo78.js"),__vite__mapDeps([24,1,2,11,5,6,7,8,9])),Vu=V("/tenants/create")({component:O(Nu,"component")}),Ou=()=>$(()=>import("./_id-Dlxqpad3.js"),__vite__mapDeps([25,1,2,3,18,5,6,7,23,8,9])),$u=V("/tenants/$id")({component:O(Ou,"component")}),Du=()=>$(()=>import("./verify-email-DGTJmb9z.js"),__vite__mapDeps([26,1,2,27,7,8,9])),Bu=V("/hosted/verify-email")({component:O(Du,"component")}),zu=()=>$(()=>import("./sign-up-CMPclXg6.js"),__vite__mapDeps([28,1,11,2,27,7,13,8,9])),Hu=V("/hosted/sign-up")({component:O(zu,"component")}),Uu=()=>$(()=>import("./sign-in-mB4wjFMl.js"),__vite__mapDeps([29,1,11,2,3,27,7,13,8,9])),Gu=V("/hosted/sign-in")({component:O(Uu,"component")}),Wu=()=>$(()=>import("./oauth-callback-C-g1UvId.js"),__vite__mapDeps([30,1,2,27,7,8,9])),Ku=V("/hosted/oauth-callback")({component:O(Wu,"component")}),qu=()=>$(()=>import("./mfa-mzv3MkbP.js"),__vite__mapDeps([31,1,11,2,3,27,7,8,9])),Yu=V("/hosted/mfa")({component:O(qu,"component")}),Qu=()=>$(()=>import("./forgot-password-6vvptti4.js"),__vite__mapDeps([32,1,11,2,27,7,8,9])),Xu=V("/hosted/forgot-password")({component:O(Qu,"component")}),Ju=()=>$(()=>import("./subscriptions-BP_gXgI0.js"),__vite__mapDeps([33,1,2,16,11,20,5,6,8,7,9])),Zu=V("/billing/subscriptions")({component:O(Ju,"component")}),ed=()=>$(()=>import("./invoices-OQj0VZye.js"),__vite__mapDeps([34,1,2,11,16,20,5,6,8,7,9])),td=V("/billing/invoices")({component:O(ed,"component")}),nd=()=>$(()=>import("./webhooks-ChbkjNtv.js"),__vite__mapDeps([35,1,2,18,8,7,9])),sd=V("/settings/webhooks")({component:O(nd,"component")}),rd=()=>$(()=>import("./sso-BQg_ygvu.js"),__vite__mapDeps([36,1,2,3,11,4,7,5,6,8,9])),od=V("/settings/sso")({component:O(rd,"component")}),id=()=>$(()=>import("./security-DQ4Z_-kT.js"),__vite__mapDeps([37,1,2,3,18,11,7,8,9])),ad=V("/settings/security")({component:O(id,"component")}),ld=()=>$(()=>import("./api-keys-DPQ2JgsQ.js"),__vite__mapDeps([38,1,2,11,4,3,5,6,7,8,9])),cd=V("/settings/api-keys")({component:O(ld,"component")}),ud=()=>$(()=>import("./switch-BTXzPfAE.js"),__vite__mapDeps([39,1,2,27,7,8,9])),dd=V("/hosted/organization/switch")({component:O(ud,"component")}),fd=()=>$(()=>import("./create-qgm4O_gA.js"),__vite__mapDeps([40,1,11,2,27,7,8,9])),hd=V("/hosted/organization/create")({component:O(fd,"component")}),pd=wu.update({id:"/system",path:"/system",getParentRoute:()=>z}),_t=Ru.update({id:"/settings",path:"/settings",getParentRoute:()=>z}),gd=Cu.update({id:"/login",path:"/login",getParentRoute:()=>z}),md=Pu.update({id:"/audit",path:"/audit",getParentRoute:()=>z}),vd=Iu.update({id:"/",path:"/",getParentRoute:()=>z}),yd=Lu.update({id:"/tenants/",path:"/tenants/",getParentRoute:()=>z}),Sd=ku.update({id:"/hosted/",path:"/hosted/",getParentRoute:()=>z}),xd=ju.update({id:"/billing/",path:"/billing/",getParentRoute:()=>z}),wd=Vu.update({id:"/tenants/create",path:"/tenants/create",getParentRoute:()=>z}),bd=$u.update({id:"/tenants/$id",path:"/tenants/$id",getParentRoute:()=>z}),Rd=Bu.update({id:"/hosted/verify-email",path:"/hosted/verify-email",getParentRoute:()=>z}),_d=Hu.update({id:"/hosted/sign-up",path:"/hosted/sign-up",getParentRoute:()=>z}),Cd=Gu.update({id:"/hosted/sign-in",path:"/hosted/sign-in",getParentRoute:()=>z}),Ed=Ku.update({id:"/hosted/oauth-callback",path:"/hosted/oauth-callback",getParentRoute:()=>z}),Pd=Yu.update({id:"/hosted/mfa",path:"/hosted/mfa",getParentRoute:()=>z}),Md=Xu.update({id:"/hosted/forgot-password",path:"/hosted/forgot-password",getParentRoute:()=>z}),Id=Zu.update({id:"/billing/subscriptions",path:"/billing/subscriptions",getParentRoute:()=>z}),Fd=td.update({id:"/billing/invoices",path:"/billing/invoices",getParentRoute:()=>z}),Ld=sd.update({id:"/webhooks",path:"/webhooks",getParentRoute:()=>_t}),Td=od.update({id:"/sso",path:"/sso",getParentRoute:()=>_t}),kd=ad.update({id:"/security",path:"/security",getParentRoute:()=>_t}),Ad=cd.update({id:"/api-keys",path:"/api-keys",getParentRoute:()=>_t}),jd=dd.update({id:"/hosted/organization/switch",path:"/hosted/organization/switch",getParentRoute:()=>z}),Nd=hd.update({id:"/hosted/organization/create",path:"/hosted/organization/create",getParentRoute:()=>z}),Vd={SettingsApiKeysRoute:Ad,SettingsSecurityRoute:kd,SettingsSsoRoute:Td,SettingsWebhooksRoute:Ld},Od=_t._addFileChildren(Vd),$d={IndexRoute:vd,AuditRoute:md,LoginRoute:gd,SettingsRoute:Od,SystemRoute:pd,BillingInvoicesRoute:Fd,BillingSubscriptionsRoute:Id,HostedForgotPasswordRoute:Md,HostedMfaRoute:Pd,HostedOauthCallbackRoute:Ed,HostedSignInRoute:Cd,HostedSignUpRoute:_d,HostedVerifyEmailRoute:Rd,TenantsIdRoute:bd,TenantsCreateRoute:wd,BillingIndexRoute:xd,HostedIndexRoute:Sd,TenantsIndexRoute:yd,HostedOrganizationCreateRoute:Nd,HostedOrganizationSwitchRoute:jd},Dd=z._addFileChildren($d),Bd=()=>{const e=lc({routeTree:Dd,context:{},scrollRestoration:!0,defaultPreloadStaleTime:0,defaultPendingComponent:()=>d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full animate-spin"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Loading"})]})}),defaultErrorComponent:({error:n})=>d.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full text-center",children:[d.jsx("div",{className:"h-12 w-12 bg-destructive/10 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"h-6 w-6 text-destructive",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),d.jsx("h1",{className:"text-xl font-bold mb-2",children:"Something went wrong"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:n.message||"An unexpected error occurred"}),d.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Try Again"})]})})});return gu(e),e};async function zd(){const e=await Bd();let n;return n=[],window.__TSS_START_OPTIONS__={serializationAdapters:n},n.push(Vc),e.options.serializationAdapters&&n.push(...e.options.serializationAdapters),e.update({basepath:"",serializationAdapters:n}),e.state.matches.length||await xc(e),e}async function Hd(){const e=await zd();return window.$_TSR?.h(),e}let zn;function Ud(){return zn||(zn=Hd()),d.jsx(jl,{promise:zn,children:e=>d.jsx(dc,{router:e})})}x.startTransition(()=>{ia.hydrateRoot(document,d.jsx(x.StrictMode,{children:d.jsx(Ud,{})}))});var Rn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gd={setTimeout:(e,n)=>setTimeout(e,n),clearTimeout:e=>clearTimeout(e),setInterval:(e,n)=>setInterval(e,n),clearInterval:e=>clearInterval(e)},Wd=class{#t=Gd;#e=!1;setTimeoutProvider(e){this.#t=e}setTimeout(e,n){return this.#t.setTimeout(e,n)}clearTimeout(e){this.#t.clearTimeout(e)}setInterval(e,n){return this.#t.setInterval(e,n)}clearInterval(e){this.#t.clearInterval(e)}},kt=new Wd;function Kd(e){setTimeout(e,0)}var wt=typeof window>"u"||"Deno"in globalThis;function dn(){}function Yr(e){return typeof e=="number"&&e>=0&&e!==1/0}function qd(e,n){return Math.max(e+(n||0)-Date.now(),0)}function gt(e,n){return typeof e=="function"?e(n):e}function ne(e,n){return typeof e=="function"?e(n):e}function Qr(e){return JSON.stringify(e,(n,t)=>cs(t)?Object.keys(t).sort().reduce((s,r)=>(s[r]=t[r],s),{}):t)}var Yd=Object.prototype.hasOwnProperty;function ci(e,n,t=0){if(e===n)return e;if(t>500)return n;const s=Xr(e)&&Xr(n);if(!s&&!(cs(e)&&cs(n)))return n;const o=(s?e:Object.keys(e)).length,i=s?n:Object.keys(n),a=i.length,l=s?new Array(a):{};let c=0;for(let u=0;u<a;u++){const p=s?u:i[u],f=e[p],h=n[p];if(f===h){l[p]=f,(s?u<o:Yd.call(e,p))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[p]=h;continue}const m=ci(f,h,t+1);l[p]=m,m===f&&c++}return o===a&&c===o?e:l}function fn(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const t in e)if(e[t]!==n[t])return!1;return!0}function Xr(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function cs(e){if(!Jr(e))return!1;const n=e.constructor;if(n===void 0)return!0;const t=n.prototype;return!(!Jr(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Jr(e){return Object.prototype.toString.call(e)==="[object Object]"}function Zr(e,n,t){return typeof t.structuralSharing=="function"?t.structuralSharing(e,n):t.structuralSharing!==!1?ci(e,n):n}function Xs(e,n){return typeof e=="function"?e(...n):!!e}var Qd=class extends Rn{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!wt&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Xd=new Qd;function eo(){let e,n;const t=new Promise((r,o)=>{e=r,n=o});t.status="pending",t.catch(()=>{});function s(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{s({status:"fulfilled",value:r}),e(r)},t.reject=r=>{s({status:"rejected",reason:r}),n(r)},t}var Jd=Kd;function Zd(){let e=[],n=0,t=a=>{a()},s=a=>{a()},r=Jd;const o=a=>{n?e.push(a):r(()=>{t(a)})},i=()=>{const a=e;e=[],a.length&&r(()=>{s(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;n++;try{l=a()}finally{n--,n||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{r=a}}}var _n=Zd(),ef=class extends Rn{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!wt&&window.addEventListener){const n=()=>e(!0),t=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#t}},tf=new ef;function nf(e){return(e??"online")==="online"?tf.isOnline():!0}function sf(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nf(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}var rf=class extends Rn{constructor(e,n){super(),this.options=n,this.#t=e,this.#l=null,this.#o=eo(),this.bindMethods(),this.setOptions(n)}#t;#e=void 0;#n=void 0;#s=void 0;#r;#i;#o;#l;#p;#g;#c;#u;#a;#d;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),to(this.#e,this.options)?this.#h():this.updateResult(),this.#S())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return us(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return us(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const n=this.options,t=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ne(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#e.setOptions(this.options),n._defaulted&&!fn(this.options,n)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const s=this.hasListeners();s&&no(this.#e,t,this.options,n)&&this.#h(),this.updateResult(),s&&(this.#e!==t||ne(this.options.enabled,this.#e)!==ne(n.enabled,this.#e)||gt(this.options.staleTime,this.#e)!==gt(n.staleTime,this.#e))&&this.#m();const r=this.#v();s&&(this.#e!==t||ne(this.options.enabled,this.#e)!==ne(n.enabled,this.#e)||r!==this.#d)&&this.#y(r)}getOptimisticResult(e){const n=this.#t.getQueryCache().build(this.#t,e),t=this.createResult(n,e);return af(this,t)&&(this.#s=t,this.#i=this.options,this.#r=this.#e.state),t}getCurrentResult(){return this.#s}trackResult(e,n){return new Proxy(e,{get:(t,s)=>(this.trackProp(s),n?.(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(t,s))})}trackProp(e){this.#f.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=this.#t.defaultQueryOptions(e),t=this.#t.getQueryCache().build(this.#t,n);return t.fetch().then(()=>this.createResult(t,n))}fetch(e){return this.#h({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#h(e){this.#b();let n=this.#e.fetch(this.options,e);return e?.throwOnError||(n=n.catch(dn)),n}#m(){this.#x();const e=gt(this.options.staleTime,this.#e);if(wt||this.#s.isStale||!Yr(e))return;const t=qd(this.#s.dataUpdatedAt,e)+1;this.#u=kt.setTimeout(()=>{this.#s.isStale||this.updateResult()},t)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#d=e,!(wt||ne(this.options.enabled,this.#e)===!1||!Yr(this.#d)||this.#d===0)&&(this.#a=kt.setInterval(()=>{(this.options.refetchIntervalInBackground||Xd.isFocused())&&this.#h()},this.#d))}#S(){this.#m(),this.#y(this.#v())}#x(){this.#u&&(kt.clearTimeout(this.#u),this.#u=void 0)}#w(){this.#a&&(kt.clearInterval(this.#a),this.#a=void 0)}createResult(e,n){const t=this.#e,s=this.options,r=this.#s,o=this.#r,i=this.#i,l=e!==t?e.state:this.#n,{state:c}=e;let u={...c},p=!1,f;if(n._optimisticResults){const R=this.hasListeners(),C=!R&&to(e,n),L=R&&no(e,t,n,s);(C||L)&&(u={...u,...sf(c.data,e.options)}),n._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:m,status:g}=u;f=u.data;let v=!1;if(n.placeholderData!==void 0&&f===void 0&&g==="pending"){let R;r?.isPlaceholderData&&n.placeholderData===i?.placeholderData?(R=r.data,v=!0):R=typeof n.placeholderData=="function"?n.placeholderData(this.#c?.state.data,this.#c):n.placeholderData,R!==void 0&&(g="success",f=Zr(r?.data,R,n),p=!0)}if(n.select&&f!==void 0&&!v)if(r&&f===o?.data&&n.select===this.#p)f=this.#g;else try{this.#p=n.select,f=n.select(f),f=Zr(r?.data,f,n),this.#g=f,this.#l=null}catch(R){this.#l=R}this.#l&&(h=this.#l,f=this.#g,m=Date.now(),g="error");const y=u.fetchStatus==="fetching",S=g==="pending",w=g==="error",b=S&&y,_=f!==void 0,E={status:g,fetchStatus:u.fetchStatus,isPending:S,isSuccess:g==="success",isError:w,isInitialLoading:b,isLoading:b,data:f,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:m,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:y,isRefetching:y&&!S,isLoadingError:w&&!_,isPaused:u.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:w&&_,isStale:Js(e,n),refetch:this.refetch,promise:this.#o,isEnabled:ne(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=E.data!==void 0,C=E.status==="error"&&!R,L=M=>{C?M.reject(E.error):R&&M.resolve(E.data)},T=()=>{const M=this.#o=E.promise=eo();L(M)},A=this.#o;switch(A.status){case"pending":e.queryHash===t.queryHash&&L(A);break;case"fulfilled":(C||E.data!==A.value)&&T();break;case"rejected":(!C||E.error!==A.reason)&&T();break}}return E}updateResult(){const e=this.#s,n=this.createResult(this.#e,this.options);if(this.#r=this.#e.state,this.#i=this.options,this.#r.data!==void 0&&(this.#c=this.#e),fn(n,e))return;this.#s=n;const t=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,r=typeof s=="function"?s():s;if(r==="all"||!r&&!this.#f.size)return!0;const o=new Set(r??this.#f);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(i=>{const a=i;return this.#s[a]!==e[a]&&o.has(a)})};this.#R({listeners:t()})}#b(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const n=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#S()}#R(e){_n.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(this.#s)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function of(e,n){return ne(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function to(e,n){return of(e,n)||e.state.data!==void 0&&us(e,n,n.refetchOnMount)}function us(e,n,t){if(ne(n.enabled,e)!==!1&&gt(n.staleTime,e)!=="static"){const s=typeof t=="function"?t(e):t;return s==="always"||s!==!1&&Js(e,n)}return!1}function no(e,n,t,s){return(e!==n||ne(s.enabled,e)===!1)&&(!t.suspense||e.state.status!=="error")&&Js(e,t)}function Js(e,n){return ne(n.enabled,e)!==!1&&e.isStaleByTime(gt(n.staleTime,e))}function af(e,n){return!fn(e.getCurrentResult(),n)}function lf(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cf=class extends Rn{#t;#e=void 0;#n;#s;constructor(e,n){super(),this.#t=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#t.defaultMutationOptions(e),fn(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Qr(n.mutationKey)!==Qr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#i(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#i()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??lf();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){_n.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#e.variables,t=this.#e.context,s={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,n,t,s)}catch(r){Promise.reject(r)}try{this.#s.onSettled?.(e.data,null,n,t,s)}catch(r){Promise.reject(r)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,n,t,s)}catch(r){Promise.reject(r)}try{this.#s.onSettled?.(void 0,e.error,n,t,s)}catch(r){Promise.reject(r)}}}this.listeners.forEach(n=>{n(this.#e)})})}},uf=x.createContext(void 0),ui=e=>{const n=x.useContext(uf);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},di=x.createContext(!1),df=()=>x.useContext(di);di.Provider;function ff(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var hf=x.createContext(ff()),pf=()=>x.useContext(hf),gf=(e,n,t)=>{const s=t?.state.error&&typeof e.throwOnError=="function"?Xs(e.throwOnError,[t.state.error,t]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||s)&&(n.isReset()||(e.retryOnMount=!1))},mf=e=>{x.useEffect(()=>{e.clearReset()},[e])},vf=({result:e,errorResetBoundary:n,throwOnError:t,query:s,suspense:r})=>e.isError&&!n.isReset()&&!e.isFetching&&s&&(r&&e.data===void 0||Xs(t,[e.error,s])),yf=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...r)=>t(s(...r)):t(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Sf=(e,n)=>e.isLoading&&e.isFetching&&!n,xf=(e,n)=>e?.suspense&&n.isPending,so=(e,n,t)=>n.fetchOptimistic(e).catch(()=>{t.clearReset()});function wf(e,n,t){const s=df(),r=pf(),o=ui(),i=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(i);const a=o.getQueryCache().get(i.queryHash);i._optimisticResults=s?"isRestoring":"optimistic",yf(i),gf(i,r,a),mf(r);const l=!o.getQueryCache().get(i.queryHash),[c]=x.useState(()=>new n(o,i)),u=c.getOptimisticResult(i),p=!s&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(f=>{const h=p?c.subscribe(_n.batchCalls(f)):dn;return c.updateResult(),h},[c,p]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(i)},[i,c]),xf(i,u))throw so(i,c,r);if(vf({result:u,errorResetBoundary:r,throwOnError:i.throwOnError,query:a,suspense:i.suspense}))throw u.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(i,u),i.experimental_prefetchInRender&&!wt&&Sf(u,s)&&(l?so(i,c,r):a?.promise)?.catch(dn).finally(()=>{c.updateResult()}),i.notifyOnChangeProps?u:c.trackResult(u)}function ep(e,n){return wf(e,rf)}function tp(e,n){const t=ui(),[s]=x.useState(()=>new cf(t,e));x.useEffect(()=>{s.setOptions(e)},[s,e]);const r=x.useSyncExternalStore(x.useCallback(i=>s.subscribe(_n.batchCalls(i)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),o=x.useCallback((i,a)=>{s.mutate(i,a).catch(dn)},[s]);if(r.error&&Xs(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:o,mutateAsync:r.mutate}}function np(e){const n=U();return x.useCallback(async(...t)=>{try{const s=await e(...t);if(W(s))throw s;return s}catch(s){if(W(s))return s.options._fromLocation=n.state.location,n.navigate(n.resolveRedirect(s).options);throw s}},[n,e])}const fi=()=>{throw new Error("createServerOnlyFn() functions can only be called on the server!")};function ro(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"}function ds(e,n){const t=Object.create(null);if(e)for(const s of Object.keys(e))ro(s)&&(t[s]=e[s]);if(n&&typeof n=="object")for(const s of Object.keys(n))ro(s)&&(t[s]=n[s]);return t}function hi(e){return Object.create(null)}const Hn=(e,n)=>{const t=n||e||{};return typeof t.method>"u"&&(t.method="GET"),Object.assign(o=>{const i={...t,...o};return Hn(void 0,i)},{options:t,middleware:o=>{const i=[...t.middleware||[]];o.map(c=>{Or in c?c.options.middleware&&i.push(...c.options.middleware):i.push(c)});const a={...t,middleware:i},l=Hn(void 0,a);return l[Or]=!0,l},inputValidator:o=>{const i={...t,inputValidator:o};return Hn(void 0,i)},handler:(...o)=>{const[i,a]=o,l={...t,extractedFn:i,serverFn:a},c=[...l.middleware||[],_f(l)];return Object.assign(async u=>{const p=await oo(c,"client",{...i,...l,data:u?.data,headers:u?.headers,signal:u?.signal,fetch:u?.fetch,context:hi()}),f=Lo(p.error);if(f)throw f;if(p.error)throw p.error;return p.result},{...i,__executeServer:async u=>{const p=fi(),f=p.contextAfterGlobalMiddlewares,h={...i,...u,serverFnMeta:i.serverFnMeta,context:ds(f,u.context),request:p.request};return await oo(c,"server",h).then(g=>({result:g.result,error:g.error,context:g.sendContext}))}})}})};async function oo(e,n,t){const s=Hs()?.functionMiddleware||[];let r=bf([...s,...e]);if(n==="server"){const i=fi();i?.executedRequestMiddlewares&&(r=r.filter(a=>!i.executedRequestMiddlewares.has(a)))}const o=async i=>{const a=r.shift();if(!a)return i;try{"inputValidator"in a.options&&a.options.inputValidator&&n==="server"&&(i.data=await Rf(a.options.inputValidator,i.data));let l;if(n==="client"?"client"in a.options&&(l=a.options.client):"server"in a.options&&(l=a.options.server),l){const u=await l({...i,next:async(p={})=>{const f={...i,...p,context:ds(i.context,p.context),sendContext:ds(i.sendContext,p.sendContext),headers:yc(i.headers,p.headers),_callSiteFetch:i._callSiteFetch,fetch:i._callSiteFetch??p.fetch??i.fetch,result:p.result!==void 0?p.result:p instanceof Response?p:i.result,error:p.error??i.error},h=await o(f);if(h.error)throw h.error;return h}});if(W(u))return{...i,error:u};if(u instanceof Response)return{...i,result:u};if(!u)throw new Error("User middleware returned undefined. You must call next() or return a result in your middlewares.");return u}return o(i)}catch(l){return{...i,error:l}}};return o({...t,headers:t.headers||{},sendContext:t.sendContext||{},context:t.context||hi(),_callSiteFetch:t.fetch})}function bf(e,n=100){const t=new Set,s=[],r=(o,i)=>{if(i>n)throw new Error(`Middleware nesting depth exceeded maximum of ${n}. Check for circular references.`);o.forEach(a=>{a.options.middleware&&r(a.options.middleware,i+1),t.has(a)||(t.add(a),s.push(a))})};return r(e,0),s}async function Rf(e,n){if(e==null)return{};if("~standard"in e){const t=await e["~standard"].validate(n);if(t.issues)throw new Error(JSON.stringify(t.issues,void 0,2));return t.value}if("parse"in e)return e.parse(n);if(typeof e=="function")return e(n);throw new Error("Invalid validator type!")}function _f(e){return{"~types":void 0,options:{inputValidator:e.inputValidator,client:async({next:n,sendContext:t,fetch:s,...r})=>{const o={...r,context:t,fetch:s},i=await e.extractedFn?.(o);return n(i)},server:async({next:n,...t})=>{const s=await e.serverFn?.(t);return n({...t,result:s})}}}}const At=(e,n)=>{const t={type:"request",...n||e};return{options:t,middleware:s=>At({},Object.assign(t,{middleware:s})),inputValidator:s=>At({},Object.assign(t,{inputValidator:s})),client:s=>At({},Object.assign(t,{client:s})),server:s=>At({},Object.assign(t,{server:s}))}},qe=new WeakMap,Yt=new WeakMap,hn={current:[]};let Un=!1,mt=0;const dt=new Set,jt=new Map;function pi(e){const n=Array.from(e).sort((t,s)=>t instanceof ge&&t.options.deps.includes(s)?1:s instanceof ge&&s.options.deps.includes(t)?-1:0);for(const t of n){if(hn.current.includes(t))continue;hn.current.push(t),t.recompute();const s=Yt.get(t);if(s)for(const r of s){const o=qe.get(r);o&&pi(o)}}}function Cf(e){const n={prevVal:e.prevState,currentVal:e.state};for(const t of e.listeners)t(n)}function Ef(e){const n={prevVal:e.prevState,currentVal:e.state};for(const t of e.listeners)t(n)}function gi(e){if(mt>0&&!jt.has(e)&&jt.set(e,e.prevState),dt.add(e),!(mt>0)&&!Un)try{for(Un=!0;dt.size>0;){const n=Array.from(dt);dt.clear();for(const t of n){const s=jt.get(t)??t.prevState;t.prevState=s,Cf(t)}for(const t of n){const s=qe.get(t);s&&(hn.current.push(t),pi(s))}for(const t of n){const s=qe.get(t);if(s)for(const r of s)Ef(r)}}}finally{Un=!1,hn.current=[],jt.clear()}}function ie(e){mt++;try{e()}finally{if(mt--,mt===0){const n=dt.values().next().value;n&&gi(n)}}}function Pf(e){return typeof e=="function"}class fs{constructor(n,t){this.listeners=new Set,this.subscribe=s=>{var r,o;this.listeners.add(s);const i=(o=(r=this.options)==null?void 0:r.onSubscribe)==null?void 0:o.call(r,s,this);return()=>{this.listeners.delete(s),i?.()}},this.prevState=n,this.state=n,this.options=t}setState(n){var t,s,r;this.prevState=this.state,(t=this.options)!=null&&t.updateFn?this.state=this.options.updateFn(this.prevState)(n):Pf(n)?this.state=n(this.prevState):this.state=n,(r=(s=this.options)==null?void 0:s.onUpdate)==null||r.call(s),gi(this)}}class ge{constructor(n){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const t=this.options.deps.length,s=new Array(t),r=new Array(t);for(let o=0;o<t;o++){const i=this.options.deps[o];s[o]=i.prevState,r[o]=i.state}return this.lastSeenDepValues=r,{prevDepVals:s,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var t,s;this.prevState=this.state;const r=this.getDepVals();this.state=this.options.fn(r),(s=(t=this.options).onUpdate)==null||s.call(t)},this.checkIfRecalculationNeededDeeply=()=>{for(const o of this.options.deps)o instanceof ge&&o.checkIfRecalculationNeededDeeply();let t=!1;const s=this.lastSeenDepValues,{currDepVals:r}=this.getDepVals();for(let o=0;o<r.length;o++)if(r[o]!==s[o]){t=!0;break}t&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const t of this._subscriptions)t()}),this.subscribe=t=>{var s,r;this.listeners.add(t);const o=(r=(s=this.options).onSubscribe)==null?void 0:r.call(s,t,this);return()=>{this.listeners.delete(t),o?.()}},this.options=n,this.state=n.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(n=this.options.deps){for(const t of n)if(t instanceof ge)t.registerOnGraph(),this.registerOnGraph(t.options.deps);else if(t instanceof fs){let s=qe.get(t);s||(s=new Set,qe.set(t,s)),s.add(this);let r=Yt.get(this);r||(r=new Set,Yt.set(this,r)),r.add(t)}}unregisterFromGraph(n=this.options.deps){for(const t of n)if(t instanceof ge)this.unregisterFromGraph(t.options.deps);else if(t instanceof fs){const s=qe.get(t);s&&s.delete(this);const r=Yt.get(this);r&&r.delete(t)}}}var Mf=class{constructor(e,n){this.fn=e,this.options=n,this.lastExecutionTime=0,this.isPending=!1,this.maybeExecute=(...t)=>{const s=Date.now()-this.lastExecutionTime;if(this.options.leading&&s>=this.options.wait)this.execute(...t);else if(this.lastArgs=t,!this.timeoutId&&this.options.trailing){const r=this.options.wait-s;this.isPending=!0,this.timeoutId=setTimeout(()=>{this.lastArgs!==void 0&&this.execute(...this.lastArgs)},r)}},this.execute=(...t)=>{this.fn(...t),this.options.onExecute?.(t,this),this.lastExecutionTime=Date.now(),this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.flush=()=>{this.isPending&&this.lastArgs&&this.execute(...this.lastArgs)},this.cancel=()=>{this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.clearTimeout=()=>{this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)},this.options.leading===void 0&&this.options.trailing===void 0&&(this.options.leading=!0,this.options.trailing=!0)}};function If(e,n){return new Mf(e,n).maybeExecute}class Ff{#t=!0;#e;#n;#s;#r;#i;#o;#l;#p=0;#g=5;#c=!1;#u=!1;#a=null;#d=()=>{this.debugLog("Connected to event bus"),this.#i=!0,this.#c=!1,this.debugLog("Emitting queued events",this.#r),this.#r.forEach(n=>this.emitEventToBus(n)),this.#r=[],this.stopConnectLoop(),this.#n().removeEventListener("tanstack-connect-success",this.#d)};#f=()=>{if(this.#p<this.#g){this.#p++,this.dispatchCustomEvent("tanstack-connect",{});return}this.#n().removeEventListener("tanstack-connect",this.#f),this.#u=!0,this.debugLog("Max retries reached, giving up on connection"),this.stopConnectLoop()};#h=()=>{this.#c||(this.#c=!0,this.#n().addEventListener("tanstack-connect-success",this.#d),this.#f())};constructor({pluginId:n,debug:t=!1,enabled:s=!0,reconnectEveryMs:r=300}){this.#e=n,this.#t=s,this.#n=this.getGlobalTarget,this.#s=t,this.debugLog(" Initializing event subscription for plugin",this.#e),this.#r=[],this.#i=!1,this.#u=!1,this.#o=null,this.#l=r}startConnectLoop(){this.#o!==null||this.#i||(this.debugLog(`Starting connect loop (every ${this.#l}ms)`),this.#o=setInterval(this.#f,this.#l))}stopConnectLoop(){this.#c=!1,this.#o!==null&&(clearInterval(this.#o),this.#o=null,this.#r=[],this.debugLog("Stopped connect loop"))}debugLog(...n){this.#s&&console.log(` [tanstack-devtools:${this.#e}-plugin]`,...n)}getGlobalTarget(){if(typeof globalThis<"u"&&globalThis.__TANSTACK_EVENT_TARGET__)return this.debugLog("Using global event target"),globalThis.__TANSTACK_EVENT_TARGET__;if(typeof window<"u"&&typeof window.addEventListener<"u")return this.debugLog("Using window as event target"),window;const n=typeof EventTarget<"u"?new EventTarget:void 0;return typeof n>"u"||typeof n.addEventListener>"u"?(this.debugLog("No event mechanism available, running in non-web environment"),{addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:()=>!1}):(this.debugLog("Using new EventTarget as fallback"),n)}getPluginId(){return this.#e}dispatchCustomEventShim(n,t){try{const s=new Event(n,{detail:t});this.#n().dispatchEvent(s)}catch{this.debugLog("Failed to dispatch shim event")}}dispatchCustomEvent(n,t){try{this.#n().dispatchEvent(new CustomEvent(n,{detail:t}))}catch{this.dispatchCustomEventShim(n,t)}}emitEventToBus(n){this.debugLog("Emitting event to client bus",n),this.dispatchCustomEvent("tanstack-dispatch-event",n)}createEventPayload(n,t){return{type:`${this.#e}:${n}`,payload:t,pluginId:this.#e}}emit(n,t){if(!this.#t){this.debugLog("Event bus client is disabled, not emitting event",n,t);return}if(this.#a&&(this.debugLog("Emitting event to internal event target",n,t),this.#a.dispatchEvent(new CustomEvent(`${this.#e}:${n}`,{detail:this.createEventPayload(n,t)}))),this.#u){this.debugLog("Previously failed to connect, not emitting to bus");return}if(!this.#i){this.debugLog("Bus not available, will be pushed as soon as connected"),this.#r.push(this.createEventPayload(n,t)),typeof CustomEvent<"u"&&!this.#c&&(this.#h(),this.startConnectLoop());return}return this.emitEventToBus(this.createEventPayload(n,t))}on(n,t,s){const r=s?.withEventTarget??!1,o=`${this.#e}:${n}`;if(r&&(this.#a||(this.#a=new EventTarget),this.#a.addEventListener(o,a=>{t(a.detail)})),!this.#t)return this.debugLog("Event bus client is disabled, not registering event",o),()=>{};const i=a=>{this.debugLog("Received event from bus",a.detail),t(a.detail)};return this.#n().addEventListener(o,i),this.debugLog("Registered event to bus",o),()=>{r&&this.#a?.removeEventListener(o,i),this.#n().removeEventListener(o,i)}}onAll(n){if(!this.#t)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const t=s=>{const r=s.detail;n(r)};return this.#n().addEventListener("tanstack-devtools-global",t),()=>this.#n().removeEventListener("tanstack-devtools-global",t)}onAllPluginEvents(n){if(!this.#t)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const t=s=>{const r=s.detail;this.#e&&r.pluginId!==this.#e||n(r)};return this.#n().addEventListener("tanstack-devtools-global",t),()=>this.#n().removeEventListener("tanstack-devtools-global",t)}}class Lf extends Ff{constructor(){super({pluginId:"form-devtools",reconnectEveryMs:1e3})}}const Z=new Lf;function Cn(e,n){return typeof e=="function"?e(n):e}function Nt(e,n){return Zs(n).reduce((s,r)=>{if(s===null)return null;if(typeof s<"u")return s[r]},e)}function Vt(e,n,t){const s=Zs(n);function r(o){if(!s.length)return Cn(t,o);const i=s.shift();if(typeof i=="string"||typeof i=="number"&&!Array.isArray(o))return typeof o=="object"?(o===null&&(o={}),{...o,[i]:r(o[i])}):{[i]:r()};if(Array.isArray(o)&&typeof i=="number"){const a=o.slice(0,i);return[...a.length?a:new Array(i),r(o[i]),...o.slice(i+1)]}return[...new Array(i),r()]}return r(e)}function Tf(e,n){const t=Zs(n);function s(r){if(!r)return;if(t.length===1){const i=t[0];if(Array.isArray(r)&&typeof i=="number")return r.filter((c,u)=>u!==i);const{[i]:a,...l}=r;return l}const o=t.shift();if((typeof o=="string"||typeof o=="number"&&!Array.isArray(r))&&typeof r=="object")return{...r,[o]:s(r[o])};if(typeof o=="number"&&Array.isArray(r)){if(o>=r.length)return r;const i=r.slice(0,o);return[...i.length?i:new Array(o),s(r[o]),...r.slice(o+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return s(e)}const kf=/^(\d+)$/gm,Af=/\.(\d+)(?=\.)/gm,jf=/^(\d+)\./gm,Nf=/\.(\d+$)/gm,Vf=/\.{2,}/gm,hs="__int__",Ot=`${hs}$1`;function Zs(e){if(Array.isArray(e))return[...e];if(typeof e!="string")throw new Error("Path must be a string.");return e.replace(/(^\[)|]/gm,"").replace(/\[/g,".").replace(kf,Ot).replace(Af,`.${Ot}.`).replace(jf,`${Ot}.`).replace(Nf,`.${Ot}`).replace(Vf,".").split(".").map(n=>{if(n.startsWith(hs)){const t=n.substring(hs.length),s=parseInt(t,10);return String(s)===t?s:t}return n})}function Of(e){return!(Array.isArray(e)&&e.length===0)}function ps(e,n){const t=s=>s.validators.filter(Boolean).map(r=>({cause:r.cause,validate:r.fn}));return n.validationLogic({form:n.form,validators:n.validators,event:{type:e,async:!1},runValidation:t})}function gs(e,n){const{asyncDebounceMs:t}=n,{onBlurAsyncDebounceMs:s,onChangeAsyncDebounceMs:r,onDynamicAsyncDebounceMs:o}=n.validators||{},i=t??0,a=l=>l.validators.filter(Boolean).map(c=>{const u=c?.cause||e;let p=i;switch(u){case"change":p=r??i;break;case"blur":p=s??i;break;case"dynamic":p=o??i;break;case"submit":p=0;break}return e==="submit"&&(p=0),{cause:u,validate:c.fn,debounceMs:p}});return n.validationLogic({form:n.form,validators:n.validators,event:{type:e,async:!0},runValidation:a})}const ms=e=>!!e&&typeof e=="object"&&"fields"in e;function ye(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[r,o]of e)if(!n.has(r)||!Object.is(o,n.get(r)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const r of e)if(!n.has(r))return!1;return!0}const t=Object.keys(e),s=Object.keys(n);if(t.length!==s.length)return!1;for(const r of t)if(!s.includes(r)||!ye(e[r],n[r]))return!1;return!0}const io=({newFormValidatorError:e,isPreviousErrorFromFormValidator:n,previousErrorValue:t})=>e?{newErrorValue:e,newSource:"form"}:n?{newErrorValue:void 0,newSource:void 0}:t?{newErrorValue:t,newSource:"field"}:{newErrorValue:void 0,newSource:void 0},ao=({formLevelError:e,fieldLevelError:n})=>n?{newErrorValue:n,newSource:"field"}:e?{newErrorValue:e,newSource:"form"}:{newErrorValue:void 0,newSource:void 0};function Y(e,n){return e==null?n:{...e,...n}}let Ie=256;const Qt=[];let $t;for(;Ie--;)Qt[Ie]=(Ie+256).toString(16).substring(1);function mi(){let e=0,n,t="";if(!$t||Ie+16>256){for($t=new Array(256),e=256;e--;)$t[e]=256*Math.random()|0;e=0,Ie=0}for(;e<16;e++)n=$t[Ie+e],e===6?t+=Qt[n&15|64]:e===8?t+=Qt[n&63|128]:t+=Qt[n],e&1&&e>1&&e<11&&(t+="-");return Ie++,t}const $f=If(e=>Z.emit("form-state",{id:e.formId,state:e.store.state}),{wait:300}),ze=e=>{if(!e.validators)return e.runValidation({validators:[],form:e.form});const n=e.event.async,t=n?void 0:{fn:e.validators.onMount,cause:"mount"},s={fn:n?e.validators.onChangeAsync:e.validators.onChange,cause:"change"},r={fn:n?e.validators.onBlurAsync:e.validators.onBlur,cause:"blur"},o={fn:n?e.validators.onSubmitAsync:e.validators.onSubmit,cause:"submit"},i=n?void 0:{fn:()=>{},cause:"server"};switch(e.event.type){case"mount":return e.runValidation({validators:[t],form:e.form});case"submit":return e.runValidation({validators:[s,r,o,i],form:e.form});case"server":return e.runValidation({validators:[],form:e.form});case"blur":return e.runValidation({validators:[r,i],form:e.form});case"change":return e.runValidation({validators:[s,i],form:e.form});default:throw new Error(`Unknown validation event type: ${e.event.type}`)}};function Df(e,n){const t=new Map;for(const s of e){const r=s.path??[];let o=n,i="";for(let a=0;a<r.length;a++){const l=r[a];if(l===void 0)continue;const c=typeof l=="object"?l.key:l,u=Number(c);Array.isArray(o)&&!Number.isNaN(u)?i+=`[${u}]`:i+=(a>0?".":"")+String(c),typeof o=="object"&&o!==null?o=o[c]:o=void 0}t.set(i,(t.get(i)??[]).concat(s))}return Object.fromEntries(t)}const lo=(e,n)=>{const t=Df(e,n);return{form:t,fields:t}},Ye={validate({value:e,validationSource:n},t){const s=t["~standard"].validate(e);if(s instanceof Promise)throw new Error("async function passed to sync validator");if(s.issues)return n==="field"?s.issues:lo(s.issues,e)},async validateAsync({value:e,validationSource:n},t){const s=await t["~standard"].validate(e);if(s.issues)return n==="field"?s.issues:lo(s.issues,e)}},vi=e=>!!e&&"~standard"in e,He={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,isValid:!0,isDefaultValue:!0,errors:[],errorMap:{},errorSourceMap:{}};function Dt(e){function n(u,p,f){const h=i(u,p,"move",f),m=Math.min(p,f),g=Math.max(p,f);for(let y=m;y<=g;y++)h.push(o(u,y));const v=Object.keys(e.fieldInfo).reduce((y,S)=>(S.startsWith(o(u,p))&&y.set(S,e.getFieldMeta(S)),y),new Map);l(h,p<f?"up":"down"),Object.keys(e.fieldInfo).filter(y=>y.startsWith(o(u,f))).forEach(y=>{const S=y.replace(o(u,f),o(u,p)),w=v.get(S);w&&e.setFieldMeta(y,w)})}function t(u,p){const f=i(u,p,"remove");l(f,"up")}function s(u,p,f){i(u,p,"swap",f).forEach(m=>{if(!m.toString().startsWith(o(u,p)))return;const g=m.toString().replace(o(u,p),o(u,f)),[v,y]=[e.getFieldMeta(m),e.getFieldMeta(g)];v&&e.setFieldMeta(g,v),y&&e.setFieldMeta(m,y)})}function r(u,p){const f=i(u,p,"insert");l(f,"down"),f.forEach(h=>{h.toString().startsWith(o(u,p))&&e.setFieldMeta(h,c())})}function o(u,p){return`${u}[${p}]`}function i(u,p,f,h){const m=[o(u,p)];switch(f){case"swap":m.push(o(u,h));break;case"move":{const[g,v]=[Math.min(p,h),Math.max(p,h)];for(let y=g;y<=v;y++)m.push(o(u,y));break}default:{const g=e.getFieldValue(u),v=Array.isArray(g)?g.length:0;for(let y=p+1;y<v;y++)m.push(o(u,y));break}}return Object.keys(e.fieldInfo).filter(g=>m.some(v=>g.startsWith(v)))}function a(u,p){return u.replace(/\[(\d+)\]/,(f,h)=>{const m=parseInt(h,10);return`[${p==="up"?m+1:Math.max(0,m-1)}]`})}function l(u,p){(p==="up"?u:[...u].reverse()).forEach(h=>{const m=a(h.toString(),p),g=e.getFieldMeta(m);g?e.setFieldMeta(h,g):e.setFieldMeta(h,c())})}const c=()=>He;return{handleArrayMove:n,handleArrayRemove:t,handleArraySwap:s,handleArrayInsert:r}}function Gn(e){return{values:e.values??{},errorMap:e.errorMap??{},fieldMetaBase:e.fieldMetaBase??{},isSubmitted:e.isSubmitted??!1,isSubmitting:e.isSubmitting??!1,isValidating:e.isValidating??!1,submissionAttempts:e.submissionAttempts??0,isSubmitSuccessful:e.isSubmitSuccessful??!1,validationMetaMap:e.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}}}class co{constructor(n){this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{const t=this.fieldMetaDerived.mount(),s=this.store.mount(),r=this.store.subscribe(()=>{$f(this)}),o=Z.on("request-form-state",u=>{u.payload.id===this._formId&&Z.emit("form-api",{id:this._formId,state:this.store.state,options:this.options})}),i=Z.on("request-form-reset",u=>{u.payload.id===this._formId&&this.reset()}),a=Z.on("request-form-force-submit",u=>{u.payload.id===this._formId&&(this._devtoolsSubmissionOverride=!0,this.handleSubmit(),this._devtoolsSubmissionOverride=!1)}),l=()=>{a(),i(),o(),r(),t(),s(),Z.emit("form-unmounted",{id:this._formId})};this.options.listeners?.onMount?.({formApi:this});const{onMount:c}=this.options.validators||{};return Z.emit("form-api",{id:this._formId,state:this.store.state,options:this.options}),c&&this.validateSync("mount"),l},this.update=t=>{if(!t)return;const s=this.options;this.options=t;const r=!!t.transform?.deps?.some((a,l)=>a!==this.prevTransformArray[l]),o=t.defaultValues&&!ye(t.defaultValues,s.defaultValues)&&!this.state.isTouched,i=!ye(t.defaultState,s.defaultState)&&!this.state.isTouched;!o&&!i&&!r||(ie(()=>{this.baseStore.setState(()=>Gn(Object.assign({},this.state,i?t.defaultState:{},o?{values:t.defaultValues}:{},r?{_force_re_eval:!this.state._force_re_eval}:{})))}),Z.emit("form-api",{id:this._formId,state:this.store.state,options:this.options}))},this.reset=(t,s)=>{const{fieldMeta:r}=this.state,o=this.resetFieldMeta(r);t&&!s?.keepDefaultValues&&(this.options={...this.options,defaultValues:t}),this.baseStore.setState(()=>Gn({...this.options.defaultState,values:t??this.options.defaultValues??this.options.defaultState?.values,fieldMetaBase:o}))},this.validateAllFields=async t=>{const s=[];return ie(()=>{Object.values(this.fieldInfo).forEach(o=>{if(!o.instance)return;const i=o.instance;s.push(Promise.resolve().then(()=>i.validate(t,{skipFormValidation:!0}))),o.instance.state.meta.isTouched||o.instance.setMeta(a=>({...a,isTouched:!0}))})}),(await Promise.all(s)).flat()},this.validateArrayFieldsStartingFrom=async(t,s,r)=>{const o=this.getFieldValue(t),i=Array.isArray(o)?Math.max(o.length-1,0):null,a=[`${t}[${s}]`];for(let p=s+1;p<=(i??0);p++)a.push(`${t}[${p}]`);const l=Object.keys(this.fieldInfo).filter(p=>a.some(f=>p.startsWith(f))),c=[];return ie(()=>{l.forEach(p=>{c.push(Promise.resolve().then(()=>this.validateField(p,r)))})}),(await Promise.all(c)).flat()},this.validateField=(t,s)=>{const r=this.fieldInfo[t]?.instance;if(!r){const{hasErrored:o}=this.validateSync(s);return o&&!this.options.asyncAlways?this.getFieldMeta(t)?.errors??[]:this.validateAsync(s).then(()=>this.getFieldMeta(t)?.errors??[])}return r.state.meta.isTouched||r.setMeta(o=>({...o,isTouched:!0})),r.validate(s)},this.validateSync=t=>{const s=ps(t,{...this.options,form:this,validationLogic:this.options.validationLogic||ze});let r=!1;const o={};return ie(()=>{for(const l of s){if(!l.validate)continue;const c=this.runValidator({validate:l.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:u,fieldErrors:p}=Xt(c),f=lt(l.cause),h=new Set([...Object.keys(this.state.fieldMeta),...Object.keys(p||{})]);for(const m of h){if(this.baseStore.state.fieldMetaBase[m]===void 0&&!p?.[m])continue;const g=this.getFieldMeta(m)??He,{errorMap:v,errorSourceMap:y}=g,S=p?.[m],{newErrorValue:w,newSource:b}=io({newFormValidatorError:S,isPreviousErrorFromFormValidator:y?.[f]==="form",previousErrorValue:v?.[f]});b==="form"&&(o[m]={...o[m],[f]:S}),v?.[f]!==w&&this.setFieldMeta(m,(_=He)=>({..._,errorMap:{..._.errorMap,[f]:w},errorSourceMap:{..._.errorSourceMap,[f]:b}}))}this.state.errorMap?.[f]!==u&&this.baseStore.setState(m=>({...m,errorMap:{...m.errorMap,[f]:u}})),(u||p)&&(r=!0)}const i=lt("submit");this.state.errorMap?.[i]&&t!=="submit"&&!r&&this.baseStore.setState(l=>({...l,errorMap:{...l.errorMap,[i]:void 0}}));const a=lt("server");this.state.errorMap?.[a]&&t!=="server"&&!r&&this.baseStore.setState(l=>({...l,errorMap:{...l.errorMap,[a]:void 0}}))}),{hasErrored:r,fieldsErrorMap:o}},this.validateAsync=async t=>{const s=gs(t,{...this.options,form:this,validationLogic:this.options.validationLogic||ze});this.state.isFormValidating||this.baseStore.setState(l=>({...l,isFormValidating:!0}));const r=[];let o;for(const l of s){if(!l.validate)continue;const c=lt(l.cause);this.state.validationMetaMap[c]?.lastAbortController.abort();const p=new AbortController;this.state.validationMetaMap[c]={lastAbortController:p},r.push(new Promise(async f=>{let h;try{h=await new Promise((y,S)=>{setTimeout(async()=>{if(p.signal.aborted)return y(void 0);try{y(await this.runValidator({validate:l.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:p.signal},type:"validateAsync"}))}catch(w){S(w)}},l.debounceMs)})}catch(y){h=y}const{formError:m,fieldErrors:g}=Xt(h);g&&(o=o?{...o,...g}:g);const v=lt(l.cause);for(const y of Object.keys(this.state.fieldMeta)){if(this.baseStore.state.fieldMetaBase[y]===void 0)continue;const S=this.getFieldMeta(y);if(!S)continue;const{errorMap:w,errorSourceMap:b}=S,_=o?.[y],{newErrorValue:P,newSource:E}=io({newFormValidatorError:_,isPreviousErrorFromFormValidator:b?.[v]==="form",previousErrorValue:w?.[v]});w?.[v]!==P&&this.setFieldMeta(y,R=>({...R,errorMap:{...R.errorMap,[v]:P},errorSourceMap:{...R.errorSourceMap,[v]:E}}))}this.baseStore.setState(y=>({...y,errorMap:{...y.errorMap,[v]:m}})),f(o?{fieldErrors:o,errorMapKey:v}:void 0)}))}let i=[];const a={};if(r.length){i=await Promise.all(r);for(const l of i)if(l?.fieldErrors){const{errorMapKey:c}=l;for(const[u,p]of Object.entries(l.fieldErrors)){const h={...a[u]||{},[c]:p};a[u]=h}}}return this.baseStore.setState(l=>({...l,isFormValidating:!1})),a},this.validate=t=>{const{hasErrored:s,fieldsErrorMap:r}=this.validateSync(t);return s&&!this.options.asyncAlways?r:this.validateAsync(t)},this._handleSubmit=async t=>{this.baseStore.setState(o=>({...o,isSubmitted:!1,submissionAttempts:o.submissionAttempts+1,isSubmitSuccessful:!1})),ie(()=>{Object.values(this.fieldInfo).forEach(o=>{o.instance&&(o.instance.state.meta.isTouched||o.instance.setMeta(i=>({...i,isTouched:!0})))})});const s=t??this.options.onSubmitMeta;if(!this.state.canSubmit&&!this._devtoolsSubmissionOverride){this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:s});return}this.baseStore.setState(o=>({...o,isSubmitting:!0}));const r=()=>{this.baseStore.setState(o=>({...o,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){r(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:s}),Z.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validateAllFields",errors:Object.values(this.state.fieldMeta).map(o=>o.errors).flat()});return}if(await this.validate("submit"),!this.state.isValid){r(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:s}),Z.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validate",errors:this.state.errors});return}ie(()=>{Object.values(this.fieldInfo).forEach(o=>{o.instance?.options.listeners?.onSubmit?.({value:o.instance.state.value,fieldApi:o.instance})})}),this.options.listeners?.onSubmit?.({formApi:this,meta:s});try{await this.options.onSubmit?.({value:this.state.values,formApi:this,meta:s}),ie(()=>{this.baseStore.setState(o=>({...o,isSubmitted:!0,isSubmitSuccessful:!0})),Z.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!0}),r()})}catch(o){throw this.baseStore.setState(i=>({...i,isSubmitSuccessful:!1})),Z.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"inflight",onError:o}),r(),o}},this.getFieldValue=t=>Nt(this.state.values,t),this.getFieldMeta=t=>this.state.fieldMeta[t],this.getFieldInfo=t=>this.fieldInfo[t]||={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}},this.setFieldMeta=(t,s)=>{this.baseStore.setState(r=>({...r,fieldMetaBase:{...r.fieldMetaBase,[t]:Cn(s,r.fieldMetaBase[t])}}))},this.resetFieldMeta=t=>Object.keys(t).reduce((s,r)=>{const o=r;return s[o]=He,s},{}),this.setFieldValue=(t,s,r)=>{const o=r?.dontUpdateMeta??!1,i=r?.dontRunListeners??!1,a=r?.dontValidate??!1;ie(()=>{o||this.setFieldMeta(t,l=>({...l,isTouched:!0,isDirty:!0,errorMap:{...l?.errorMap,onMount:void 0}})),this.baseStore.setState(l=>({...l,values:Vt(l.values,t,s)}))}),i||this.getFieldInfo(t).instance?.triggerOnChangeListener(),a||this.validateField(t,"change")},this.deleteField=t=>{const r=[...Object.keys(this.fieldInfo).filter(o=>{const i=t.toString();return o!==i&&o.startsWith(i)}),t];this.baseStore.setState(o=>{const i={...o};return r.forEach(a=>{i.values=Tf(i.values,a),delete this.fieldInfo[a],delete i.fieldMetaBase[a]}),i})},this.pushFieldValue=(t,s,r)=>{this.setFieldValue(t,o=>[...Array.isArray(o)?o:[],s],r)},this.insertFieldValue=async(t,s,r,o)=>{this.setFieldValue(t,a=>[...a.slice(0,s),r,...a.slice(s)],Y(o,{dontValidate:!0}));const i=o?.dontValidate??!1;i||await this.validateField(t,"change"),Dt(this).handleArrayInsert(t,s),i||await this.validateArrayFieldsStartingFrom(t,s,"change")},this.replaceFieldValue=async(t,s,r,o)=>{this.setFieldValue(t,a=>a.map((l,c)=>c===s?r:l),Y(o,{dontValidate:!0})),(o?.dontValidate??!1)||(await this.validateField(t,"change"),await this.validateArrayFieldsStartingFrom(t,s,"change"))},this.removeFieldValue=async(t,s,r)=>{const o=this.getFieldValue(t),i=Array.isArray(o)?Math.max(o.length-1,0):null;if(this.setFieldValue(t,l=>l.filter((c,u)=>u!==s),Y(r,{dontValidate:!0})),Dt(this).handleArrayRemove(t,s),i!==null){const l=`${t}[${i}]`;this.deleteField(l)}(r?.dontValidate??!1)||(await this.validateField(t,"change"),await this.validateArrayFieldsStartingFrom(t,s,"change"))},this.swapFieldValues=(t,s,r,o)=>{this.setFieldValue(t,a=>{const l=a[s],c=a[r];return Vt(Vt(a,`${s}`,c),`${r}`,l)},Y(o,{dontValidate:!0})),Dt(this).handleArraySwap(t,s,r),(o?.dontValidate??!1)||(this.validateField(t,"change"),this.validateField(`${t}[${s}]`,"change"),this.validateField(`${t}[${r}]`,"change"))},this.moveFieldValues=(t,s,r,o)=>{this.setFieldValue(t,a=>{const l=[...a];return l.splice(r,0,l.splice(s,1)[0]),l},Y(o,{dontValidate:!0})),Dt(this).handleArrayMove(t,s,r),(o?.dontValidate??!1)||(this.validateField(t,"change"),this.validateField(`${t}[${s}]`,"change"),this.validateField(`${t}[${r}]`,"change"))},this.clearFieldValues=(t,s)=>{const r=this.getFieldValue(t),o=Array.isArray(r)?Math.max(r.length-1,0):null;if(this.setFieldValue(t,[],Y(s,{dontValidate:!0})),o!==null)for(let a=0;a<=o;a++){const l=`${t}[${a}]`;this.deleteField(l)}(s?.dontValidate??!1)||this.validateField(t,"change")},this.resetField=t=>{this.baseStore.setState(s=>({...s,fieldMetaBase:{...s.fieldMetaBase,[t]:He},values:this.options.defaultValues?Vt(s.values,t,Nt(this.options.defaultValues,t)):s.values}))},this.setErrorMap=t=>{ie(()=>{Object.entries(t).forEach(([s,r])=>{const o=s;if(ms(r)){const{formError:i,fieldErrors:a}=Xt(r);for(const l of Object.keys(this.fieldInfo))this.getFieldMeta(l)&&this.setFieldMeta(l,u=>({...u,errorMap:{...u.errorMap,[o]:a?.[l]},errorSourceMap:{...u.errorSourceMap,[o]:"form"}}));this.baseStore.setState(l=>({...l,errorMap:{...l.errorMap,[o]:i}}))}else this.baseStore.setState(i=>({...i,errorMap:{...i.errorMap,[o]:r}}))})})},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((t,[s,r])=>(Object.keys(r).length&&r.errors.length&&(t[s]={errors:r.errors,errorMap:r.errorMap}),t),{})}),this.parseValuesWithSchema=t=>Ye.validate({value:this.state.values,validationSource:"form"},t),this.parseValuesWithSchemaAsync=t=>Ye.validateAsync({value:this.state.values,validationSource:"form"},t),this.timeoutIds={validations:{},listeners:{},formListeners:{}},this._formId=n?.formId??mi(),this._devtoolsSubmissionOverride=!1,this.baseStore=new fs(Gn({...n?.defaultState,values:n?.defaultValues??n?.defaultState?.values})),this.fieldMetaDerived=new ge({deps:[this.baseStore],fn:({prevDepVals:t,currDepVals:s,prevVal:r})=>{const o=r,i=t?.[0],a=s[0];let l=0;const c={};for(const u of Object.keys(a.fieldMetaBase)){const p=a.fieldMetaBase[u],f=i?.fieldMetaBase[u],h=o?.[u],m=Nt(a.values,u);let g=h?.errors;if(!f||p.errorMap!==f.errorMap){g=Object.values(p.errorMap??{}).filter(b=>b!==void 0);const w=this.getFieldInfo(u)?.instance;(!w||!w.options.disableErrorFlat)&&(g=g.flat(1))}const v=!Of(g),y=!p.isDirty,S=ye(m,Nt(this.options.defaultValues,u))||ye(m,this.getFieldInfo(u)?.instance?.options.defaultValue);if(h&&h.isPristine===y&&h.isValid===v&&h.isDefaultValue===S&&h.errors===g&&p===f){c[u]=h,l++;continue}c[u]={...p,errors:g??[],isPristine:y,isValid:v,isDefaultValue:S}}return Object.keys(a.fieldMetaBase).length&&o&&l===Object.keys(a.fieldMetaBase).length?o:c}}),this.store=new ge({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:t,currDepVals:s,prevVal:r})=>{const o=r,i=t?.[0],a=s[0],l=s[1],c=Object.values(l).filter(Boolean),u=c.some(M=>M.isValidating),p=c.every(M=>M.isValid),f=c.some(M=>M.isTouched),h=c.some(M=>M.isBlurred),m=c.every(M=>M.isDefaultValue),g=f&&a.errorMap?.onMount,v=c.some(M=>M.isDirty),y=!v,S=!!(a.errorMap?.onMount||c.some(M=>M?.errorMap?.onMount)),w=!!u;let b=o?.errors??[];(!i||a.errorMap!==i.errorMap)&&(b=Object.values(a.errorMap).reduce((M,k)=>k===void 0?M:k&&ms(k)?(M.push(k.form),M):(M.push(k),M),[]));const _=b.length===0,P=p&&_,E=this.options.canSubmitWhenInvalid??!1,R=a.submissionAttempts===0&&!f&&!S||!w&&!a.isSubmitting&&P||E;let C=a.errorMap;if(g&&(b=b.filter(M=>M!==a.errorMap.onMount),C=Object.assign(C,{onMount:void 0})),o&&i&&o.errorMap===C&&o.fieldMeta===this.fieldMetaDerived.state&&o.errors===b&&o.isFieldsValidating===u&&o.isFieldsValid===p&&o.isFormValid===_&&o.isValid===P&&o.canSubmit===R&&o.isTouched===f&&o.isBlurred===h&&o.isPristine===y&&o.isDefaultValue===m&&o.isDirty===v&&ye(i,a))return o;let L={...a,errorMap:C,fieldMeta:this.fieldMetaDerived.state,errors:b,isFieldsValidating:u,isFieldsValid:p,isFormValid:_,isValid:P,canSubmit:R,isTouched:f,isBlurred:h,isPristine:y,isDefaultValue:m,isDirty:v};const T=this.options.transform?.deps??[];if(T.length!==this.prevTransformArray.length||T.some((M,k)=>M!==this.prevTransformArray[k])){const M=Object.assign({},this,{state:L});this.options.transform?.fn(M),L=M.state,this.prevTransformArray=T}return L}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(n||{})}get state(){return this.store.state}get formId(){return this._formId}runValidator(n){return vi(n.validate)?Ye[n.type](n.value,n.validate):n.validate(n.value)}handleSubmit(n){return this._handleSubmit(n)}}function Xt(e){if(e){if(ms(e)){const n=Xt(e.form).formError,t=e.fields;return{formError:n,fieldErrors:t}}return{formError:e}}return{formError:void 0}}function lt(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";default:return"onChange"}}class uo{constructor(n){this.options={},this.mount=()=>{const t=this.store.mount();this.options.defaultValue!==void 0&&!this.getMeta().isTouched&&this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0});const s=this.getInfo();s.instance=this,this.update(this.options);const{onMount:r}=this.options.validators||{};if(r){const o=this.runValidator({validate:r,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});o&&this.setMeta(i=>({...i,errorMap:{...i?.errorMap,onMount:o},errorSourceMap:{...i?.errorSourceMap,onMount:"field"}}))}return this.options.listeners?.onMount?.({value:this.state.value,fieldApi:this}),t},this.update=t=>{if(this.options=t,this.name=t.name,!this.state.meta.isTouched&&this.options.defaultValue!==void 0){const s=this.form.getFieldValue(this.name);ye(s,t.defaultValue)||this.form.setFieldValue(this.name,t.defaultValue,{dontUpdateMeta:!0,dontValidate:!0,dontRunListeners:!0})}this.form.getFieldMeta(this.name)||this.form.setFieldMeta(this.name,this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(t,s)=>{this.form.setFieldValue(this.name,t,Y(s,{dontRunListeners:!0,dontValidate:!0})),s?.dontRunListeners||this.triggerOnChangeListener(),s?.dontValidate||this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=t=>this.form.setFieldMeta(this.name,t),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(t,s)=>{this.form.pushFieldValue(this.name,t,Y(s,{dontRunListeners:!0})),s?.dontRunListeners||this.triggerOnChangeListener()},this.insertValue=(t,s,r)=>{this.form.insertFieldValue(this.name,t,s,Y(r,{dontRunListeners:!0})),r?.dontRunListeners||this.triggerOnChangeListener()},this.replaceValue=(t,s,r)=>{this.form.replaceFieldValue(this.name,t,s,Y(r,{dontRunListeners:!0})),r?.dontRunListeners||this.triggerOnChangeListener()},this.removeValue=(t,s)=>{this.form.removeFieldValue(this.name,t,Y(s,{dontRunListeners:!0})),s?.dontRunListeners||this.triggerOnChangeListener()},this.swapValues=(t,s,r)=>{this.form.swapFieldValues(this.name,t,s,Y(r,{dontRunListeners:!0})),r?.dontRunListeners||this.triggerOnChangeListener()},this.moveValue=(t,s,r)=>{this.form.moveFieldValues(this.name,t,s,Y(r,{dontRunListeners:!0})),r?.dontRunListeners||this.triggerOnChangeListener()},this.clearValues=t=>{this.form.clearFieldValues(this.name,Y(t,{dontRunListeners:!0})),t?.dontRunListeners||this.triggerOnChangeListener()},this.getLinkedFields=t=>{const s=Object.values(this.form.fieldInfo),r=[];for(const o of s){if(!o.instance)continue;const{onChangeListenTo:i,onBlurListenTo:a}=o.instance.options.validators||{};t==="change"&&i?.includes(this.name)&&r.push(o.instance),t==="blur"&&a?.includes(this.name)&&r.push(o.instance)}return r},this.validateSync=(t,s)=>{const r=ps(t,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||ze}),i=this.getLinkedFields(t).reduce((c,u)=>{const p=ps(t,{...u.options,form:u.form,validationLogic:u.form.options.validationLogic||ze});return p.forEach(f=>{f.field=u}),c.concat(p)},[]);let a=!1;ie(()=>{const c=(u,p)=>{const f=Bt(p.cause),h=p.validate?fo(u.runValidator({validate:p.validate,value:{value:u.store.state.value,validationSource:"field",fieldApi:u},type:"validate"})):void 0,m=s[f],{newErrorValue:g,newSource:v}=ao({formLevelError:m,fieldLevelError:h});u.state.meta.errorMap?.[f]!==g&&u.setMeta(y=>({...y,errorMap:{...y.errorMap,[f]:g},errorSourceMap:{...y.errorSourceMap,[f]:v}})),g&&(a=!0)};for(const u of r)c(this,u);for(const u of i)u.validate&&c(u.field,u)});const l=Bt("submit");return this.state.meta.errorMap?.[l]&&t!=="submit"&&!a&&this.setMeta(c=>({...c,errorMap:{...c.errorMap,[l]:void 0},errorSourceMap:{...c.errorSourceMap,[l]:void 0}})),{hasErrored:a}},this.validateAsync=async(t,s)=>{const r=gs(t,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||ze}),o=await s,i=this.getLinkedFields(t),a=i.reduce((h,m)=>{const g=gs(t,{...m.options,form:m.form,validationLogic:m.form.options.validationLogic||ze});return g.forEach(v=>{v.field=m}),h.concat(g)},[]),l=[],c=[],u=r.some(h=>h.validate)||a.some(h=>h.validate);if(u){this.state.meta.isValidating||this.setMeta(h=>({...h,isValidating:!0}));for(const h of i)h.setMeta(m=>({...m,isValidating:!0}))}const p=(h,m,g)=>{const v=Bt(m.cause);h.getInfo().validationMetaMap[v]?.lastAbortController.abort();const S=new AbortController;this.getInfo().validationMetaMap[v]={lastAbortController:S},g.push(new Promise(async w=>{let b;try{b=await new Promise((C,L)=>{this.timeoutIds.validations[m.cause]&&clearTimeout(this.timeoutIds.validations[m.cause]),this.timeoutIds.validations[m.cause]=setTimeout(async()=>{if(S.signal.aborted)return C(void 0);try{C(await this.runValidator({validate:m.validate,value:{value:h.store.state.value,fieldApi:h,signal:S.signal,validationSource:"field"},type:"validateAsync"}))}catch(T){L(T)}},m.debounceMs)})}catch(C){b=C}if(S.signal.aborted)return w(void 0);const _=fo(b),P=o[this.name]?.[v],{newErrorValue:E,newSource:R}=ao({formLevelError:P,fieldLevelError:_});h.setMeta(C=>({...C,errorMap:{...C?.errorMap,[v]:E},errorSourceMap:{...C.errorSourceMap,[v]:R}})),w(E)}))};for(const h of r)h.validate&&p(this,h,l);for(const h of a)h.validate&&p(h.field,h,c);let f=[];if((l.length||c.length)&&(f=await Promise.all(l),await Promise.all(c)),u){this.setMeta(h=>({...h,isValidating:!1}));for(const h of i)h.setMeta(m=>({...m,isValidating:!1}))}return f.filter(Boolean)},this.validate=(t,s)=>{if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:r}=s?.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(t),{hasErrored:o}=this.validateSync(t,r[this.name]??{});if(o&&!this.options.asyncAlways)return this.getInfo().validationMetaMap[Bt(t)]?.lastAbortController.abort(),this.state.meta.errors;const i=s?.skipFormValidation?Promise.resolve({}):this.form.validateAsync(t);return this.validateAsync(t,i)},this.handleChange=t=>{this.setValue(t)},this.handleBlur=()=>{this.state.meta.isTouched||this.setMeta(s=>({...s,isTouched:!0})),this.state.meta.isBlurred||this.setMeta(s=>({...s,isBlurred:!0})),this.validate("blur"),this.triggerOnBlurListener()},this.setErrorMap=t=>{this.setMeta(s=>({...s,errorMap:{...s.errorMap,...t}}))},this.parseValueWithSchema=t=>Ye.validate({value:this.state.value,validationSource:"field"},t),this.parseValueWithSchemaAsync=t=>Ye.validateAsync({value:this.state.value,validationSource:"field"},t),this.triggerOnChangeListener=()=>{const t=this.form.options.listeners?.onChangeDebounceMs;t&&t>0?(this.timeoutIds.formListeners.change&&clearTimeout(this.timeoutIds.formListeners.change),this.timeoutIds.formListeners.change=setTimeout(()=>{this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this})},t)):this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this});const s=this.options.listeners?.onChangeDebounceMs;s&&s>0?(this.timeoutIds.listeners.change&&clearTimeout(this.timeoutIds.listeners.change),this.timeoutIds.listeners.change=setTimeout(()=>{this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},s)):this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},this.form=n.form,this.name=n.name,this.options=n,this.timeoutIds={validations:{},listeners:{},formListeners:{}},this.store=new ge({deps:[this.form.store],fn:({prevVal:t})=>{const s=t,r=this.form.getFieldMeta(this.name)??{...He,...n.defaultMeta};let o=this.form.getFieldValue(this.name);return!r.isTouched&&o===void 0&&this.options.defaultValue!==void 0&&!ye(o,this.options.defaultValue)&&(o=this.options.defaultValue),s&&s.value===o&&s.meta===r?s:{value:o,meta:r}}})}get state(){return this.store.state}runValidator(n){return vi(n.validate)?Ye[n.type](n.value,n.validate):n.validate(n.value)}triggerOnBlurListener(){const n=this.form.options.listeners?.onBlurDebounceMs;n&&n>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this})},n)):this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this});const t=this.options.listeners?.onBlurDebounceMs;t&&t>0?(this.timeoutIds.listeners.blur&&clearTimeout(this.timeoutIds.listeners.blur),this.timeoutIds.listeners.blur=setTimeout(()=>{this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})},t)):this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})}}function fo(e){if(e)return e}function Bt(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";default:return"onChange"}}const pn=typeof window<"u"?x.useLayoutEffect:x.useEffect;function Bf(e){const[n,t]=x.useState(()=>({form:e.form,name:e.name})),[s,r]=x.useState(()=>new uo({...e}));(n.form!==e.form||n.name!==e.name)&&(r(new uo({...e})),t({form:e.form,name:e.name}));const o=de(s.store,e.mode==="array"?h=>Object.keys(h.value??[]).length:h=>h.value),i=de(s.store,h=>h.meta.isTouched),a=de(s.store,h=>h.meta.isBlurred),l=de(s.store,h=>h.meta.isDirty),c=de(s.store,h=>h.meta.errorMap),u=de(s.store,h=>h.meta.errorSourceMap),p=de(s.store,h=>h.meta.isValidating),f=x.useMemo(()=>{const m={...s,get state(){return{value:e.mode==="array"?s.state.value:o,get meta(){return{...s.state.meta,isTouched:i,isBlurred:a,isDirty:l,errorMap:c,errorSourceMap:u,isValidating:p}}}}};return m.Field=yi,m},[s,e.mode,o,i,a,l,c,u,p]);return pn(s.mount,[s]),pn(()=>{s.update(e)}),f}const yi=(({children:e,...n})=>{const t=Bf(n),s=x.useMemo(()=>Cn(e,t),[e,t]);return d.jsx(d.Fragment,{children:s})});function zf(){return x.useState(()=>mi())[0]}const Hf=x.version.split(".")[0]==="17"?zf:x.useId;function Uf({form:e,selector:n,children:t}){const s=de(e.store,n);return d.jsx(d.Fragment,{children:Cn(t,s)})}function sp(e){const n=Hf(),[t,s]=x.useState(e?.formId),[r,o]=x.useState(()=>new co({...e,formId:e?.formId??n}));if(t!==e?.formId){const a=e?.formId??n;o(new co({...e,formId:a})),s(a)}const i=x.useMemo(()=>{const a={...r,handleSubmit:((...l)=>r._handleSubmit(...l)),get formId(){return r._formId},get state(){return r.store.state}};return a.Field=function(c){return d.jsx(yi,{...c,form:r})},a.Subscribe=function(c){return d.jsx(Uf,{form:r,selector:c.selector,children:c.children})},a},[r]);return pn(r.mount,[]),pn(()=>{r.update(e)}),i}function we(e,n){return typeof e=="function"?e(n):e}function J(e,n){return t=>{n.setState(s=>({...s,[e]:we(t,s[e])}))}}function En(e){return e instanceof Function}function Gf(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function Wf(e,n){const t=[],s=r=>{r.forEach(o=>{t.push(o);const i=n(o);i!=null&&i.length&&s(i)})};return s(e),t}function I(e,n,t){let s=[],r;return o=>{let i;t.key&&t.debug&&(i=Date.now());const a=e(o);if(!(a.length!==s.length||a.some((u,p)=>s[p]!==u)))return r;s=a;let c;if(t.key&&t.debug&&(c=Date.now()),r=n(...a),t==null||t.onChange==null||t.onChange(r),t.key&&t.debug&&t!=null&&t.debug()){const u=Math.round((Date.now()-i)*100)/100,p=Math.round((Date.now()-c)*100)/100,f=p/16,h=(m,g)=>{for(m=String(m);m.length<g;)m=" "+m;return m};console.info(`%c ${h(p,5)} /${h(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,t?.key)}return r}}function F(e,n,t,s){return{debug:()=>{var r;return(r=e?.debugAll)!=null?r:e[n]},key:!1,onChange:s}}function Kf(e,n,t,s){const r=()=>{var i;return(i=o.getValue())!=null?i:e.options.renderFallbackValue},o={id:`${n.id}_${t.id}`,row:n,column:t,getValue:()=>n.getValue(s),renderValue:r,getContext:I(()=>[e,t,n,o],(i,a,l,c)=>({table:i,column:a,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),F(e.options,"debugCells"))};return e._features.forEach(i=>{i.createCell==null||i.createCell(o,t,n,e)},{}),o}function qf(e,n,t,s){var r,o;const a={...e._getDefaultColumnDef(),...n},l=a.accessorKey;let c=(r=(o=a.id)!=null?o:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?r:typeof a.header=="string"?a.header:void 0,u;if(a.accessorFn?u=a.accessorFn:l&&(l.includes(".")?u=f=>{let h=f;for(const g of l.split(".")){var m;h=(m=h)==null?void 0:m[g]}return h}:u=f=>f[a.accessorKey]),!c)throw new Error;let p={id:`${String(c)}`,accessorFn:u,parent:s,depth:t,columnDef:a,columns:[],getFlatColumns:I(()=>[!0],()=>{var f;return[p,...(f=p.columns)==null?void 0:f.flatMap(h=>h.getFlatColumns())]},F(e.options,"debugColumns")),getLeafColumns:I(()=>[e._getOrderColumnsFn()],f=>{var h;if((h=p.columns)!=null&&h.length){let m=p.columns.flatMap(g=>g.getLeafColumns());return f(m)}return[p]},F(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(p,e);return p}const G="debugHeaders";function ho(e,n,t){var s;let o={id:(s=t.id)!=null?s:n.id,column:n,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const i=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),i.push(l)};return a(o),i},getContext:()=>({table:e,header:o,column:n})};return e._features.forEach(i=>{i.createHeader==null||i.createHeader(o,e)}),o}const Yf={createTable:e=>{e.getHeaderGroups=I(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,s,r)=>{var o,i;const a=(o=s?.map(p=>t.find(f=>f.id===p)).filter(Boolean))!=null?o:[],l=(i=r?.map(p=>t.find(f=>f.id===p)).filter(Boolean))!=null?i:[],c=t.filter(p=>!(s!=null&&s.includes(p.id))&&!(r!=null&&r.includes(p.id)));return zt(n,[...a,...c,...l],e)},F(e.options,G)),e.getCenterHeaderGroups=I(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,s,r)=>(t=t.filter(o=>!(s!=null&&s.includes(o.id))&&!(r!=null&&r.includes(o.id))),zt(n,t,e,"center")),F(e.options,G)),e.getLeftHeaderGroups=I(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,t,s)=>{var r;const o=(r=s?.map(i=>t.find(a=>a.id===i)).filter(Boolean))!=null?r:[];return zt(n,o,e,"left")},F(e.options,G)),e.getRightHeaderGroups=I(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,t,s)=>{var r;const o=(r=s?.map(i=>t.find(a=>a.id===i)).filter(Boolean))!=null?r:[];return zt(n,o,e,"right")},F(e.options,G)),e.getFooterGroups=I(()=>[e.getHeaderGroups()],n=>[...n].reverse(),F(e.options,G)),e.getLeftFooterGroups=I(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),F(e.options,G)),e.getCenterFooterGroups=I(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),F(e.options,G)),e.getRightFooterGroups=I(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),F(e.options,G)),e.getFlatHeaders=I(()=>[e.getHeaderGroups()],n=>n.map(t=>t.headers).flat(),F(e.options,G)),e.getLeftFlatHeaders=I(()=>[e.getLeftHeaderGroups()],n=>n.map(t=>t.headers).flat(),F(e.options,G)),e.getCenterFlatHeaders=I(()=>[e.getCenterHeaderGroups()],n=>n.map(t=>t.headers).flat(),F(e.options,G)),e.getRightFlatHeaders=I(()=>[e.getRightHeaderGroups()],n=>n.map(t=>t.headers).flat(),F(e.options,G)),e.getCenterLeafHeaders=I(()=>[e.getCenterFlatHeaders()],n=>n.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),F(e.options,G)),e.getLeftLeafHeaders=I(()=>[e.getLeftFlatHeaders()],n=>n.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),F(e.options,G)),e.getRightLeafHeaders=I(()=>[e.getRightFlatHeaders()],n=>n.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),F(e.options,G)),e.getLeafHeaders=I(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,t,s)=>{var r,o,i,a,l,c;return[...(r=(o=n[0])==null?void 0:o.headers)!=null?r:[],...(i=(a=t[0])==null?void 0:a.headers)!=null?i:[],...(l=(c=s[0])==null?void 0:c.headers)!=null?l:[]].map(u=>u.getLeafHeaders()).flat()},F(e.options,G))}};function zt(e,n,t,s){var r,o;let i=0;const a=function(f,h){h===void 0&&(h=1),i=Math.max(i,h),f.filter(m=>m.getIsVisible()).forEach(m=>{var g;(g=m.columns)!=null&&g.length&&a(m.columns,h+1)},0)};a(e);let l=[];const c=(f,h)=>{const m={depth:h,id:[s,`${h}`].filter(Boolean).join("_"),headers:[]},g=[];f.forEach(v=>{const y=[...g].reverse()[0],S=v.column.depth===m.depth;let w,b=!1;if(S&&v.column.parent?w=v.column.parent:(w=v.column,b=!0),y&&y?.column===w)y.subHeaders.push(v);else{const _=ho(t,w,{id:[s,h,w.id,v?.id].filter(Boolean).join("_"),isPlaceholder:b,placeholderId:b?`${g.filter(P=>P.column===w).length}`:void 0,depth:h,index:g.length});_.subHeaders.push(v),g.push(_)}m.headers.push(v),v.headerGroup=m}),l.push(m),h>0&&c(g,h-1)},u=n.map((f,h)=>ho(t,f,{depth:i,index:h}));c(u,i-1),l.reverse();const p=f=>f.filter(m=>m.column.getIsVisible()).map(m=>{let g=0,v=0,y=[0];m.subHeaders&&m.subHeaders.length?(y=[],p(m.subHeaders).forEach(w=>{let{colSpan:b,rowSpan:_}=w;g+=b,y.push(_)})):g=1;const S=Math.min(...y);return v=v+S,m.colSpan=g,m.rowSpan=v,{colSpan:g,rowSpan:v}});return p((r=(o=l[0])==null?void 0:o.headers)!=null?r:[]),l}const er=(e,n,t,s,r,o,i)=>{let a={id:n,index:s,original:t,depth:r,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return a._valuesCache[l]=c.accessorFn(a.original,s),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=c.columnDef.getUniqueValues(a.original,s),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=a.getValue(l))!=null?c:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Wf(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],c=a;for(;;){const u=c.getParentRow();if(!u)break;l.push(u),c=u}return l.reverse()},getAllCells:I(()=>[e.getAllLeafColumns()],l=>l.map(c=>Kf(e,a,c,c.id)),F(e.options,"debugRows")),_getAllCellsByColumnId:I(()=>[a.getAllCells()],l=>l.reduce((c,u)=>(c[u.column.id]=u,c),{}),F(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const c=e._features[l];c==null||c.createRow==null||c.createRow(a,e)}return a},Qf={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Si=(e,n,t)=>{var s,r;const o=t==null||(s=t.toString())==null?void 0:s.toLowerCase();return!!(!((r=e.getValue(n))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(o))};Si.autoRemove=e=>se(e);const xi=(e,n,t)=>{var s;return!!(!((s=e.getValue(n))==null||(s=s.toString())==null)&&s.includes(t))};xi.autoRemove=e=>se(e);const wi=(e,n,t)=>{var s;return((s=e.getValue(n))==null||(s=s.toString())==null?void 0:s.toLowerCase())===t?.toLowerCase()};wi.autoRemove=e=>se(e);const bi=(e,n,t)=>{var s;return(s=e.getValue(n))==null?void 0:s.includes(t)};bi.autoRemove=e=>se(e);const Ri=(e,n,t)=>!t.some(s=>{var r;return!((r=e.getValue(n))!=null&&r.includes(s))});Ri.autoRemove=e=>se(e)||!(e!=null&&e.length);const _i=(e,n,t)=>t.some(s=>{var r;return(r=e.getValue(n))==null?void 0:r.includes(s)});_i.autoRemove=e=>se(e)||!(e!=null&&e.length);const Ci=(e,n,t)=>e.getValue(n)===t;Ci.autoRemove=e=>se(e);const Ei=(e,n,t)=>e.getValue(n)==t;Ei.autoRemove=e=>se(e);const tr=(e,n,t)=>{let[s,r]=t;const o=e.getValue(n);return o>=s&&o<=r};tr.resolveFilterValue=e=>{let[n,t]=e,s=typeof n!="number"?parseFloat(n):n,r=typeof t!="number"?parseFloat(t):t,o=n===null||Number.isNaN(s)?-1/0:s,i=t===null||Number.isNaN(r)?1/0:r;if(o>i){const a=o;o=i,i=a}return[o,i]};tr.autoRemove=e=>se(e)||se(e[0])&&se(e[1]);const fe={includesString:Si,includesStringSensitive:xi,equalsString:wi,arrIncludes:bi,arrIncludesAll:Ri,arrIncludesSome:_i,equals:Ci,weakEquals:Ei,inNumberRange:tr};function se(e){return e==null||e===""}const Xf={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:J("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const t=n.getCoreRowModel().flatRows[0],s=t?.getValue(e.id);return typeof s=="string"?fe.includesString:typeof s=="number"?fe.inNumberRange:typeof s=="boolean"||s!==null&&typeof s=="object"?fe.equals:Array.isArray(s)?fe.arrIncludes:fe.weakEquals},e.getFilterFn=()=>{var t,s;return En(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(s=n.options.filterFns)==null?void 0:s[e.columnDef.filterFn])!=null?t:fe[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,s,r;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((s=n.options.enableColumnFilters)!=null?s:!0)&&((r=n.options.enableFilters)!=null?r:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=n.getState().columnFilters)==null||(t=t.find(s=>s.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,s;return(t=(s=n.getState().columnFilters)==null?void 0:s.findIndex(r=>r.id===e.id))!=null?t:-1},e.setFilterValue=t=>{n.setColumnFilters(s=>{const r=e.getFilterFn(),o=s?.find(u=>u.id===e.id),i=we(t,o?o.value:void 0);if(po(r,i,e)){var a;return(a=s?.filter(u=>u.id!==e.id))!=null?a:[]}const l={id:e.id,value:i};if(o){var c;return(c=s?.map(u=>u.id===e.id?l:u))!=null?c:[]}return s!=null&&s.length?[...s,l]:[l]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const t=e.getAllLeafColumns(),s=r=>{var o;return(o=we(n,r))==null?void 0:o.filter(i=>{const a=t.find(l=>l.id===i.id);if(a){const l=a.getFilterFn();if(po(l,i.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(s)},e.resetColumnFilters=n=>{var t,s;e.setColumnFilters(n?[]:(t=(s=e.initialState)==null?void 0:s.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function po(e,n,t){return(e&&e.autoRemove?e.autoRemove(n,t):!1)||typeof n>"u"||typeof n=="string"&&!n}const Jf=(e,n,t)=>t.reduce((s,r)=>{const o=r.getValue(e);return s+(typeof o=="number"?o:0)},0),Zf=(e,n,t)=>{let s;return t.forEach(r=>{const o=r.getValue(e);o!=null&&(s>o||s===void 0&&o>=o)&&(s=o)}),s},eh=(e,n,t)=>{let s;return t.forEach(r=>{const o=r.getValue(e);o!=null&&(s<o||s===void 0&&o>=o)&&(s=o)}),s},th=(e,n,t)=>{let s,r;return t.forEach(o=>{const i=o.getValue(e);i!=null&&(s===void 0?i>=i&&(s=r=i):(s>i&&(s=i),r<i&&(r=i)))}),[s,r]},nh=(e,n)=>{let t=0,s=0;if(n.forEach(r=>{let o=r.getValue(e);o!=null&&(o=+o)>=o&&(++t,s+=o)}),t)return s/t},sh=(e,n)=>{if(!n.length)return;const t=n.map(o=>o.getValue(e));if(!Gf(t))return;if(t.length===1)return t[0];const s=Math.floor(t.length/2),r=t.sort((o,i)=>o-i);return t.length%2!==0?r[s]:(r[s-1]+r[s])/2},rh=(e,n)=>Array.from(new Set(n.map(t=>t.getValue(e))).values()),oh=(e,n)=>new Set(n.map(t=>t.getValue(e))).size,ih=(e,n)=>n.length,Wn={sum:Jf,min:Zf,max:eh,extent:th,mean:nh,median:sh,unique:rh,uniqueCount:oh,count:ih},ah={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,t;return(n=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:J("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(s=>s!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,s;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((s=n.options.enableGrouping)!=null?s:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=n.getCoreRowModel().flatRows[0],s=t?.getValue(e.id);if(typeof s=="number")return Wn.sum;if(Object.prototype.toString.call(s)==="[object Date]")return Wn.extent},e.getAggregationFn=()=>{var t,s;if(!e)throw new Error;return En(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(s=n.options.aggregationFns)==null?void 0:s[e.columnDef.aggregationFn])!=null?t:Wn[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var t,s;e.setGrouping(n?[]:(t=(s=e.initialState)==null?void 0:s.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const s=n.getColumn(t);return s!=null&&s.columnDef.getGroupingValue?(e._groupingValuesCache[t]=s.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,n,t,s)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var r;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((r=t.subRows)!=null&&r.length)}}};function lh(e,n,t){if(!(n!=null&&n.length)||!t)return e;const s=e.filter(o=>!n.includes(o.id));return t==="remove"?s:[...n.map(o=>e.find(i=>i.id===o)).filter(Boolean),...s]}const ch={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:J("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=I(t=>[vt(n,t)],t=>t.findIndex(s=>s.id===e.id),F(n.options,"debugColumns")),e.getIsFirstColumn=t=>{var s;return((s=vt(n,t)[0])==null?void 0:s.id)===e.id},e.getIsLastColumn=t=>{var s;const r=vt(n,t);return((s=r[r.length-1])==null?void 0:s.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var t;e.setColumnOrder(n?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=I(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,t,s)=>r=>{let o=[];if(!(n!=null&&n.length))o=r;else{const i=[...n],a=[...r];for(;a.length&&i.length;){const l=i.shift(),c=a.findIndex(u=>u.id===l);c>-1&&o.push(a.splice(c,1)[0])}o=[...o,...a]}return lh(o,t,s)},F(e.options,"debugTable"))}},Kn=()=>({left:[],right:[]}),uh={getInitialState:e=>({columnPinning:Kn(),...e}),getDefaultOptions:e=>({onColumnPinningChange:J("columnPinning",e)}),createColumn:(e,n)=>{e.pin=t=>{const s=e.getLeafColumns().map(r=>r.id).filter(Boolean);n.setColumnPinning(r=>{var o,i;if(t==="right"){var a,l;return{left:((a=r?.left)!=null?a:[]).filter(p=>!(s!=null&&s.includes(p))),right:[...((l=r?.right)!=null?l:[]).filter(p=>!(s!=null&&s.includes(p))),...s]}}if(t==="left"){var c,u;return{left:[...((c=r?.left)!=null?c:[]).filter(p=>!(s!=null&&s.includes(p))),...s],right:((u=r?.right)!=null?u:[]).filter(p=>!(s!=null&&s.includes(p)))}}return{left:((o=r?.left)!=null?o:[]).filter(p=>!(s!=null&&s.includes(p))),right:((i=r?.right)!=null?i:[]).filter(p=>!(s!=null&&s.includes(p)))}})},e.getCanPin=()=>e.getLeafColumns().some(s=>{var r,o,i;return((r=s.columnDef.enablePinning)!=null?r:!0)&&((o=(i=n.options.enableColumnPinning)!=null?i:n.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(a=>a.id),{left:s,right:r}=n.getState().columnPinning,o=t.some(a=>s?.includes(a)),i=t.some(a=>r?.includes(a));return o?"left":i?"right":!1},e.getPinnedIndex=()=>{var t,s;const r=e.getIsPinned();return r?(t=(s=n.getState().columnPinning)==null||(s=s[r])==null?void 0:s.indexOf(e.id))!=null?t:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=I(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(t,s,r)=>{const o=[...s??[],...r??[]];return t.filter(i=>!o.includes(i.column.id))},F(n.options,"debugRows")),e.getLeftVisibleCells=I(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(t,s)=>(s??[]).map(o=>t.find(i=>i.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),F(n.options,"debugRows")),e.getRightVisibleCells=I(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(t,s)=>(s??[]).map(o=>t.find(i=>i.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),F(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var t,s;return e.setColumnPinning(n?Kn():(t=(s=e.initialState)==null?void 0:s.columnPinning)!=null?t:Kn())},e.getIsSomeColumnsPinned=n=>{var t;const s=e.getState().columnPinning;if(!n){var r,o;return!!((r=s.left)!=null&&r.length||(o=s.right)!=null&&o.length)}return!!((t=s[n])!=null&&t.length)},e.getLeftLeafColumns=I(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,t)=>(t??[]).map(s=>n.find(r=>r.id===s)).filter(Boolean),F(e.options,"debugColumns")),e.getRightLeafColumns=I(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,t)=>(t??[]).map(s=>n.find(r=>r.id===s)).filter(Boolean),F(e.options,"debugColumns")),e.getCenterLeafColumns=I(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,s)=>{const r=[...t??[],...s??[]];return n.filter(o=>!r.includes(o.id))},F(e.options,"debugColumns"))}};function dh(e){return e||(typeof document<"u"?document:null)}const Ht={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},qn=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),fh={getDefaultColumnDef:()=>Ht,getInitialState:e=>({columnSizing:{},columnSizingInfo:qn(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:J("columnSizing",e),onColumnSizingInfoChange:J("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var t,s,r;const o=n.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:Ht.minSize,(s=o??e.columnDef.size)!=null?s:Ht.size),(r=e.columnDef.maxSize)!=null?r:Ht.maxSize)},e.getStart=I(t=>[t,vt(n,t),n.getState().columnSizing],(t,s)=>s.slice(0,e.getIndex(t)).reduce((r,o)=>r+o.getSize(),0),F(n.options,"debugColumns")),e.getAfter=I(t=>[t,vt(n,t),n.getState().columnSizing],(t,s)=>s.slice(e.getIndex(t)+1).reduce((r,o)=>r+o.getSize(),0),F(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(t=>{let{[e.id]:s,...r}=t;return r})},e.getCanResize=()=>{var t,s;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((s=n.options.enableColumnResizing)!=null?s:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let t=0;const s=r=>{if(r.subHeaders.length)r.subHeaders.forEach(s);else{var o;t+=(o=r.column.getSize())!=null?o:0}};return s(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const s=n.getColumn(e.column.id),r=s?.getCanResize();return o=>{if(!s||!r||(o.persist==null||o.persist(),Yn(o)&&o.touches&&o.touches.length>1))return;const i=e.getSize(),a=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[s.id,s.getSize()]],l=Yn(o)?Math.round(o.touches[0].clientX):o.clientX,c={},u=(y,S)=>{typeof S=="number"&&(n.setColumnSizingInfo(w=>{var b,_;const P=n.options.columnResizeDirection==="rtl"?-1:1,E=(S-((b=w?.startOffset)!=null?b:0))*P,R=Math.max(E/((_=w?.startSize)!=null?_:0),-.999999);return w.columnSizingStart.forEach(C=>{let[L,T]=C;c[L]=Math.round(Math.max(T+T*R,0)*100)/100}),{...w,deltaOffset:E,deltaPercentage:R}}),(n.options.columnResizeMode==="onChange"||y==="end")&&n.setColumnSizing(w=>({...w,...c})))},p=y=>u("move",y),f=y=>{u("end",y),n.setColumnSizingInfo(S=>({...S,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=dh(t),m={moveHandler:y=>p(y.clientX),upHandler:y=>{h?.removeEventListener("mousemove",m.moveHandler),h?.removeEventListener("mouseup",m.upHandler),f(y.clientX)}},g={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),p(y.touches[0].clientX),!1),upHandler:y=>{var S;h?.removeEventListener("touchmove",g.moveHandler),h?.removeEventListener("touchend",g.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),f((S=y.touches[0])==null?void 0:S.clientX)}},v=hh()?{passive:!1}:!1;Yn(o)?(h?.addEventListener("touchmove",g.moveHandler,v),h?.addEventListener("touchend",g.upHandler,v)):(h?.addEventListener("mousemove",m.moveHandler,v),h?.addEventListener("mouseup",m.upHandler,v)),n.setColumnSizingInfo(y=>({...y,startOffset:l,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:s.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var t;e.setColumnSizing(n?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=n=>{var t;e.setColumnSizingInfo(n?qn():(t=e.initialState.columnSizingInfo)!=null?t:qn())},e.getTotalSize=()=>{var n,t;return(n=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((s,r)=>s+r.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,t;return(n=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((s,r)=>s+r.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,t;return(n=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((s,r)=>s+r.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,t;return(n=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((s,r)=>s+r.getSize(),0))!=null?n:0}}};let Ut=null;function hh(){if(typeof Ut=="boolean")return Ut;let e=!1;try{const n={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,n),window.removeEventListener("test",t)}catch{e=!1}return Ut=e,Ut}function Yn(e){return e.type==="touchstart"}const ph={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:J("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=t=>{e.getCanHide()&&n.setColumnVisibility(s=>({...s,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,s;const r=e.columns;return(t=r.length?r.some(o=>o.getIsVisible()):(s=n.getState().columnVisibility)==null?void 0:s[e.id])!=null?t:!0},e.getCanHide=()=>{var t,s;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((s=n.options.enableHiding)!=null?s:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=I(()=>[e.getAllCells(),n.getState().columnVisibility],t=>t.filter(s=>s.column.getIsVisible()),F(n.options,"debugRows")),e.getVisibleCells=I(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,s,r)=>[...t,...s,...r],F(n.options,"debugRows"))},createTable:e=>{const n=(t,s)=>I(()=>[s(),s().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),F(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var s;e.setColumnVisibility(t?{}:(s=e.initialState.columnVisibility)!=null?s:{})},e.toggleAllColumnsVisible=t=>{var s;t=(s=t)!=null?s:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((r,o)=>({...r,[o.id]:t||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var s;e.toggleAllColumnsVisible((s=t.target)==null?void 0:s.checked)}}};function vt(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const gh={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},mh={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:J("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var t;const s=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[n.id])==null?void 0:t.getValue();return typeof s=="string"||typeof s=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var t,s,r,o;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((s=n.options.enableGlobalFilter)!=null?s:!0)&&((r=n.options.enableFilters)!=null?r:!0)&&((o=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>fe.includesString,e.getGlobalFilterFn=()=>{var n,t;const{globalFilterFn:s}=e.options;return En(s)?s:s==="auto"?e.getGlobalAutoFilterFn():(n=(t=e.options.filterFns)==null?void 0:t[s])!=null?n:fe[s]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},vh={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:J("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,t=!1;e._autoResetExpanded=()=>{var s,r;if(!n){e._queue(()=>{n=!0});return}if((s=(r=e.options.autoResetAll)!=null?r:e.options.autoResetExpanded)!=null?s:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=s=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(s),e.toggleAllRowsExpanded=s=>{s??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=s=>{var r,o;e.setExpanded(s?{}:(r=(o=e.initialState)==null?void 0:o.expanded)!=null?r:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(s=>s.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>s=>{s.persist==null||s.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const s=e.getState().expanded;return s===!0||Object.values(s).some(Boolean)},e.getIsAllRowsExpanded=()=>{const s=e.getState().expanded;return typeof s=="boolean"?s===!0:!(!Object.keys(s).length||e.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},e.getExpandedDepth=()=>{let s=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const i=o.split(".");s=Math.max(s,i.length)}),s},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=t=>{n.setExpanded(s=>{var r;const o=s===!0?!0:!!(s!=null&&s[e.id]);let i={};if(s===!0?Object.keys(n.getRowModel().rowsById).forEach(a=>{i[a]=!0}):i=s,t=(r=t)!=null?r:!o,!o&&t)return{...i,[e.id]:!0};if(o&&!t){const{[e.id]:a,...l}=i;return l}return s})},e.getIsExpanded=()=>{var t;const s=n.getState().expanded;return!!((t=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?t:s===!0||s?.[e.id])},e.getCanExpand=()=>{var t,s,r;return(t=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?t:((s=n.options.enableExpanding)!=null?s:!0)&&!!((r=e.subRows)!=null&&r.length)},e.getIsAllParentsExpanded=()=>{let t=!0,s=e;for(;t&&s.parentId;)s=n.getRow(s.parentId,!0),t=s.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},vs=0,ys=10,Qn=()=>({pageIndex:vs,pageSize:ys}),yh={getInitialState:e=>({...e,pagination:{...Qn(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:J("pagination",e)}),createTable:e=>{let n=!1,t=!1;e._autoResetPageIndex=()=>{var s,r;if(!n){e._queue(()=>{n=!0});return}if((s=(r=e.options.autoResetAll)!=null?r:e.options.autoResetPageIndex)!=null?s:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=s=>{const r=o=>we(s,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(r)},e.resetPagination=s=>{var r;e.setPagination(s?Qn():(r=e.initialState.pagination)!=null?r:Qn())},e.setPageIndex=s=>{e.setPagination(r=>{let o=we(s,r.pageIndex);const i=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,i)),{...r,pageIndex:o}})},e.resetPageIndex=s=>{var r,o;e.setPageIndex(s?vs:(r=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?r:vs)},e.resetPageSize=s=>{var r,o;e.setPageSize(s?ys:(r=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?r:ys)},e.setPageSize=s=>{e.setPagination(r=>{const o=Math.max(1,we(s,r.pageSize)),i=r.pageSize*r.pageIndex,a=Math.floor(i/o);return{...r,pageIndex:a,pageSize:o}})},e.setPageCount=s=>e.setPagination(r=>{var o;let i=we(s,(o=e.options.pageCount)!=null?o:-1);return typeof i=="number"&&(i=Math.max(-1,i)),{...r,pageCount:i}}),e.getPageOptions=I(()=>[e.getPageCount()],s=>{let r=[];return s&&s>0&&(r=[...new Array(s)].fill(null).map((o,i)=>i)),r},F(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:s}=e.getState().pagination,r=e.getPageCount();return r===-1?!0:r===0?!1:s<r-1},e.previousPage=()=>e.setPageIndex(s=>s-1),e.nextPage=()=>e.setPageIndex(s=>s+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var s;return(s=e.options.pageCount)!=null?s:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var s;return(s=e.options.rowCount)!=null?s:e.getPrePaginationRowModel().rows.length}}},Xn=()=>({top:[],bottom:[]}),Sh={getInitialState:e=>({rowPinning:Xn(),...e}),getDefaultOptions:e=>({onRowPinningChange:J("rowPinning",e)}),createRow:(e,n)=>{e.pin=(t,s,r)=>{const o=s?e.getLeafRows().map(l=>{let{id:c}=l;return c}):[],i=r?e.getParentRows().map(l=>{let{id:c}=l;return c}):[],a=new Set([...i,e.id,...o]);n.setRowPinning(l=>{var c,u;if(t==="bottom"){var p,f;return{top:((p=l?.top)!=null?p:[]).filter(g=>!(a!=null&&a.has(g))),bottom:[...((f=l?.bottom)!=null?f:[]).filter(g=>!(a!=null&&a.has(g))),...Array.from(a)]}}if(t==="top"){var h,m;return{top:[...((h=l?.top)!=null?h:[]).filter(g=>!(a!=null&&a.has(g))),...Array.from(a)],bottom:((m=l?.bottom)!=null?m:[]).filter(g=>!(a!=null&&a.has(g)))}}return{top:((c=l?.top)!=null?c:[]).filter(g=>!(a!=null&&a.has(g))),bottom:((u=l?.bottom)!=null?u:[]).filter(g=>!(a!=null&&a.has(g)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:s,enablePinning:r}=n.options;return typeof s=="function"?s(e):(t=s??r)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:s,bottom:r}=n.getState().rowPinning,o=t.some(a=>s?.includes(a)),i=t.some(a=>r?.includes(a));return o?"top":i?"bottom":!1},e.getPinnedIndex=()=>{var t,s;const r=e.getIsPinned();if(!r)return-1;const o=(t=r==="top"?n.getTopRows():n.getBottomRows())==null?void 0:t.map(i=>{let{id:a}=i;return a});return(s=o?.indexOf(e.id))!=null?s:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var t,s;return e.setRowPinning(n?Xn():(t=(s=e.initialState)==null?void 0:s.rowPinning)!=null?t:Xn())},e.getIsSomeRowsPinned=n=>{var t;const s=e.getState().rowPinning;if(!n){var r,o;return!!((r=s.top)!=null&&r.length||(o=s.bottom)!=null&&o.length)}return!!((t=s[n])!=null&&t.length)},e._getPinnedRows=(n,t,s)=>{var r;return((r=e.options.keepPinnedRows)==null||r?(t??[]).map(i=>{const a=e.getRow(i,!0);return a.getIsAllParentsExpanded()?a:null}):(t??[]).map(i=>n.find(a=>a.id===i))).filter(Boolean).map(i=>({...i,position:s}))},e.getTopRows=I(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,t)=>e._getPinnedRows(n,t,"top"),F(e.options,"debugRows")),e.getBottomRows=I(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,t)=>e._getPinnedRows(n,t,"bottom"),F(e.options,"debugRows")),e.getCenterRows=I(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,t,s)=>{const r=new Set([...t??[],...s??[]]);return n.filter(o=>!r.has(o.id))},F(e.options,"debugRows"))}},xh={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:J("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var t;return e.setRowSelection(n?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(t=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const s={...t},r=e.getPreGroupedRowModel().flatRows;return n?r.forEach(o=>{o.getCanSelect()&&(s[o.id]=!0)}):r.forEach(o=>{delete s[o.id]}),s})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(t=>{const s=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),r={...t};return e.getRowModel().rows.forEach(o=>{Ss(r,o.id,s,!0,e)}),r}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=I(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,t)=>Object.keys(n).length?Jn(e,t):{rows:[],flatRows:[],rowsById:{}},F(e.options,"debugTable")),e.getFilteredSelectedRowModel=I(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,t)=>Object.keys(n).length?Jn(e,t):{rows:[],flatRows:[],rowsById:{}},F(e.options,"debugTable")),e.getGroupedSelectedRowModel=I(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,t)=>Object.keys(n).length?Jn(e,t):{rows:[],flatRows:[],rowsById:{}},F(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let s=!!(n.length&&Object.keys(t).length);return s&&n.some(r=>r.getCanSelect()&&!t[r.id])&&(s=!1),s},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:t}=e.getState();let s=!!n.length;return s&&n.some(r=>!t[r.id])&&(s=!1),s},e.getIsSomeRowsSelected=()=>{var n;const t=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(t,s)=>{const r=e.getIsSelected();n.setRowSelection(o=>{var i;if(t=typeof t<"u"?t:!r,e.getCanSelect()&&r===t)return o;const a={...o};return Ss(a,e.id,t,(i=s?.selectChildren)!=null?i:!0,n),a})},e.getIsSelected=()=>{const{rowSelection:t}=n.getState();return nr(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=n.getState();return xs(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=n.getState();return xs(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(t=n.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(t=n.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(t=n.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return s=>{var r;t&&e.toggleSelected((r=s.target)==null?void 0:r.checked)}}}},Ss=(e,n,t,s,r)=>{var o;const i=r.getRow(n,!0);t?(i.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),i.getCanSelect()&&(e[n]=!0)):delete e[n],s&&(o=i.subRows)!=null&&o.length&&i.getCanSelectSubRows()&&i.subRows.forEach(a=>Ss(e,a.id,t,s,r))};function Jn(e,n){const t=e.getState().rowSelection,s=[],r={},o=function(i,a){return i.map(l=>{var c;const u=nr(l,t);if(u&&(s.push(l),r[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:o(l.subRows)}),u)return l}).filter(Boolean)};return{rows:o(n.rows),flatRows:s,rowsById:r}}function nr(e,n){var t;return(t=n[e.id])!=null?t:!1}function xs(e,n,t){var s;if(!((s=e.subRows)!=null&&s.length))return!1;let r=!0,o=!1;return e.subRows.forEach(i=>{if(!(o&&!r)&&(i.getCanSelect()&&(nr(i,n)?o=!0:r=!1),i.subRows&&i.subRows.length)){const a=xs(i,n);a==="all"?o=!0:(a==="some"&&(o=!0),r=!1)}}),r?"all":o?"some":!1}const ws=/([0-9]+)/gm,wh=(e,n,t)=>Pi(_e(e.getValue(t)).toLowerCase(),_e(n.getValue(t)).toLowerCase()),bh=(e,n,t)=>Pi(_e(e.getValue(t)),_e(n.getValue(t))),Rh=(e,n,t)=>sr(_e(e.getValue(t)).toLowerCase(),_e(n.getValue(t)).toLowerCase()),_h=(e,n,t)=>sr(_e(e.getValue(t)),_e(n.getValue(t))),Ch=(e,n,t)=>{const s=e.getValue(t),r=n.getValue(t);return s>r?1:s<r?-1:0},Eh=(e,n,t)=>sr(e.getValue(t),n.getValue(t));function sr(e,n){return e===n?0:e>n?1:-1}function _e(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Pi(e,n){const t=e.split(ws).filter(Boolean),s=n.split(ws).filter(Boolean);for(;t.length&&s.length;){const r=t.shift(),o=s.shift(),i=parseInt(r,10),a=parseInt(o,10),l=[i,a].sort();if(isNaN(l[0])){if(r>o)return 1;if(o>r)return-1;continue}if(isNaN(l[1]))return isNaN(i)?-1:1;if(i>a)return 1;if(a>i)return-1}return t.length-s.length}const ct={alphanumeric:wh,alphanumericCaseSensitive:bh,text:Rh,textCaseSensitive:_h,datetime:Ch,basic:Eh},Ph={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:J("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const t=n.getFilteredRowModel().flatRows.slice(10);let s=!1;for(const r of t){const o=r?.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return ct.datetime;if(typeof o=="string"&&(s=!0,o.split(ws).length>1))return ct.alphanumeric}return s?ct.text:ct.basic},e.getAutoSortDir=()=>{const t=n.getFilteredRowModel().flatRows[0];return typeof t?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,s;if(!e)throw new Error;return En(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(s=n.options.sortingFns)==null?void 0:s[e.columnDef.sortingFn])!=null?t:ct[e.columnDef.sortingFn]},e.toggleSorting=(t,s)=>{const r=e.getNextSortingOrder(),o=typeof t<"u"&&t!==null;n.setSorting(i=>{const a=i?.find(h=>h.id===e.id),l=i?.findIndex(h=>h.id===e.id);let c=[],u,p=o?t:r==="desc";if(i!=null&&i.length&&e.getCanMultiSort()&&s?a?u="toggle":u="add":i!=null&&i.length&&l!==i.length-1?u="replace":a?u="toggle":u="replace",u==="toggle"&&(o||r||(u="remove")),u==="add"){var f;c=[...i,{id:e.id,desc:p}],c.splice(0,c.length-((f=n.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else u==="toggle"?c=i.map(h=>h.id===e.id?{...h,desc:p}:h):u==="remove"?c=i.filter(h=>h.id!==e.id):c=[{id:e.id,desc:p}];return c})},e.getFirstSortDir=()=>{var t,s;return((t=(s=e.columnDef.sortDescFirst)!=null?s:n.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var s,r;const o=e.getFirstSortDir(),i=e.getIsSorted();return i?i!==o&&((s=n.options.enableSortingRemoval)==null||s)&&(!(t&&(r=n.options.enableMultiRemove)!=null)||r)?!1:i==="desc"?"asc":"desc":o},e.getCanSort=()=>{var t,s;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((s=n.options.enableSorting)!=null?s:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,s;return(t=(s=e.columnDef.enableMultiSort)!=null?s:n.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const s=(t=n.getState().sorting)==null?void 0:t.find(r=>r.id===e.id);return s?s.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,s;return(t=(s=n.getState().sorting)==null?void 0:s.findIndex(r=>r.id===e.id))!=null?t:-1},e.clearSorting=()=>{n.setSorting(t=>t!=null&&t.length?t.filter(s=>s.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return s=>{t&&(s.persist==null||s.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(s):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var t,s;e.setSorting(n?[]:(t=(s=e.initialState)==null?void 0:s.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Mh=[Yf,ph,ch,uh,Qf,Xf,gh,mh,Ph,ah,vh,yh,Sh,xh,fh];function Ih(e){var n,t;const s=[...Mh,...(n=e._features)!=null?n:[]];let r={_features:s};const o=r._features.reduce((f,h)=>Object.assign(f,h.getDefaultOptions==null?void 0:h.getDefaultOptions(r)),{}),i=f=>r.options.mergeOptions?r.options.mergeOptions(o,f):{...o,...f};let l={...{},...(t=e.initialState)!=null?t:{}};r._features.forEach(f=>{var h;l=(h=f.getInitialState==null?void 0:f.getInitialState(l))!=null?h:l});const c=[];let u=!1;const p={_features:s,options:{...o,...e},initialState:l,_queue:f=>{c.push(f),u||(u=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();u=!1}).catch(h=>setTimeout(()=>{throw h})))},reset:()=>{r.setState(r.initialState)},setOptions:f=>{const h=we(f,r.options);r.options=i(h)},getState:()=>r.options.state,setState:f=>{r.options.onStateChange==null||r.options.onStateChange(f)},_getRowId:(f,h,m)=>{var g;return(g=r.options.getRowId==null?void 0:r.options.getRowId(f,h,m))!=null?g:`${m?[m.id,h].join("."):h}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(f,h)=>{let m=(h?r.getPrePaginationRowModel():r.getRowModel()).rowsById[f];if(!m&&(m=r.getCoreRowModel().rowsById[f],!m))throw new Error;return m},_getDefaultColumnDef:I(()=>[r.options.defaultColumn],f=>{var h;return f=(h=f)!=null?h:{},{header:m=>{const g=m.header.column.columnDef;return g.accessorKey?g.accessorKey:g.accessorFn?g.id:null},cell:m=>{var g,v;return(g=(v=m.renderValue())==null||v.toString==null?void 0:v.toString())!=null?g:null},...r._features.reduce((m,g)=>Object.assign(m,g.getDefaultColumnDef==null?void 0:g.getDefaultColumnDef()),{}),...f}},F(e,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:I(()=>[r._getColumnDefs()],f=>{const h=function(m,g,v){return v===void 0&&(v=0),m.map(y=>{const S=qf(r,y,v,g),w=y;return S.columns=w.columns?h(w.columns,S,v+1):[],S})};return h(f)},F(e,"debugColumns")),getAllFlatColumns:I(()=>[r.getAllColumns()],f=>f.flatMap(h=>h.getFlatColumns()),F(e,"debugColumns")),_getAllFlatColumnsById:I(()=>[r.getAllFlatColumns()],f=>f.reduce((h,m)=>(h[m.id]=m,h),{}),F(e,"debugColumns")),getAllLeafColumns:I(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(f,h)=>{let m=f.flatMap(g=>g.getLeafColumns());return h(m)},F(e,"debugColumns")),getColumn:f=>r._getAllFlatColumnsById()[f]};Object.assign(r,p);for(let f=0;f<r._features.length;f++){const h=r._features[f];h==null||h.createTable==null||h.createTable(r)}return r}function rp(){return e=>I(()=>[e.options.data],n=>{const t={rows:[],flatRows:[],rowsById:{}},s=function(r,o,i){o===void 0&&(o=0);const a=[];for(let c=0;c<r.length;c++){const u=er(e,e._getRowId(r[c],c,i),r[c],c,o,void 0,i?.id);if(t.flatRows.push(u),t.rowsById[u.id]=u,a.push(u),e.options.getSubRows){var l;u.originalSubRows=e.options.getSubRows(r[c],c),(l=u.originalSubRows)!=null&&l.length&&(u.subRows=s(u.originalSubRows,o+1,u))}}return a};return t.rows=s(n),t},F(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Fh(e){const n=[],t=s=>{var r;n.push(s),(r=s.subRows)!=null&&r.length&&s.getIsExpanded()&&s.subRows.forEach(t)};return e.rows.forEach(t),{rows:n,flatRows:e.flatRows,rowsById:e.rowsById}}function Lh(e,n,t){return t.options.filterFromLeafRows?Th(e,n,t):kh(e,n,t)}function Th(e,n,t){var s;const r=[],o={},i=(s=t.options.maxLeafRowFilterDepth)!=null?s:100,a=function(l,c){c===void 0&&(c=0);const u=[];for(let f=0;f<l.length;f++){var p;let h=l[f];const m=er(t,h.id,h.original,h.index,h.depth,void 0,h.parentId);if(m.columnFilters=h.columnFilters,(p=h.subRows)!=null&&p.length&&c<i){if(m.subRows=a(h.subRows,c+1),h=m,n(h)&&!m.subRows.length){u.push(h),o[h.id]=h,r.push(h);continue}if(n(h)||m.subRows.length){u.push(h),o[h.id]=h,r.push(h);continue}}else h=m,n(h)&&(u.push(h),o[h.id]=h,r.push(h))}return u};return{rows:a(e),flatRows:r,rowsById:o}}function kh(e,n,t){var s;const r=[],o={},i=(s=t.options.maxLeafRowFilterDepth)!=null?s:100,a=function(l,c){c===void 0&&(c=0);const u=[];for(let f=0;f<l.length;f++){let h=l[f];if(n(h)){var p;if((p=h.subRows)!=null&&p.length&&c<i){const g=er(t,h.id,h.original,h.index,h.depth,void 0,h.parentId);g.subRows=a(h.subRows,c+1),h=g}u.push(h),r.push(h),o[h.id]=h}}return u};return{rows:a(e),flatRows:r,rowsById:o}}function op(){return e=>I(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(n,t,s)=>{if(!n.rows.length||!(t!=null&&t.length)&&!s){for(let f=0;f<n.flatRows.length;f++)n.flatRows[f].columnFilters={},n.flatRows[f].columnFiltersMeta={};return n}const r=[],o=[];(t??[]).forEach(f=>{var h;const m=e.getColumn(f.id);if(!m)return;const g=m.getFilterFn();g&&r.push({id:f.id,filterFn:g,resolvedValue:(h=g.resolveFilterValue==null?void 0:g.resolveFilterValue(f.value))!=null?h:f.value})});const i=(t??[]).map(f=>f.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());s&&a&&l.length&&(i.push("__global__"),l.forEach(f=>{var h;o.push({id:f.id,filterFn:a,resolvedValue:(h=a.resolveFilterValue==null?void 0:a.resolveFilterValue(s))!=null?h:s})}));let c,u;for(let f=0;f<n.flatRows.length;f++){const h=n.flatRows[f];if(h.columnFilters={},r.length)for(let m=0;m<r.length;m++){c=r[m];const g=c.id;h.columnFilters[g]=c.filterFn(h,g,c.resolvedValue,v=>{h.columnFiltersMeta[g]=v})}if(o.length){for(let m=0;m<o.length;m++){u=o[m];const g=u.id;if(u.filterFn(h,g,u.resolvedValue,v=>{h.columnFiltersMeta[g]=v})){h.columnFilters.__global__=!0;break}}h.columnFilters.__global__!==!0&&(h.columnFilters.__global__=!1)}}const p=f=>{for(let h=0;h<i.length;h++)if(f.columnFilters[i[h]]===!1)return!1;return!0};return Lh(n.rows,p,e)},F(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function ip(e){return n=>I(()=>[n.getState().pagination,n.getPrePaginationRowModel(),n.options.paginateExpandedRows?void 0:n.getState().expanded],(t,s)=>{if(!s.rows.length)return s;const{pageSize:r,pageIndex:o}=t;let{rows:i,flatRows:a,rowsById:l}=s;const c=r*o,u=c+r;i=i.slice(c,u);let p;n.options.paginateExpandedRows?p={rows:i,flatRows:a,rowsById:l}:p=Fh({rows:i,flatRows:a,rowsById:l}),p.flatRows=[];const f=h=>{p.flatRows.push(h),h.subRows.length&&h.subRows.forEach(f)};return p.rows.forEach(f),p},F(n.options,"debugTable"))}function ap(){return e=>I(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,t)=>{if(!t.rows.length||!(n!=null&&n.length))return t;const s=e.getState().sorting,r=[],o=s.filter(l=>{var c;return(c=e.getColumn(l.id))==null?void 0:c.getCanSort()}),i={};o.forEach(l=>{const c=e.getColumn(l.id);c&&(i[l.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=l=>{const c=l.map(u=>({...u}));return c.sort((u,p)=>{for(let h=0;h<o.length;h+=1){var f;const m=o[h],g=i[m.id],v=g.sortUndefined,y=(f=m?.desc)!=null?f:!1;let S=0;if(v){const w=u.getValue(m.id),b=p.getValue(m.id),_=w===void 0,P=b===void 0;if(_||P){if(v==="first")return _?-1:1;if(v==="last")return _?1:-1;S=_&&P?0:_?v:-v}}if(S===0&&(S=g.sortingFn(u,p,m.id)),S!==0)return y&&(S*=-1),g.invertSorting&&(S*=-1),S}return u.index-p.index}),c.forEach(u=>{var p;r.push(u),(p=u.subRows)!=null&&p.length&&(u.subRows=a(u.subRows))}),c};return{rows:a(t.rows),flatRows:r,rowsById:t.rowsById}},F(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function lp(e,n){return e?Ah(e)?x.createElement(e,n):e:null}function Ah(e){return jh(e)||typeof e=="function"||Nh(e)}function jh(e){return typeof e=="function"&&(()=>{const n=Object.getPrototypeOf(e);return n.prototype&&n.prototype.isReactComponent})()}function Nh(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function cp(e){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[t]=x.useState(()=>({current:Ih(n)})),[s,r]=x.useState(()=>t.current.initialState);return t.current.setOptions(o=>({...o,...e,state:{...s,...e.state},onStateChange:i=>{r(i),e.onStateChange==null||e.onStateChange(i)}})),t.current}export{$c as A,je as B,qh as C,Ws as D,qs as E,li as F,cp as G,lp as H,Jh as I,ip as J,ap as K,Re as L,op as M,rp as N,At as O,Yh as P,Hn as Q,Nc as R,Qh as S,$ as _,np as a,ep as b,tp as c,Wr as d,j as e,sp as f,Je as g,Us as h,ae as i,oi as j,ii as k,ai as l,Uh as m,Kh as n,Gh as o,Wh as p,Zh as q,Ds as r,un as s,he as t,ui as u,Xh as v,bn as w,Ks as x,Ys as y,Qs as z};
