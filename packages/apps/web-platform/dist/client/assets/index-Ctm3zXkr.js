const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/GrowthChart-ClIvpRVl.js","assets/vendor-DTXcECKj.js","assets/vendor-charts-CwKjLNYJ.js","assets/PlanDistributionChart-Cwy2P9V7.js"])))=>i.map(i=>d[i]);
import{a as D,P,S as m,o as u,p as _,d as v,e as N,n as k,_ as w}from"./main-D_qbY1gz.js";import{r as a,j as e,bG as j,B as A,U as R,C as T,bq as E,bs as L,bt as O}from"./vendor-DTXcECKj.js";import{C as n,d as i,b as d,c,a as x}from"./Card-ovhP7agJ.js";import{S as h,a as b}from"./Skeleton-Dk1LJCqK.js";import{b as F}from"./internal-api-CvC1OOUg.js";import{c as I}from"./client-logger-BYl5UQzQ.js";import{u as B,m as M}from"./vendor-motion-DirI8ZVJ.js";import"./vendor-sonner-CauEFWQC.js";import"./vendor-sentry-DWdptYQI.js";import"./logger-BML-1mmb.js";const U=a.lazy(()=>w(()=>import("./GrowthChart-ClIvpRVl.js"),__vite__mapDeps([0,1,2]))),z=a.lazy(()=>w(()=>import("./PlanDistributionChart-Cwy2P9V7.js"),__vite__mapDeps([3,1,2])));function Y(){const[p,y]=a.useState(!0),[r,C]=a.useState(null),f=D(F),g=B();a.useEffect(()=>{(async()=>{try{const l=await f({data:{}});C(l)}catch(l){I.error("Failed to fetch overview",l)}finally{y(!1)}})()},[f]);const S=!p&&!r,t=r,o=s=>typeof s=="number"?{value:Math.abs(s),isPositive:s>=0}:void 0;return e.jsxs("div",{className:"space-y-8",children:[e.jsx(P,{title:"Dashboard",description:"Overview of your platform's performance and key metrics"}),S?e.jsx(n,{children:e.jsxs(i,{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(j,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx(d,{className:"text-lg mb-2",children:"No Data Available"}),e.jsx(c,{children:"Platform overview data is not available. Please check back later or contact support."})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:p?e.jsxs(e.Fragment,{children:[e.jsx(h,{}),e.jsx(h,{}),e.jsx(h,{}),e.jsx(h,{})]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{title:"Total Tenants",value:u(r?.tenants?.total??0),trend:o(t?.tenants?.trend),icon:e.jsx(A,{className:"h-5 w-5"}),color:"blue"}),e.jsx(m,{title:"Active Users",value:u(r?.users?.total??0),trend:o(t?.users?.trend),icon:e.jsx(R,{className:"h-5 w-5"}),color:"green"}),e.jsx(m,{title:"Monthly Revenue",value:_(r?.revenue?.mrr??0),trend:o(t?.revenue?.trend),icon:e.jsx(T,{className:"h-5 w-5"}),color:"purple"}),e.jsx(m,{title:"API Calls (24h)",value:u(r?.system?.totalApiCalls24h??0),trend:o(t?.system?.apiCallsTrend),icon:e.jsx(E,{className:"h-5 w-5"}),color:"amber"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(n,{className:"lg:col-span-2",children:[e.jsxs(x,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(d,{children:"Growth Overview"}),e.jsx(c,{children:"Tenant and user growth over the last 6 months"})]}),e.jsx(v,{variant:"muted",children:"Last 6 months"})]}),e.jsx(i,{children:e.jsx("div",{className:"h-[300px]",children:e.jsx(a.Suspense,{fallback:e.jsx(b,{className:"h-[300px] w-full"}),children:t?.growth?.length?e.jsx(U,{data:t.growth}):e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No growth data available"})})})})]}),e.jsxs(n,{children:[e.jsxs(x,{children:[e.jsx(d,{children:"Plan Distribution"}),e.jsx(c,{children:"Breakdown by subscription tier"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"h-[200px]",children:e.jsx(a.Suspense,{fallback:e.jsx(b,{className:"h-[200px] w-full"}),children:t?.planDistribution?.length?e.jsx(z,{data:t.planDistribution}):e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No plan data available"})})}),t?.planDistribution?.length?e.jsx("div",{className:"mt-4 space-y-2",children:t.planDistribution.map(s=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color}}),e.jsx("span",{className:"text-muted-foreground",children:s.name})]}),e.jsxs("span",{className:"font-medium",children:[s.value,"%"]})]},s.name))}):null]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(n,{className:"lg:col-span-2",children:[e.jsxs(x,{children:[e.jsx(d,{children:"Recent Activity"}),e.jsx(c,{children:"Latest actions across the platform"})]}),e.jsx(i,{children:t?.recentActivity?.length?e.jsx("div",{className:"space-y-4",children:t.recentActivity.map((s,l)=>e.jsxs(M.div,{initial:g?!1:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:g?{duration:0}:{delay:l*.05},className:"flex items-start gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:N("p-2 rounded-full shrink-0",s.status==="success"&&"bg-green-500/10 text-green-600",s.status==="warning"&&"bg-amber-500/10 text-amber-600",s.status==="error"&&"bg-red-500/10 text-red-600"),children:[s.status==="success"&&e.jsx(L,{className:"h-4 w-4"}),(s.status==="warning"||s.status==="error")&&e.jsx(O,{className:"h-4 w-4"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium",children:s.action}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.tenant," â€¢ ",s.user]})]}),e.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:e.jsx("span",{title:s.timestamp,children:k(s.timestamp)})})]},s.id))}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(j,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{children:"No recent activity"})]})})]}),e.jsxs(n,{children:[e.jsxs(x,{children:[e.jsx(d,{children:"System Status"}),e.jsx(c,{children:"Current platform health"})]}),e.jsx(i,{children:t?.systemStatus?.services?.length?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:t.systemStatus.services.map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:N("w-2 h-2 rounded-full",s.status==="operational"&&"bg-green-500",s.status==="degraded"&&"bg-amber-500",s.status==="down"&&"bg-red-500"),"aria-hidden":"true"}),e.jsx("span",{className:"text-sm font-medium",children:s.name})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:s.latency}),e.jsx(v,{variant:s.status==="operational"?"success":s.status==="degraded"?"warning":"destructive",size:"sm",children:s.status})]})]},s.name))}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Uptime (30d)"}),e.jsxs("span",{className:"font-medium",children:[t.systemStatus.uptime,"%"]})]}),e.jsx("div",{className:"mt-2 h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${t.systemStatus.uptime}%`}})})]})]}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(j,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{children:"System status unavailable"})]})})]})]})]})]})}export{Y as component};
