import{r,j as e}from"./vendor-DTXcECKj.js";import{G as y,H as p,e as h,B as f,J as D,K as I,M as B,N as V,d as H,s as T}from"./main-D_qbY1gz.js";import{I as E}from"./Input-CvXUl1_l.js";function J({columns:t,data:s,searchable:i=!0,searchKey:o,searchPlaceholder:g="Search…",pageSize:b=10,className:S,isLoading:j=!1,pagination:C=!0,getRowId:w,onSelectionChange:d,onRowClick:c}){const[v,N]=r.useState([]),[R,P]=r.useState([]),[u,m]=r.useState(""),[x,M]=r.useState({}),a=y({data:s,columns:t,getCoreRowModel:V(),getFilteredRowModel:B(),getSortedRowModel:I(),getPaginationRowModel:D(),onSortingChange:N,onColumnFiltersChange:P,onGlobalFilterChange:m,onRowSelectionChange:M,getRowId:w,enableRowSelection:!!d,state:{sorting:v,columnFilters:R,globalFilter:u,rowSelection:x},initialState:{pagination:{pageSize:b}}});r.useEffect(()=>{if(!d)return;const n=a.getSelectedRowModel().rows.map(l=>String(l.id));d(n)},[d,x,a]);const F=r.useCallback(n=>{const l=n.target.value;o?a.getColumn(o)?.setFilterValue(l):m(l)},[o,a]),k=o?a.getColumn(o)?.getFilterValue()??"":u;return e.jsxs("div",{className:h("space-y-4",S),children:[i&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(E,{placeholder:g,value:k,onChange:F,className:"max-w-sm","aria-label":g})}),e.jsx("div",{className:"rounded-md border",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/50",children:a.getHeaderGroups().map(n=>e.jsx("tr",{children:n.headers.map(l=>e.jsx("th",{className:"px-4 py-3 text-left font-medium",scope:"col",children:l.isPlaceholder?null:p(l.column.columnDef.header,l.getContext())},l.id))},n.id))}),e.jsx("tbody",{children:j?e.jsx("tr",{children:e.jsx("td",{colSpan:t.length,className:"px-4 py-8 text-center text-muted-foreground",children:"Loading…"})}):a.getRowModel().rows.length>0?a.getRowModel().rows.map(n=>e.jsx("tr",{className:h("border-t transition-colors",c?"cursor-pointer hover:bg-muted/50":"hover:bg-muted/50"),onClick:c?()=>c(n.original):void 0,children:n.getVisibleCells().map(l=>e.jsx("td",{className:"px-4 py-3",children:p(l.column.columnDef.cell,l.getContext())},l.id))},n.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:t.length,className:"px-4 py-8 text-center text-muted-foreground",children:"No results found."})})})]})}),C!==!1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",a.getRowModel().rows.length," of ",s.length," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{variant:"outline",size:"sm",onClick:()=>a.previousPage(),disabled:!a.getCanPreviousPage(),"aria-label":"Previous page",children:"Previous"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",a.getState().pagination.pageIndex+1," of ",a.getPageCount()]}),e.jsx(f,{variant:"outline",size:"sm",onClick:()=>a.nextPage(),disabled:!a.getCanNextPage(),"aria-label":"Next page",children:"Next"})]})]})]})}function L(t){return({getValue:s})=>{const i=String(s()??""),o=t[i];return e.jsx(H,{variant:o?.variant||"default",children:o?.label||i||"Unknown"})}}function U(){return({getValue:t})=>{const s=t();return!s||typeof s!="string"?"—":T(s)}}function $(){return{id:"select",header:({table:t})=>e.jsx("input",{type:"checkbox","aria-label":"Select all rows",checked:t.getIsAllPageRowsSelected(),onChange:t.getToggleAllPageRowsSelectedHandler()}),cell:({row:t})=>e.jsx("input",{type:"checkbox","aria-label":`Select row ${t.id}`,checked:t.getIsSelected(),disabled:!t.getCanSelect(),onChange:t.getToggleSelectedHandler(),onClick:s=>s.stopPropagation()}),enableSorting:!1,enableColumnFilter:!1}}export{J as D,L as a,U as b,$ as c};
